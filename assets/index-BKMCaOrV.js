(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();var ih={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep;function OE(){if(Ep)return Il;Ep=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:f}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var Tp;function NE(){return Tp||(Tp=1,ih.exports=OE()),ih.exports}var Oe=NE(),rh={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function ME(){if(Ap)return At;Ap=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.iterator;function q(C){return C===null||typeof C!="object"?null:(C=M&&C[M]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,it={};function Z(C,K,ut){this.props=C,this.context=K,this.refs=it,this.updater=ut||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=Z.prototype;function pt(C,K,ut){this.props=C,this.context=K,this.refs=it,this.updater=ut||j}var J=pt.prototype=new St;J.constructor=pt,$(J,Z.prototype),J.isPureReactComponent=!0;var ht=Array.isArray,at={H:null,A:null,T:null,S:null},yt=Object.prototype.hasOwnProperty;function N(C,K,ut,tt,et,Rt){return ut=Rt.ref,{$$typeof:s,type:C,key:K,ref:ut!==void 0?ut:null,props:Rt}}function b(C,K){return N(C.type,K,void 0,void 0,void 0,C.props)}function A(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ut){return K[ut]})}var O=/\/+/g;function L(C,K){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):K.toString(36)}function w(){}function ge(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ue(C,K,ut,tt,et){var Rt=typeof C;(Rt==="undefined"||Rt==="boolean")&&(C=null);var Tt=!1;if(C===null)Tt=!0;else switch(Rt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(C.$$typeof){case s:case e:Tt=!0;break;case S:return Tt=C._init,ue(Tt(C._payload),K,ut,tt,et)}}if(Tt)return et=et(C),Tt=tt===""?"."+L(C,0):tt,ht(et)?(ut="",Tt!=null&&(ut=Tt.replace(O,"$&/")+"/"),ue(et,K,ut,"",function(te){return te})):et!=null&&(A(et)&&(et=b(et,ut+(et.key==null||C&&C.key===et.key?"":(""+et.key).replace(O,"$&/")+"/")+Tt)),K.push(et)),1;Tt=0;var oe=tt===""?".":tt+":";if(ht(C))for(var Lt=0;Lt<C.length;Lt++)tt=C[Lt],Rt=oe+L(tt,Lt),Tt+=ue(tt,K,ut,Rt,et);else if(Lt=q(C),typeof Lt=="function")for(C=Lt.call(C),Lt=0;!(tt=C.next()).done;)tt=tt.value,Rt=oe+L(tt,Lt++),Tt+=ue(tt,K,ut,Rt,et);else if(Rt==="object"){if(typeof C.then=="function")return ue(ge(C),K,ut,tt,et);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function W(C,K,ut){if(C==null)return C;var tt=[],et=0;return ue(C,tt,"","",function(Rt){return K.call(ut,Rt,et++)}),tt}function mt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(ut){(C._status===0||C._status===-1)&&(C._status=1,C._result=ut)},function(ut){(C._status===0||C._status===-1)&&(C._status=2,C._result=ut)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ct=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return At.Children={map:W,forEach:function(C,K,ut){W(C,function(){K.apply(this,arguments)},ut)},count:function(C){var K=0;return W(C,function(){K++}),K},toArray:function(C){return W(C,function(K){return K})||[]},only:function(C){if(!A(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=Z,At.Fragment=i,At.Profiler=u,At.PureComponent=pt,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=at,At.act=function(){throw Error("act(...) is not supported in production builds of React.")},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,K,ut){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var tt=$({},C.props),et=C.key,Rt=void 0;if(K!=null)for(Tt in K.ref!==void 0&&(Rt=void 0),K.key!==void 0&&(et=""+K.key),K)!yt.call(K,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&K.ref===void 0||(tt[Tt]=K[Tt]);var Tt=arguments.length-2;if(Tt===1)tt.children=ut;else if(1<Tt){for(var oe=Array(Tt),Lt=0;Lt<Tt;Lt++)oe[Lt]=arguments[Lt+2];tt.children=oe}return N(C.type,et,void 0,void 0,Rt,tt)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},At.createElement=function(C,K,ut){var tt,et={},Rt=null;if(K!=null)for(tt in K.key!==void 0&&(Rt=""+K.key),K)yt.call(K,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(et[tt]=K[tt]);var Tt=arguments.length-2;if(Tt===1)et.children=ut;else if(1<Tt){for(var oe=Array(Tt),Lt=0;Lt<Tt;Lt++)oe[Lt]=arguments[Lt+2];et.children=oe}if(C&&C.defaultProps)for(tt in Tt=C.defaultProps,Tt)et[tt]===void 0&&(et[tt]=Tt[tt]);return N(C,Rt,void 0,void 0,null,et)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=A,At.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:mt}},At.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},At.startTransition=function(C){var K=at.T,ut={};at.T=ut;try{var tt=C(),et=at.S;et!==null&&et(ut,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(Pt,ct)}catch(Rt){ct(Rt)}finally{at.T=K}},At.unstable_useCacheRefresh=function(){return at.H.useCacheRefresh()},At.use=function(C){return at.H.use(C)},At.useActionState=function(C,K,ut){return at.H.useActionState(C,K,ut)},At.useCallback=function(C,K){return at.H.useCallback(C,K)},At.useContext=function(C){return at.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,K){return at.H.useDeferredValue(C,K)},At.useEffect=function(C,K){return at.H.useEffect(C,K)},At.useId=function(){return at.H.useId()},At.useImperativeHandle=function(C,K,ut){return at.H.useImperativeHandle(C,K,ut)},At.useInsertionEffect=function(C,K){return at.H.useInsertionEffect(C,K)},At.useLayoutEffect=function(C,K){return at.H.useLayoutEffect(C,K)},At.useMemo=function(C,K){return at.H.useMemo(C,K)},At.useOptimistic=function(C,K){return at.H.useOptimistic(C,K)},At.useReducer=function(C,K,ut){return at.H.useReducer(C,K,ut)},At.useRef=function(C){return at.H.useRef(C)},At.useState=function(C){return at.H.useState(C)},At.useSyncExternalStore=function(C,K,ut){return at.H.useSyncExternalStore(C,K,ut)},At.useTransition=function(){return at.H.useTransition()},At.version="19.0.0",At}var Sp;function qh(){return Sp||(Sp=1,rh.exports=ME()),rh.exports}var sa=qh(),ah={exports:{}},Ol={},sh={exports:{}},lh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function UE(){return Rp||(Rp=1,function(s){function e(W,mt){var ct=W.length;W.push(mt);t:for(;0<ct;){var Pt=ct-1>>>1,C=W[Pt];if(0<u(C,mt))W[Pt]=mt,W[ct]=C,ct=Pt;else break t}}function i(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var mt=W[0],ct=W.pop();if(ct!==mt){W[0]=ct;t:for(var Pt=0,C=W.length,K=C>>>1;Pt<K;){var ut=2*(Pt+1)-1,tt=W[ut],et=ut+1,Rt=W[et];if(0>u(tt,ct))et<C&&0>u(Rt,tt)?(W[Pt]=Rt,W[et]=ct,Pt=et):(W[Pt]=tt,W[ut]=ct,Pt=ut);else if(et<C&&0>u(Rt,ct))W[Pt]=Rt,W[et]=ct,Pt=et;else break t}}return mt}function u(W,mt){var ct=W.sortIndex-mt.sortIndex;return ct!==0?ct:W.id-mt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],S=1,M=null,q=3,j=!1,$=!1,it=!1,Z=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function J(W){for(var mt=i(v);mt!==null;){if(mt.callback===null)a(v);else if(mt.startTime<=W)a(v),mt.sortIndex=mt.expirationTime,e(_,mt);else break;mt=i(v)}}function ht(W){if(it=!1,J(W),!$)if(i(_)!==null)$=!0,ge();else{var mt=i(v);mt!==null&&ue(ht,mt.startTime-W)}}var at=!1,yt=-1,N=5,b=-1;function A(){return!(s.unstable_now()-b<N)}function D(){if(at){var W=s.unstable_now();b=W;var mt=!0;try{t:{$=!1,it&&(it=!1,St(yt),yt=-1),j=!0;var ct=q;try{e:{for(J(W),M=i(_);M!==null&&!(M.expirationTime>W&&A());){var Pt=M.callback;if(typeof Pt=="function"){M.callback=null,q=M.priorityLevel;var C=Pt(M.expirationTime<=W);if(W=s.unstable_now(),typeof C=="function"){M.callback=C,J(W),mt=!0;break e}M===i(_)&&a(_),J(W)}else a(_);M=i(_)}if(M!==null)mt=!0;else{var K=i(v);K!==null&&ue(ht,K.startTime-W),mt=!1}}break t}finally{M=null,q=ct,j=!1}mt=void 0}}finally{mt?O():at=!1}}}var O;if(typeof pt=="function")O=function(){pt(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,w=L.port2;L.port1.onmessage=D,O=function(){w.postMessage(null)}}else O=function(){Z(D,0)};function ge(){at||(at=!0,O())}function ue(W,mt){yt=Z(function(){W(s.unstable_now())},mt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_continueExecution=function(){$||j||($=!0,ge())},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return q},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(W){switch(q){case 1:case 2:case 3:var mt=3;break;default:mt=q}var ct=q;q=mt;try{return W()}finally{q=ct}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(W,mt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ct=q;q=W;try{return mt()}finally{q=ct}},s.unstable_scheduleCallback=function(W,mt,ct){var Pt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Pt+ct:Pt):ct=Pt,W){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ct+C,W={id:S++,callback:mt,priorityLevel:W,startTime:ct,expirationTime:C,sortIndex:-1},ct>Pt?(W.sortIndex=ct,e(v,W),i(_)===null&&W===i(v)&&(it?(St(yt),yt=-1):it=!0,ue(ht,ct-Pt))):(W.sortIndex=C,e(_,W),$||j||($=!0,ge())),W},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(W){var mt=q;return function(){var ct=q;q=mt;try{return W.apply(this,arguments)}finally{q=ct}}}}(lh)),lh}var bp;function xE(){return bp||(bp=1,sh.exports=UE()),sh.exports}var uh={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function LE(){if(wp)return He;wp=1;var s=qh();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(_,v,S){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:M==null?null:""+M,children:_,containerInfo:v,implementation:S}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,S)},He.flushSync=function(_){var v=d.T,S=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=S,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,M=g(S,v.crossOrigin),q=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:M,integrity:q,fetchPriority:j}):S==="script"&&a.d.X(_,{crossOrigin:M,integrity:q,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,M=g(S,v.crossOrigin);a.d.L(_,S,{crossOrigin:M,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var Dp;function zE(){if(Dp)return uh.exports;Dp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),uh.exports=LE(),uh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function BE(){if(Cp)return Ol;Cp=1;var s=xE(),e=qh(),i=zE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var f=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),q=Symbol.for("react.consumer"),j=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),it=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),St=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ht=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function yt(t){return t===null||typeof t!="object"?null:(t=at&&t[at]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function b(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case S:return"Profiler";case v:return"StrictMode";case it:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case q:return(t._context.displayName||"Context")+".Consumer";case $:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case St:return n=t.displayName||null,n!==null?n:b(t.type)||"Memo";case pt:n=t._payload,t=t._init;try{return b(t(n))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,O,L;function w(t){if(O===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);O=n&&n[1]||"",L=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+O+t+L}var ge=!1;function ue(t,n){if(!t||ge)return"";ge=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var B=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){B=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){B=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var R=y.split(`
`),I=E.split(`
`);for(c=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;if(l===R.length||c===I.length)for(l=R.length-1,c=I.length-1;1<=l&&0<=c&&R[l]!==I[c];)c--;for(;1<=l&&0<=c;l--,c--)if(R[l]!==I[c]){if(l!==1||c!==1)do if(l--,c--,0>c||R[l]!==I[c]){var H=`
`+R[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{ge=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function W(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=ue(t.type,!1),t;case 11:return t=ue(t.type.render,!1),t;case 1:return t=ue(t.type,!0),t;default:return""}}function mt(t){try{var n="";do n+=W(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ct(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Pt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(ct(t)!==t)throw Error(a(188))}function K(t){var n=t.alternate;if(!n){if(n=ct(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return C(c),t;if(h===l)return C(c),n;h=h.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=h;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=h;break}if(E===l){y=!0,l=c,r=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===r){y=!0,r=h,l=c;break}if(E===l){y=!0,l=h,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function ut(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ut(t),n!==null)return n;t=t.sibling}return null}var tt=Array.isArray,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Rt={pending:!1,data:null,method:null,action:null},Tt=[],oe=-1;function Lt(t){return{current:t}}function te(t){0>oe||(t.current=Tt[oe],Tt[oe]=null,oe--)}function jt(t,n){oe++,Tt[oe]=t.current,t.current=n}var Fe=Lt(null),ri=Lt(null),cn=Lt(null),Ui=Lt(null);function xi(t,n){switch(jt(cn,n),jt(ri,t),jt(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Xg(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=Xg(t),n=Zg(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(Fe),jt(Fe,n)}function ai(){te(Fe),te(ri),te(cn)}function bs(t){t.memoizedState!==null&&jt(Ui,t);var n=Fe.current,r=Zg(n,t.type);n!==r&&(jt(ri,t),jt(Fe,r))}function ga(t){ri.current===t&&(te(Fe),te(ri)),Ui.current===t&&(te(Ui),bl._currentValue=Rt)}var pa=Object.prototype.hasOwnProperty,Cr=s.unstable_scheduleCallback,ya=s.unstable_cancelCallback,rc=s.unstable_shouldYield,ws=s.unstable_requestPaint,Je=s.unstable_now,Jl=s.unstable_getCurrentPriorityLevel,pe=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,si=s.unstable_NormalPriority,Wl=s.unstable_LowPriority,Ds=s.unstable_IdlePriority,ac=s.log,Vr=s.unstable_setDisableYieldValue,Li=null,Pe=null;function Cs(t){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Li,t,void 0,(t.current.flags&128)===128)}catch{}}function zn(t){if(typeof ac=="function"&&Vr(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Li,t)}catch{}}var Ye=Math.clz32?Math.clz32:eu,Vs=Math.log,tu=Math.LN2;function eu(t){return t>>>=0,t===0?32:31-(Vs(t)/tu|0)|0}var Bn=128,zi=4194304;function Vn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,h=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=Vn(r):(h&=E,h!==0?l=Vn(h):t||(y=E&~y,y!==0&&(l=Vn(y))))):(E=r&~c,E!==0?l=Vn(E):h!==0?l=Vn(h):t||(y=r&~y,y!==0&&(l=Vn(y)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function Bi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function _a(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Is(){var t=Bn;return Bn<<=1,!(Bn&4194176)&&(Bn=128),t}function qi(){var t=zi;return zi<<=1,!(zi&62914560)&&(zi=4194304),t}function va(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ae(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function nu(t,n,r,l,c,h){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,R=t.expirationTimes,I=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Ye(r),Y=1<<H;E[H]=0,R[H]=-1;var B=I[H];if(B!==null)for(I[H]=null,H=0;H<B.length;H++){var k=B[H];k!==null&&(k.lane&=-536870913)}r&=~Y}l!==0&&Pi(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function Pi(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function ki(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function iu(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function ru(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:mp(t.type))}function Hi(t,n){var r=et.p;try{return et.p=t,n()}finally{et.p=r}}var qn=Math.random().toString(36).slice(2),be="__reactFiber$"+qn,ye="__reactProps$"+qn,li="__reactContainer$"+qn,Ir="__reactEvents$"+qn,Ea="__reactListeners$"+qn,Pn="__reactHandles$"+qn,Os="__reactResources$"+qn,ji="__reactMarker$"+qn;function Or(t){delete t[be],delete t[ye],delete t[Ir],delete t[Ea],delete t[Pn]}function In(t){var n=t[be];if(n)return n;for(var r=t.parentNode;r;){if(n=r[li]||r[be]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Wg(t);t!==null;){if(r=t[be])return r;t=Wg(t)}return n}t=r,r=t.parentNode}return null}function ui(t){if(t=t[be]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Gi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Qi(t){var n=t[Os];return n||(n=t[Os]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(t){t[ji]=!0}var Ns=new Set,Ta={};function nn(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(Ta[t]=n,t=0;t<n.length;t++)Ns.add(n[t])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ms={},Us={};function au(t){return pa.call(Us,t)?!0:pa.call(Ms,t)?!1:sc.test(t)?Us[t]=!0:(Ms[t]=!0,!1)}function Fi(t,n,r){if(au(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Yi(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function hn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function su(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function lc(t){var n=su(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Nr(t){t._valueTracker||(t._valueTracker=lc(t))}function xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=su(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Aa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oi=/[\n"\\]/g;function ee(t){return t.replace(oi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Ki(t,n,r,l,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Sa(t,y,Ke(n)):r!=null?Sa(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Mr(t,n,r,l,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Sa(t,n,r){n==="number"&&Aa(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ur(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Xi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(tt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function dn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var uc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ls(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||uc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function lu(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&Ls(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&Ls(t,h,n[h])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kn(t){return cc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var mn=null;function Ra(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,fi=null;function hi(t){var n=ui(t);if(n&&(t=n.stateNode)){var r=t[ye]||null;t:switch(t=n.stateNode,n.type){case"input":if(Ki(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ee(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[ye]||null;if(!c)throw Error(a(90));Ki(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&xs(l)}break t;case"textarea":Ur(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&zt(t,!!r.multiple,n,!1)}}}var Bs=!1;function uu(t,n,r){if(Bs)return t(n,r);Bs=!0;try{var l=t(n);return l}finally{if(Bs=!1,(ci!==null||fi!==null)&&(Wu(),ci&&(n=ci,t=fi,fi=ci=null,hi(n),t)))for(n=0;n<t.length;n++)hi(t[n])}}function xr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[ye]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var gn=!1;if(rn)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){gn=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{gn=!1}var Hn=null,Zi=null,di=null;function qs(){if(di)return di;var t,n=Zi,r=n.length,l,c="value"in Hn?Hn.value:Hn.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[h-l];l++);return di=c.slice(t,1<l?1-l:void 0)}function jn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Gn(){return!0}function Ps(){return!1}function we(t){function n(r,l,c,h,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Gn:Ps,this.isPropagationStopped=Ps,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gn)},persist:function(){},isPersistent:Gn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=we(kt),zr=D({},kt,{view:0,detail:0}),ou=we(zr),wa,Da,Qn,Br=D({},zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qn&&(Qn&&t.type==="mousemove"?(wa=t.screenX-Qn.screenX,Da=t.screenY-Qn.screenY):Da=wa=0,Qn=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Da}}),pn=we(Br),cu=D({},Br,{dataTransfer:0}),fc=we(cu),qr=D({},zr,{relatedTarget:0}),Ca=we(qr),ks=D({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Va=we(ks),fu=D({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ia=we(fu),hc=D({},kt,{data:0}),Hs=we(hc),Pr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=du[t])?!!n[t]:!1}function kr(){return js}var mu=D({},zr,{key:function(t){if(t.key){var n=Pr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=jn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?hu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(t){return t.type==="keypress"?jn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oa=we(mu),gu=D({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gs=we(gu),mi=D({},zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),pu=we(mi),yu=D({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),_u=we(yu),vu=D({},Br,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=we(vu),Xe=D({},kt,{newState:0,oldState:0}),Eu=we(Xe),Tu=[9,13,27,32],Fn=rn&&"CompositionEvent"in window,o=null;rn&&"documentMode"in document&&(o=document.documentMode);var m=rn&&"TextEvent"in window&&!o,p=rn&&(!Fn||o&&8<o&&11>=o),T=" ",x=!1;function P(t,n){switch(t){case"keyup":return Tu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function X(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function _e(t,n){switch(t){case"compositionend":return X(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function Nt(t,n){if(Ot)return t==="compositionend"||!Fn&&P(t,n)?(t=qs(),di=Zi=Hn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ve(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function gi(t,n,r,l){ci?fi?fi.push(l):fi=[l]:ci=l,n=ro(n,"onChange"),0<n.length&&(r=new ba("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Yn=null;function Qs(t){Gg(t,0)}function Au(t){var n=Gi(t);if(xs(n))return t}function vd(t,n){if(t==="change")return n}var Ed=!1;if(rn){var dc;if(rn){var mc="oninput"in document;if(!mc){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),mc=typeof Td.oninput=="function"}dc=mc}else dc=!1;Ed=dc&&(!document.documentMode||9<document.documentMode)}function Ad(){Me&&(Me.detachEvent("onpropertychange",Sd),Yn=Me=null)}function Sd(t){if(t.propertyName==="value"&&Au(Yn)){var n=[];gi(n,Yn,t,Ra(t)),uu(Qs,n)}}function lv(t,n,r){t==="focusin"?(Ad(),Me=n,Yn=r,Me.attachEvent("onpropertychange",Sd)):t==="focusout"&&Ad()}function uv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Au(Yn)}function ov(t,n){if(t==="click")return Au(n)}function cv(t,n){if(t==="input"||t==="change")return Au(n)}function fv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:fv;function Fs(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!pa.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Rd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bd(t,n){var r=Rd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Rd(r)}}function wd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Dd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Aa(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Aa(t.document)}return n}function gc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function hv(t,n){var r=Dd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&wd(n.ownerDocument.documentElement,n)){if(l!==null&&gc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,h=Math.min(l.start,c);l=l.end===void 0?h:Math.min(l.end,c),!r.extend&&h>l&&(c=l,l=h,h=c),c=bd(n,h);var y=bd(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),h>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var dv=rn&&"documentMode"in document&&11>=document.documentMode,Ma=null,pc=null,Ys=null,yc=!1;function Cd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yc||Ma==null||Ma!==Aa(l)||(l=Ma,"selectionStart"in l&&gc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ys&&Fs(Ys,l)||(Ys=l,l=ro(pc,"onSelect"),0<l.length&&(n=new ba("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ma)))}function Hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ua={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},_c={},Vd={};rn&&(Vd=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function jr(t){if(_c[t])return _c[t];if(!Ua[t])return t;var n=Ua[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Vd)return _c[t]=n[r];return t}var Id=jr("animationend"),Od=jr("animationiteration"),Nd=jr("animationstart"),mv=jr("transitionrun"),gv=jr("transitionstart"),pv=jr("transitioncancel"),Md=jr("transitionend"),Ud=new Map,xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){Ud.set(t,n),nn(n,[t])}var yn=[],xa=0,vc=0;function Su(){for(var t=xa,n=vc=xa=0;n<t;){var r=yn[n];yn[n++]=null;var l=yn[n];yn[n++]=null;var c=yn[n];yn[n++]=null;var h=yn[n];if(yn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&Ld(r,c,h)}}function Ru(t,n,r,l){yn[xa++]=t,yn[xa++]=n,yn[xa++]=r,yn[xa++]=l,vc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ec(t,n,r,l){return Ru(t,n,r,l),bu(t)}function $i(t,n){return Ru(t,null,null,n),bu(t)}function Ld(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;c&&n!==null&&t.tag===3&&(h=t.stateNode,c=31-Ye(r),h=h.hiddenUpdates,t=h[c],t===null?h[c]=[n]:t.push(n),n.lane=r|536870912)}function bu(t){if(50<_l)throw _l=0,Df=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var La={},zd=new WeakMap;function _n(t,n){if(typeof t=="object"&&t!==null){var r=zd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:mt(n)},zd.set(t,n),n)}return{value:t,source:n,stack:mt(n)}}var za=[],Ba=0,wu=null,Du=0,vn=[],En=0,Gr=null,pi=1,yi="";function Qr(t,n){za[Ba++]=Du,za[Ba++]=wu,wu=t,Du=n}function Bd(t,n,r){vn[En++]=pi,vn[En++]=yi,vn[En++]=Gr,Gr=t;var l=pi;t=yi;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var h=32-Ye(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-Ye(n)+c|r<<c|l,yi=h+t}else pi=1<<h|r<<c|l,yi=t}function Tc(t){t.return!==null&&(Qr(t,1),Bd(t,1,0))}function Ac(t){for(;t===wu;)wu=za[--Ba],za[Ba]=null,Du=za[--Ba],za[Ba]=null;for(;t===Gr;)Gr=vn[--En],vn[En]=null,yi=vn[--En],vn[En]=null,pi=vn[--En],vn[En]=null}var Ze=null,Ue=null,Bt=!1,Nn=null,Kn=!1,Sc=Error(a(519));function Fr(t){var n=Error(a(418,""));throw Zs(_n(n,t)),Sc}function qd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[be]=t,n[ye]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<El.length;r++)Vt(El[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Mr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Nr(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Xi(n,l.value,l.defaultValue,l.children),Nr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Kg(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=ao),n=!0):n=!1,n||Fr(t)}function Pd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Kn=!0;return;case 5:case 13:Kn=!1;return;default:Ze=Ze.return}}function Ks(t){if(t!==Ze)return!1;if(!Bt)return Pd(t),Bt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Gf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Fr(t),Pd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=Un(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?Un(t.stateNode.nextSibling):null;return!0}function Xs(){Ue=Ze=null,Bt=!1}function Zs(t){Nn===null?Nn=[t]:Nn.push(t)}var $s=Error(a(460)),kd=Error(a(474)),Rc={then:function(){}};function Hd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Cu(){}function jd(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Cu,Cu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$s?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Cu,Cu);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===$s?Error(a(483)):t}throw Js=n,$s}}var Js=null;function Gd(){if(Js===null)throw Error(a(459));var t=Js;return Js=null,t}var qa=null,Ws=0;function Vu(t){var n=Ws;return Ws+=1,qa===null&&(qa=[]),jd(qa,t,n)}function tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Iu(t,n){throw n.$$typeof===f?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Qd(t){var n=t._init;return n(t._payload)}function Fd(t){function n(U,V){if(t){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=or(U,V),U.index=0,U.sibling=null,U}function h(U,V,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=33554434,V):z):(U.flags|=33554434,V)):(U.flags|=1048576,V)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,V,z,G){return V===null||V.tag!==6?(V=vf(z,U.mode,G),V.return=U,V):(V=c(V,z),V.return=U,V)}function R(U,V,z,G){var st=z.type;return st===_?H(U,V,z.props.children,G,z.key):V!==null&&(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===pt&&Qd(st)===V.type)?(V=c(V,z.props),tl(V,z),V.return=U,V):(V=Ku(z.type,z.key,z.props,null,U.mode,G),tl(V,z),V.return=U,V)}function I(U,V,z,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=Ef(z,U.mode,G),V.return=U,V):(V=c(V,z.children||[]),V.return=U,V)}function H(U,V,z,G,st){return V===null||V.tag!==7?(V=na(z,U.mode,G,st),V.return=U,V):(V=c(V,z),V.return=U,V)}function Y(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=vf(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return z=Ku(V.type,V.key,V.props,null,U.mode,z),tl(z,V),z.return=U,z;case g:return V=Ef(V,U.mode,z),V.return=U,V;case pt:var G=V._init;return V=G(V._payload),Y(U,V,z)}if(tt(V)||yt(V))return V=na(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return Y(U,Vu(V),z);if(V.$$typeof===j)return Y(U,Qu(U,V),z);Iu(U,V)}return null}function B(U,V,z,G){var st=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return st!==null?null:E(U,V,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===st?R(U,V,z,G):null;case g:return z.key===st?I(U,V,z,G):null;case pt:return st=z._init,z=st(z._payload),B(U,V,z,G)}if(tt(z)||yt(z))return st!==null?null:H(U,V,z,G,null);if(typeof z.then=="function")return B(U,V,Vu(z),G);if(z.$$typeof===j)return B(U,V,Qu(U,z),G);Iu(U,z)}return null}function k(U,V,z,G,st){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(z)||null,E(V,U,""+G,st);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?z:G.key)||null,R(V,U,G,st);case g:return U=U.get(G.key===null?z:G.key)||null,I(V,U,G,st);case pt:var wt=G._init;return G=wt(G._payload),k(U,V,z,G,st)}if(tt(G)||yt(G))return U=U.get(z)||null,H(V,U,G,st,null);if(typeof G.then=="function")return k(U,V,z,Vu(G),st);if(G.$$typeof===j)return k(U,V,z,Qu(V,G),st);Iu(V,G)}return null}function lt(U,V,z,G){for(var st=null,wt=null,ot=V,dt=V=0,Ie=null;ot!==null&&dt<z.length;dt++){ot.index>dt?(Ie=ot,ot=null):Ie=ot.sibling;var qt=B(U,ot,z[dt],G);if(qt===null){ot===null&&(ot=Ie);break}t&&ot&&qt.alternate===null&&n(U,ot),V=h(qt,V,dt),wt===null?st=qt:wt.sibling=qt,wt=qt,ot=Ie}if(dt===z.length)return r(U,ot),Bt&&Qr(U,dt),st;if(ot===null){for(;dt<z.length;dt++)ot=Y(U,z[dt],G),ot!==null&&(V=h(ot,V,dt),wt===null?st=ot:wt.sibling=ot,wt=ot);return Bt&&Qr(U,dt),st}for(ot=l(ot);dt<z.length;dt++)Ie=k(ot,U,dt,z[dt],G),Ie!==null&&(t&&Ie.alternate!==null&&ot.delete(Ie.key===null?dt:Ie.key),V=h(Ie,V,dt),wt===null?st=Ie:wt.sibling=Ie,wt=Ie);return t&&ot.forEach(function(pr){return n(U,pr)}),Bt&&Qr(U,dt),st}function vt(U,V,z,G){if(z==null)throw Error(a(151));for(var st=null,wt=null,ot=V,dt=V=0,Ie=null,qt=z.next();ot!==null&&!qt.done;dt++,qt=z.next()){ot.index>dt?(Ie=ot,ot=null):Ie=ot.sibling;var pr=B(U,ot,qt.value,G);if(pr===null){ot===null&&(ot=Ie);break}t&&ot&&pr.alternate===null&&n(U,ot),V=h(pr,V,dt),wt===null?st=pr:wt.sibling=pr,wt=pr,ot=Ie}if(qt.done)return r(U,ot),Bt&&Qr(U,dt),st;if(ot===null){for(;!qt.done;dt++,qt=z.next())qt=Y(U,qt.value,G),qt!==null&&(V=h(qt,V,dt),wt===null?st=qt:wt.sibling=qt,wt=qt);return Bt&&Qr(U,dt),st}for(ot=l(ot);!qt.done;dt++,qt=z.next())qt=k(ot,U,dt,qt.value,G),qt!==null&&(t&&qt.alternate!==null&&ot.delete(qt.key===null?dt:qt.key),V=h(qt,V,dt),wt===null?st=qt:wt.sibling=qt,wt=qt);return t&&ot.forEach(function(IE){return n(U,IE)}),Bt&&Qr(U,dt),st}function re(U,V,z,G){if(typeof z=="object"&&z!==null&&z.type===_&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:t:{for(var st=z.key;V!==null;){if(V.key===st){if(st=z.type,st===_){if(V.tag===7){r(U,V.sibling),G=c(V,z.props.children),G.return=U,U=G;break t}}else if(V.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===pt&&Qd(st)===V.type){r(U,V.sibling),G=c(V,z.props),tl(G,z),G.return=U,U=G;break t}r(U,V);break}else n(U,V);V=V.sibling}z.type===_?(G=na(z.props.children,U.mode,G,z.key),G.return=U,U=G):(G=Ku(z.type,z.key,z.props,null,U.mode,G),tl(G,z),G.return=U,U=G)}return y(U);case g:t:{for(st=z.key;V!==null;){if(V.key===st)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){r(U,V.sibling),G=c(V,z.children||[]),G.return=U,U=G;break t}else{r(U,V);break}else n(U,V);V=V.sibling}G=Ef(z,U.mode,G),G.return=U,U=G}return y(U);case pt:return st=z._init,z=st(z._payload),re(U,V,z,G)}if(tt(z))return lt(U,V,z,G);if(yt(z)){if(st=yt(z),typeof st!="function")throw Error(a(150));return z=st.call(z),vt(U,V,z,G)}if(typeof z.then=="function")return re(U,V,Vu(z),G);if(z.$$typeof===j)return re(U,V,Qu(U,z),G);Iu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(r(U,V.sibling),G=c(V,z),G.return=U,U=G):(r(U,V),G=vf(z,U.mode,G),G.return=U,U=G),y(U)):r(U,V)}return function(U,V,z,G){try{Ws=0;var st=re(U,V,z,G);return qa=null,st}catch(ot){if(ot===$s)throw ot;var wt=Rn(29,ot,null,U.mode);return wt.lanes=G,wt.return=U,wt}finally{}}}var Yr=Fd(!0),Yd=Fd(!1),Pa=Lt(null),Ou=Lt(0);function Kd(t,n){t=Ci,jt(Ou,t),jt(Pa,n),Ci=t|n.baseLanes}function bc(){jt(Ou,Ci),jt(Pa,Pa.current)}function wc(){Ci=Ou.current,te(Pa),te(Ou)}var Tn=Lt(null),Xn=null;function Ji(t){var n=t.alternate;jt(Ee,Ee.current&1),jt(Tn,t),Xn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Xn=t)}function Xd(t){if(t.tag===22){if(jt(Ee,Ee.current),jt(Tn,t),Xn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Xn=t)}}else Wi()}function Wi(){jt(Ee,Ee.current),jt(Tn,Tn.current)}function _i(t){te(Tn),Xn===t&&(Xn=null),te(Ee)}var Ee=Lt(0);function Nu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var yv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},_v=s.unstable_scheduleCallback,vv=s.unstable_NormalPriority,Te={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dc(){return{controller:new yv,data:new Map,refCount:0}}function el(t){t.refCount--,t.refCount===0&&_v(vv,function(){t.controller.abort()})}var nl=null,Cc=0,ka=0,Ha=null;function Ev(t,n){if(nl===null){var r=nl=[];Cc=0,ka=xf(),Ha={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Cc++,n.then(Zd,Zd),n}function Zd(){if(--Cc===0&&nl!==null){Ha!==null&&(Ha.status="fulfilled");var t=nl;nl=null,ka=0,Ha=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Tv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var $d=A.S;A.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Ev(t,n),$d!==null&&$d(t,n)};var Kr=Lt(null);function Vc(){var t=Kr.current;return t!==null?t:Yt.pooledCache}function Mu(t,n){n===null?jt(Kr,Kr.current):jt(Kr,n.pool)}function Jd(){var t=Vc();return t===null?null:{parent:Te._currentValue,pool:t}}var tr=0,bt=null,Gt=null,ce=null,Uu=!1,ja=!1,Xr=!1,xu=0,il=0,Ga=null,Av=0;function se(){throw Error(a(321))}function Ic(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function Oc(t,n,r,l,c,h){return tr=h,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=t===null||t.memoizedState===null?Zr:er,Xr=!1,h=r(l,c),Xr=!1,ja&&(h=tm(n,r,l,c)),Wd(t),h}function Wd(t){A.H=Zn;var n=Gt!==null&&Gt.next!==null;if(tr=0,ce=Gt=bt=null,Uu=!1,il=0,Ga=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&Gu(t)&&(Ce=!0))}function tm(t,n,r,l){bt=t;var c=0;do{if(ja&&(Ga=null),il=0,ja=!1,25<=c)throw Error(a(301));if(c+=1,ce=Gt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}A.H=$r,h=n(r,l)}while(ja);return h}function Sv(){var t=A.H,n=t.useState()[0];return n=typeof n.then=="function"?rl(n):n,t=t.useState()[0],(Gt!==null?Gt.memoizedState:null)!==t&&(bt.flags|=1024),n}function Nc(){var t=xu!==0;return xu=0,t}function Mc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Uc(t){if(Uu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Uu=!1}tr=0,ce=Gt=bt=null,ja=!1,il=xu=0,Ga=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ce===null?bt.memoizedState=ce=t:ce=ce.next=t,ce}function fe(){if(Gt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var n=ce===null?bt.memoizedState:ce.next;if(n!==null)ce=n,Gt=t;else{if(t===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},ce===null?bt.memoizedState=ce=t:ce=ce.next=t}return ce}var Lu;Lu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function rl(t){var n=il;return il+=1,Ga===null&&(Ga=[]),t=jd(Ga,t,n),n=bt,(ce===null?n.memoizedState:ce.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Zr:er),t}function zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===j)return ke(t)}throw Error(a(438,String(t)))}function xc(t){var n=null,r=bt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Lu(),bt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=ht;return n.index++,r}function vi(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=fe();return Lc(n,Gt,t)}function Lc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=y=null,R=null,I=n,H=!1;do{var Y=I.lane&-536870913;if(Y!==I.lane?(Mt&Y)===Y:(tr&Y)===Y){var B=I.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Y===ka&&(H=!0);else if((tr&B)===B){I=I.next,B===ka&&(H=!0);continue}else Y={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},R===null?(E=R=Y,y=h):R=R.next=Y,bt.lanes|=B,cr|=B;Y=I.action,Xr&&r(h,Y),h=I.hasEagerState?I.eagerState:r(h,Y)}else B={lane:Y,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},R===null?(E=R=B,y=h):R=R.next=B,bt.lanes|=Y,cr|=Y;I=I.next}while(I!==null&&I!==n);if(R===null?y=h:R.next=E,!an(h,t.memoizedState)&&(Ce=!0,H&&(r=Ha,r!==null)))throw r;t.memoizedState=h,t.baseState=y,t.baseQueue=R,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zc(t){var n=fe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);an(h,n.memoizedState)||(Ce=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function em(t,n,r){var l=bt,c=fe(),h=Bt;if(h){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!an((Gt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ce=!0),c=c.queue,Pc(rm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||ce!==null&&ce.memoizedState.tag&1){if(l.flags|=2048,Qa(9,im.bind(null,l,c,r,n),{destroy:void 0},null),Yt===null)throw Error(a(349));h||tr&60||nm(l,n,r)}return r}function nm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=bt.updateQueue,n===null?(n=Lu(),bt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function im(t,n,r,l){n.value=r,n.getSnapshot=l,am(n)&&sm(t)}function rm(t,n,r){return r(function(){am(n)&&sm(t)})}function am(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function sm(t){var n=$i(t,2);n!==null&&$e(n,t,2)}function Bc(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),Xr){zn(!0);try{r()}finally{zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function lm(t,n,r,l){return t.baseState=r,Lc(t,Gt,typeof l=="function"?l:vi)}function Rv(t,n,r,l,c){if(ku(t))throw Error(a(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};A.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,um(n,h)):(h.next=r.next,n.pending=r.next=h)}}function um(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=A.T,y={};A.T=y;try{var E=r(c,l),R=A.S;R!==null&&R(y,E),om(t,n,E)}catch(I){qc(t,n,I)}finally{A.T=h}}else try{h=r(c,l),om(t,n,h)}catch(I){qc(t,n,I)}}function om(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){cm(t,n,l)},function(l){return qc(t,n,l)}):cm(t,n,r)}function cm(t,n,r){n.status="fulfilled",n.value=r,fm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,um(t,r)))}function qc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,fm(n),n=n.next;while(n!==l)}t.action=null}function fm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function hm(t,n){return n}function dm(t,n){if(Bt){var r=Yt.formState;if(r!==null){t:{var l=bt;if(Bt){if(Ue){e:{for(var c=Ue,h=Kn;c.nodeType!==8;){if(!h){c=null;break e}if(c=Un(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Ue=Un(c.nextSibling),l=c.data==="F!";break t}}Fr(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hm,lastRenderedState:n},r.queue=l,r=Om.bind(null,bt,l),l.dispatch=r,l=Bc(!1),h=Qc.bind(null,bt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Rv.bind(null,bt,c,h,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function mm(t){var n=fe();return gm(n,Gt,t)}function gm(t,n,r){n=Lc(t,n,hm)[0],t=Bu(vi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?rl(n):n;var l=fe(),c=l.queue,h=c.dispatch;return r!==l.memoizedState&&(bt.flags|=2048,Qa(9,bv.bind(null,c,r),{destroy:void 0},null)),[n,h,t]}function bv(t,n){t.action=n}function pm(t){var n=fe(),r=Gt;if(r!==null)return gm(n,r,t);fe(),n=n.memoizedState,r=fe();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Qa(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=bt.updateQueue,n===null&&(n=Lu(),bt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function ym(){return fe().memoizedState}function qu(t,n,r,l){var c=tn();bt.flags|=t,c.memoizedState=Qa(1|n,r,{destroy:void 0},l===void 0?null:l)}function Pu(t,n,r,l){var c=fe();l=l===void 0?null:l;var h=c.memoizedState.inst;Gt!==null&&l!==null&&Ic(l,Gt.memoizedState.deps)?c.memoizedState=Qa(n,r,h,l):(bt.flags|=t,c.memoizedState=Qa(1|n,r,h,l))}function _m(t,n){qu(8390656,8,t,n)}function Pc(t,n){Pu(2048,8,t,n)}function vm(t,n){return Pu(4,2,t,n)}function Em(t,n){return Pu(4,4,t,n)}function Tm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Am(t,n,r){r=r!=null?r.concat([t]):null,Pu(4,4,Tm.bind(null,n,t),r)}function kc(){}function Sm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Ic(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Rm(t,n){var r=fe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Ic(n,l[1]))return l[0];if(l=t(),Xr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l}function Hc(t,n,r){return r===void 0||tr&1073741824?t.memoizedState=n:(t.memoizedState=r,t=wg(),bt.lanes|=t,cr|=t,r)}function bm(t,n,r,l){return an(r,n)?r:Pa.current!==null?(t=Hc(t,r,l),an(t,n)||(Ce=!0),t):tr&42?(t=wg(),bt.lanes|=t,cr|=t,n):(Ce=!0,t.memoizedState=r)}function wm(t,n,r,l,c){var h=et.p;et.p=h!==0&&8>h?h:8;var y=A.T,E={};A.T=E,Qc(t,!1,n,r);try{var R=c(),I=A.S;if(I!==null&&I(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var H=Tv(R,l);al(t,n,H,on(t))}else al(t,n,l,on(t))}catch(Y){al(t,n,{then:function(){},status:"rejected",reason:Y},on())}finally{et.p=h,A.T=y}}function wv(){}function jc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Dm(t).queue;wm(t,c,n,Rt,r===null?wv:function(){return Cm(t),r(l)})}function Dm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:Rt,baseState:Rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:Rt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Cm(t){var n=Dm(t).next.queue;al(t,n,{},on())}function Gc(){return ke(bl)}function Vm(){return fe().memoizedState}function Im(){return fe().memoizedState}function Dv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=on();t=rr(r);var l=ar(n,t,r);l!==null&&($e(l,n,r),ul(l,n,r)),n={cache:Dc()},t.payload=n;return}n=n.return}}function Cv(t,n,r){var l=on();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ku(t)?Nm(n,r):(r=Ec(t,n,r,l),r!==null&&($e(r,t,l),Mm(r,n,l)))}function Om(t,n,r){var l=on();al(t,n,r,l)}function al(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ku(t))Nm(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Ru(t,n,c,0),Yt===null&&Su(),!1}catch{}finally{}if(r=Ec(t,n,c,l),r!==null)return $e(r,t,l),Mm(r,n,l),!0}return!1}function Qc(t,n,r,l){if(l={lane:2,revertLane:xf(),action:l,hasEagerState:!1,eagerState:null,next:null},ku(t)){if(n)throw Error(a(479))}else n=Ec(t,r,l,2),n!==null&&$e(n,t,2)}function ku(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function Nm(t,n){ja=Uu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Mm(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ki(t,r)}}var Zn={readContext:ke,use:zu,useCallback:se,useContext:se,useEffect:se,useImperativeHandle:se,useLayoutEffect:se,useInsertionEffect:se,useMemo:se,useReducer:se,useRef:se,useState:se,useDebugValue:se,useDeferredValue:se,useTransition:se,useSyncExternalStore:se,useId:se};Zn.useCacheRefresh=se,Zn.useMemoCache=se,Zn.useHostTransitionStatus=se,Zn.useFormState=se,Zn.useActionState=se,Zn.useOptimistic=se;var Zr={readContext:ke,use:zu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:_m,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,qu(4194308,4,Tm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return qu(4194308,4,t,n)},useInsertionEffect:function(t,n){qu(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(Xr){zn(!0);try{t()}finally{zn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(Xr){zn(!0);try{r(n)}finally{zn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Cv.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Bc(t);var n=t.queue,r=Om.bind(null,bt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:kc,useDeferredValue:function(t,n){var r=tn();return Hc(r,t,n)},useTransition:function(){var t=Bc(!1);return t=wm.bind(null,bt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=bt,c=tn();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Yt===null)throw Error(a(349));Mt&60||nm(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,_m(rm.bind(null,l,h,t),[t]),l.flags|=2048,Qa(9,im.bind(null,l,h,r,n),{destroy:void 0},null),r},useId:function(){var t=tn(),n=Yt.identifierPrefix;if(Bt){var r=yi,l=pi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=xu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=Av++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=Dv.bind(null,bt)}};Zr.useMemoCache=xc,Zr.useHostTransitionStatus=Gc,Zr.useFormState=dm,Zr.useActionState=dm,Zr.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Qc.bind(null,bt,!0,r),r.dispatch=n,[t,n]};var er={readContext:ke,use:zu,useCallback:Sm,useContext:ke,useEffect:Pc,useImperativeHandle:Am,useInsertionEffect:vm,useLayoutEffect:Em,useMemo:Rm,useReducer:Bu,useRef:ym,useState:function(){return Bu(vi)},useDebugValue:kc,useDeferredValue:function(t,n){var r=fe();return bm(r,Gt.memoizedState,t,n)},useTransition:function(){var t=Bu(vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:em,useId:Vm};er.useCacheRefresh=Im,er.useMemoCache=xc,er.useHostTransitionStatus=Gc,er.useFormState=mm,er.useActionState=mm,er.useOptimistic=function(t,n){var r=fe();return lm(r,Gt,t,n)};var $r={readContext:ke,use:zu,useCallback:Sm,useContext:ke,useEffect:Pc,useImperativeHandle:Am,useInsertionEffect:vm,useLayoutEffect:Em,useMemo:Rm,useReducer:zc,useRef:ym,useState:function(){return zc(vi)},useDebugValue:kc,useDeferredValue:function(t,n){var r=fe();return Gt===null?Hc(r,t,n):bm(r,Gt.memoizedState,t,n)},useTransition:function(){var t=zc(vi)[0],n=fe().memoizedState;return[typeof t=="boolean"?t:rl(t),n]},useSyncExternalStore:em,useId:Vm};$r.useCacheRefresh=Im,$r.useMemoCache=xc,$r.useHostTransitionStatus=Gc,$r.useFormState=pm,$r.useActionState=pm,$r.useOptimistic=function(t,n){var r=fe();return Gt!==null?lm(r,Gt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Fc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Yc={isMounted:function(t){return(t=t._reactInternals)?ct(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=on(),c=rr(l);c.payload=n,r!=null&&(c.callback=r),n=ar(t,c,l),n!==null&&($e(n,t,l),ul(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=on(),c=rr(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ar(t,c,l),n!==null&&($e(n,t,l),ul(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=on(),l=rr(r);l.tag=2,n!=null&&(l.callback=n),n=ar(t,l,r),n!==null&&($e(n,t,r),ul(n,t,r))}};function Um(t,n,r,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!Fs(r,l)||!Fs(c,h):!0}function xm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&Yc.enqueueReplaceState(n,n.state,null)}function Jr(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Lm(t){Hu(t)}function zm(t){console.error(t)}function Bm(t){Hu(t)}function ju(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function qm(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Kc(t,n,r){return r=rr(r),r.tag=3,r.payload={element:null},r.callback=function(){ju(t,n)},r}function Pm(t){return t=rr(t),t.tag=3,t}function km(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){qm(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){qm(n,r,l),typeof c!="function"&&(fr===null?fr=new Set([this]):fr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Vv(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ll(n,r,c,!0),r=Tn.current,r!==null){switch(r.tag){case 13:return Xn===null?If():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Rc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Nf(t,l,c)),!1;case 22:return r.flags|=65536,l===Rc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Nf(t,l,c)),!1}throw Error(a(435,r.tag))}return Nf(t,l,c),If(),!1}if(Bt)return n=Tn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Sc&&(t=Error(a(422),{cause:l}),Zs(_n(t,r)))):(l!==Sc&&(n=Error(a(423),{cause:l}),Zs(_n(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=_n(l,r),c=Kc(t.stateNode,l,c),cf(t,c),ie!==4&&(ie=2)),!1;var h=Error(a(520),{cause:l});if(h=_n(h,r),pl===null?pl=[h]:pl.push(h),ie!==4&&(ie=2),n===null)return!0;l=_n(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Kc(r.stateNode,l,t),cf(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(fr===null||!fr.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Pm(c),km(c,t,r,l),cf(r,c),!1}r=r.return}while(r!==null);return!1}var Hm=Error(a(461)),Ce=!1;function xe(t,n,r,l){n.child=t===null?Yd(n,null,r,l):Yr(n,t.child,r,l)}function jm(t,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ta(n),l=Oc(t,n,r,y,h,c),E=Nc(),t!==null&&!Ce?(Mc(t,n,c),Ei(t,n,c)):(Bt&&E&&Tc(n),n.flags|=1,xe(t,n,l,c),n.child)}function Gm(t,n,r,l,c){if(t===null){var h=r.type;return typeof h=="function"&&!_f(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,Qm(t,n,h,l,c)):(t=Ku(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!rf(t,c)){var y=h.memoizedProps;if(r=r.compare,r=r!==null?r:Fs,r(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=or(h,l),t.ref=n.ref,t.return=n,n.child=t}function Qm(t,n,r,l,c){if(t!==null){var h=t.memoizedProps;if(Fs(h,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=h,rf(t,c))t.flags&131072&&(Ce=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return Xc(t,n,r,l,c)}function Fm(t,n,r){var l=n.pendingProps,c=l.children,h=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(sl(t,n),l.mode==="hidden"||h){if(n.flags&128){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return Ym(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mu(n,y!==null?y.cachePool:null),y!==null?Kd(n,y):bc(),Xd(n);else return n.lanes=n.childLanes=536870912,Ym(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(Mu(n,y.cachePool),Kd(n,y),Wi(),n.memoizedState=null):(t!==null&&Mu(n,null),bc(),Wi());return xe(t,n,c,r),n.child}function Ym(t,n,r,l){var c=Vc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Mu(n,null),bc(),Xd(n),t!==null&&ll(t,n,l,!0),null}function sl(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Xc(t,n,r,l,c){return ta(n),r=Oc(t,n,r,l,void 0,c),l=Nc(),t!==null&&!Ce?(Mc(t,n,c),Ei(t,n,c)):(Bt&&l&&Tc(n),n.flags|=1,xe(t,n,r,c),n.child)}function Km(t,n,r,l,c,h){return ta(n),n.updateQueue=null,r=tm(n,l,r,c),Wd(t),l=Nc(),t!==null&&!Ce?(Mc(t,n,h),Ei(t,n,h)):(Bt&&l&&Tc(n),n.flags|=1,xe(t,n,r,h),n.child)}function Xm(t,n,r,l,c){if(ta(n),n.stateNode===null){var h=La,y=r.contextType;typeof y=="object"&&y!==null&&(h=ke(y)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Yc,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},uf(n),y=r.contextType,h.context=typeof y=="object"&&y!==null?ke(y):La,h.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Fc(n,r,y,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Yc.enqueueReplaceState(h,h.state,null),cl(n,l,h,c),ol(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,R=Jr(r,E);h.props=R;var I=h.context,H=r.contextType;y=La,typeof H=="object"&&H!==null&&(y=ke(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||I!==y)&&xm(n,h,l,y),ir=!1;var B=n.memoizedState;h.state=B,cl(n,l,h,c),ol(),I=n.memoizedState,E||B!==I||ir?(typeof Y=="function"&&(Fc(n,r,Y,l),I=n.memoizedState),(R=ir||Um(n,r,R,l,B,I,y))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=I),h.props=l,h.state=I,h.context=y,l=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,of(t,n),y=n.memoizedProps,H=Jr(r,y),h.props=H,Y=n.pendingProps,B=h.context,I=r.contextType,R=La,typeof I=="object"&&I!==null&&(R=ke(I)),E=r.getDerivedStateFromProps,(I=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==Y||B!==R)&&xm(n,h,l,R),ir=!1,B=n.memoizedState,h.state=B,cl(n,l,h,c),ol();var k=n.memoizedState;y!==Y||B!==k||ir||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof E=="function"&&(Fc(n,r,E,l),k=n.memoizedState),(H=ir||Um(n,r,H,l,B,k,R)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,k,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,k,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),h.props=l,h.state=k,h.context=R,l=H):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,sl(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Yr(n,t.child,null,c),n.child=Yr(n,null,r,c)):xe(t,n,r,c),n.memoizedState=h.state,t=n.child):t=Ei(t,n,c),t}function Zm(t,n,r,l){return Xs(),n.flags|=256,xe(t,n,r,l),n.child}var Zc={dehydrated:null,treeContext:null,retryLane:0};function $c(t){return{baseLanes:t,cachePool:Jd()}}function Jc(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=bn),t}function $m(t,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Ji(n):Wi(),Bt){var E=Ue,R;if(R=E){t:{for(R=E,E=Kn;R.nodeType!==8;){if(!E){E=null;break t}if(R=Un(R.nextSibling),R===null){E=null;break t}}E=R}E!==null?(n.memoizedState={dehydrated:E,treeContext:Gr!==null?{id:pi,overflow:yi}:null,retryLane:536870912},R=Rn(18,null,null,0),R.stateNode=E,R.return=n,n.child=R,Ze=n,Ue=null,R=!0):R=!1}R||Fr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;_i(n)}return E=l.children,l=l.fallback,c?(Wi(),c=n.mode,E=tf({mode:"hidden",children:E},c),l=na(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=$c(r),c.childLanes=Jc(t,y,r),n.memoizedState=Zc,l):(Ji(n),Wc(n,E))}if(R=t.memoizedState,R!==null&&(E=R.dehydrated,E!==null)){if(h)n.flags&256?(Ji(n),n.flags&=-257,n=ef(t,n,r)):n.memoizedState!==null?(Wi(),n.child=t.child,n.flags|=128,n=null):(Wi(),c=l.fallback,E=n.mode,l=tf({mode:"visible",children:l.children},E),c=na(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Yr(n,t.child,null,r),l=n.child,l.memoizedState=$c(r),l.childLanes=Jc(t,y,r),n.memoizedState=Zc,n=c);else if(Ji(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var I=y.dgst;y=I,l=Error(a(419)),l.stack="",l.digest=y,Zs({value:l,source:null,stack:null}),n=ef(t,n,r)}else if(Ce||ll(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=Yt,y!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(y.suspendedLanes|r)?0:l,l!==0&&l!==R.retryLane)throw R.retryLane=l,$i(t,l),$e(y,t,l),Hm}E.data==="$?"||If(),n=ef(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=Gv.bind(null,t),E._reactRetry=n,n=null):(t=R.treeContext,Ue=Un(E.nextSibling),Ze=n,Bt=!0,Nn=null,Kn=!1,t!==null&&(vn[En++]=pi,vn[En++]=yi,vn[En++]=Gr,pi=t.id,yi=t.overflow,Gr=n),n=Wc(n,l.children),n.flags|=4096);return n}return c?(Wi(),c=l.fallback,E=n.mode,R=t.child,I=R.sibling,l=or(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&31457280,I!==null?c=or(I,c):(c=na(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=$c(r):(R=E.cachePool,R!==null?(I=Te._currentValue,R=R.parent!==I?{parent:I,pool:I}:R):R=Jd(),E={baseLanes:E.baseLanes|r,cachePool:R}),c.memoizedState=E,c.childLanes=Jc(t,y,r),n.memoizedState=Zc,l):(Ji(n),r=t.child,t=r.sibling,r=or(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Wc(t,n){return n=tf({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function tf(t,n){return Sg(t,n,0,null)}function ef(t,n,r){return Yr(n,t.child,null,r),t=Wc(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Jm(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),sf(t.return,n,r)}function nf(t,n,r,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function Wm(t,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(xe(t,n,l.children,r),l=Ee.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jm(t,r,n);else if(t.tag===19)Jm(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(jt(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Nu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),nf(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Nu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}nf(n,!0,r,null,h);break;case"together":nf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),cr|=n.lanes,!(r&n.childLanes))if(t!==null){if(ll(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=or(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=or(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function rf(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function Iv(t,n,r){switch(n.tag){case 3:xi(n,n.stateNode.containerInfo),nr(n,Te,t.memoizedState.cache),Xs();break;case 27:case 5:bs(n);break;case 4:xi(n,n.stateNode.containerInfo);break;case 10:nr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ji(n),n.flags|=128,null):r&n.child.childLanes?$m(t,n,r):(Ji(n),t=Ei(t,n,r),t!==null?t.sibling:null);Ji(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ll(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Wm(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),jt(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,Fm(t,n,r);case 24:nr(n,Te,t.memoizedState.cache)}return Ei(t,n,r)}function tg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!rf(t,r)&&!(n.flags&128))return Ce=!1,Iv(t,n,r);Ce=!!(t.flags&131072)}else Ce=!1,Bt&&n.flags&1048576&&Bd(n,Du,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")_f(l)?(t=Jr(l,t),n.tag=1,n=Xm(null,n,l,t,r)):(n.tag=0,n=Xc(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===$){n.tag=11,n=jm(null,n,l,t,r);break t}else if(c===St){n.tag=14,n=Gm(null,n,l,t,r);break t}}throw n=b(l)||l,Error(a(306,n,""))}}return n;case 0:return Xc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=Jr(l,n.pendingProps),Xm(t,n,l,c,r);case 3:t:{if(xi(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var h=n.pendingProps;c=n.memoizedState,l=c.element,of(t,n),cl(n,h,null,r);var y=n.memoizedState;if(h=y.cache,nr(n,Te,h),h!==c.cache&&lf(n,[Te],r,!0),ol(),h=y.element,c.isDehydrated)if(c={element:h,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Zm(t,n,h,r);break t}else if(h!==l){l=_n(Error(a(424)),n),Zs(l),n=Zm(t,n,h,r);break t}else for(Ue=Un(n.stateNode.containerInfo.firstChild),Ze=n,Bt=!0,Nn=null,Kn=!0,r=Yd(n,null,h,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Xs(),h===l){n=Ei(t,n,r);break t}xe(t,n,h,r)}n=n.child}return n;case 26:return sl(t,n),t===null?(r=ip(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=so(cn.current).createElement(r),l[be]=n,l[ye]=t,Le(l,r,t),Zt(l),n.stateNode=l):n.memoizedState=ip(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return bs(n),t===null&&Bt&&(l=n.stateNode=tp(n.type,n.pendingProps,cn.current),Ze=n,Kn=!0,Ue=Un(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?xe(t,n,l,r):n.child=Yr(n,null,l,r),sl(t,n),n.child;case 5:return t===null&&Bt&&((c=l=Ue)&&(l=sE(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Ze=n,Ue=Un(l.firstChild),Kn=!1,c=!0):c=!1),c||Fr(n)),bs(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,Gf(c,h)?l=null:y!==null&&Gf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=Oc(t,n,Sv,null,null,r),bl._currentValue=c),sl(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=Ue)&&(r=lE(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||Fr(n)),null;case 13:return $m(t,n,r);case 4:return xi(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Yr(n,null,l,r):xe(t,n,l,r),n.child;case 11:return jm(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,nr(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ta(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return Gm(t,n,n.type,n.pendingProps,r);case 15:return Qm(t,n,n.type,n.pendingProps,r);case 19:return Wm(t,n,r);case 22:return Fm(t,n,r);case 24:return ta(n),l=ke(Te),t===null?(c=Vc(),c===null&&(c=Yt,h=Dc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},uf(n),nr(n,Te,c)):(t.lanes&r&&(of(t,n),cl(n,null,null,r),ol()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),nr(n,Te,l)):(l=h.cache,nr(n,Te,l),l!==c.cache&&lf(n,[Te],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var af=Lt(null),Wr=null,Ti=null;function nr(t,n,r){jt(af,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=af.current,te(af)}function sf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function lf(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var R=0;R<n.length;R++)if(E.context===n[R]){h.lanes|=r,E=h.alternate,E!==null&&(E.lanes|=r),sf(h.return,r,t),l||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,h=y.alternate,h!==null&&(h.lanes|=r),sf(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ll(t,n,r,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if(c.flags&524288)h=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Ui.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}c=c.return}t!==null&&lf(n,t,r,l),n.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){Wr=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return eg(Wr,t)}function Qu(t,n){return Wr===null&&ta(t),eg(t,n)}function eg(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(a(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var ir=!1;function uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ar(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Jt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=bu(t),Ld(t,null,r),n}return Ru(t,l,n,r),bu(t)}function ul(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,ki(t,r)}}function cf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var ff=!1;function ol(){if(ff){var t=Ha;if(t!==null)throw t}}function cl(t,n,r,l){ff=!1;var c=t.updateQueue;ir=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var R=E,I=R.next;R.next=null,y===null?h=I:y.next=I,y=R;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=I:E.next=I,H.lastBaseUpdate=R))}if(h!==null){var Y=c.baseState;y=0,H=I=R=null,E=h;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Mt&B)===B:(l&B)===B){B!==0&&B===ka&&(ff=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=t,vt=E;B=n;var re=r;switch(vt.tag){case 1:if(lt=vt.payload,typeof lt=="function"){Y=lt.call(re,Y,B);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=vt.payload,B=typeof lt=="function"?lt.call(re,Y,B):lt,B==null)break t;Y=D({},Y,B);break t;case 2:ir=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(I=H=k,R=Y):H=H.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(R=Y),c.baseState=R,c.firstBaseUpdate=I,c.lastBaseUpdate=H,h===null&&(c.shared.lanes=0),cr|=y,t.lanes=y,t.memoizedState=Y}}function ng(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function ig(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)ng(r[t],n)}function fl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var h=r.create,y=r.inst;l=h(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Ft(n,n.return,E)}}function sr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var R=r;try{E()}catch(I){Ft(c,R,I)}}}l=l.next}while(l!==h)}}catch(I){Ft(n,n.return,I)}}function rg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{ig(n,r)}catch(l){Ft(t,t.return,l)}}}function ag(t,n,r){r.props=Jr(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ft(t,n,l)}}function ea(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(h){Ft(t,n,h)}}function sn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ft(t,n,c)}else r.current=null}function sg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ft(t,t.return,c)}}function lg(t,n,r){try{var l=t.stateNode;eE(l,t.type,r,n),l[ye]=n}catch(c){Ft(t,t.return,c)}}function ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function hf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function df(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=ao));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(df(t,n,r),t=t.sibling;t!==null;)df(t,n,r),t=t.sibling}function Fu(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Fu(t,n,r),t=t.sibling;t!==null;)Fu(t,n,r),t=t.sibling}var Si=!1,ne=!1,mf=!1,og=typeof WeakSet=="function"?WeakSet:Set,Ve=null,cg=!1;function Ov(t,n){if(t=t.containerInfo,Hf=ho,t=Dd(t),gc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break t}var y=0,E=-1,R=-1,I=0,H=0,Y=t,B=null;e:for(;;){for(var k;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==h||l!==0&&Y.nodeType!==3||(R=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)B=Y,Y=k;for(;;){if(Y===t)break e;if(B===r&&++I===c&&(E=y),B===h&&++H===l&&(R=y),(k=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=k}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(jf={focusedElem:t,selectionRange:r},ho=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var lt=Jr(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(lt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(vt){Ft(r,r.return,vt)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)Yf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}return lt=cg,cg=!1,lt}function fg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:bi(t,r),l&4&&fl(5,r);break;case 1:if(bi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Ft(r,r.return,E)}else{var c=Jr(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ft(r,r.return,E)}}l&64&&rg(r),l&512&&ea(r,r.return);break;case 3:if(bi(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{ig(l,t)}catch(E){Ft(r,r.return,E)}}break;case 26:bi(t,r),l&512&&ea(r,r.return);break;case 27:case 5:bi(t,r),n===null&&l&4&&sg(r),l&512&&ea(r,r.return);break;case 12:bi(t,r);break;case 13:bi(t,r),l&4&&mg(t,r);break;case 22:if(c=r.memoizedState!==null||Si,!c){n=n!==null&&n.memoizedState!==null||ne;var h=Si,y=ne;Si=c,(ne=n)&&!y?lr(t,r,(r.subtreeFlags&8772)!==0):bi(t,r),Si=h,ne=y}l&512&&(r.memoizedProps.mode==="manual"?ea(r,r.return):sn(r,r.return));break;default:bi(t,r)}}function hg(t){var n=t.alternate;n!==null&&(t.alternate=null,hg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Or(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var he=null,ln=!1;function Ri(t,n,r){for(r=r.child;r!==null;)dg(t,n,r),r=r.sibling}function dg(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Li,r)}catch{}switch(r.tag){case 26:ne||sn(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ne||sn(r,n);var l=he,c=ln;for(he=r.stateNode,Ri(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Or(r),he=l,ln=c;break;case 5:ne||sn(r,n);case 6:c=he;var h=ln;if(he=null,Ri(t,n,r),he=c,ln=h,he!==null)if(ln)try{t=he,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Ft(r,n,y)}else try{he.removeChild(r.stateNode)}catch(y){Ft(r,n,y)}break;case 18:he!==null&&(ln?(n=he,r=r.stateNode,n.nodeType===8?Ff(n.parentNode,r):n.nodeType===1&&Ff(n,r),Vl(n)):Ff(he,r.stateNode));break;case 4:l=he,c=ln,he=r.stateNode.containerInfo,ln=!0,Ri(t,n,r),he=l,ln=c;break;case 0:case 11:case 14:case 15:ne||sr(2,r,n),ne||sr(4,r,n),Ri(t,n,r);break;case 1:ne||(sn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ag(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:ne||sn(r,n),ne=(l=ne)||r.memoizedState!==null,Ri(t,n,r),ne=l;break;default:Ri(t,n,r)}}function mg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(r){Ft(n,n.return,r)}}function Nv(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new og),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new og),n;default:throw Error(a(435,t.tag))}}function gf(t,n){var r=Nv(t);n.forEach(function(l){var c=Qv.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function An(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:he=E.stateNode,ln=!1;break t;case 3:he=E.stateNode.containerInfo,ln=!0;break t;case 4:he=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(he===null)throw Error(a(160));dg(h,y,c),he=null,ln=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)gg(n,t),n=n.sibling}var Mn=null;function gg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:An(n,t),Sn(t),l&4&&(sr(3,t,t.return),fl(3,t),sr(5,t,t.return));break;case 1:An(n,t),Sn(t),l&512&&(ne||r===null||sn(r,r.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Mn;if(An(n,t),Sn(t),l&512&&(ne||r===null||sn(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[ji]||h[be]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Le(h,l,r),h[be]=t,Zt(h),l=h;break t;case"link":var y=sp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(r.href==null?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,r),c.head.appendChild(h);break;case"meta":if(y=sp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,r),c.head.appendChild(h);break;default:throw Error(a(468,l))}h[be]=t,Zt(h),l=h}t.stateNode=l}else lp(c,t.type,t.stateNode);else t.stateNode=ap(c,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?lp(c,t.type,t.stateNode):ap(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&lg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,h=t.memoizedProps;try{for(var R=c.firstChild;R;){var I=R.nextSibling,H=R.nodeName;R[ji]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&R.rel.toLowerCase()==="stylesheet"||c.removeChild(R),R=I}for(var Y=t.type,B=c.attributes;B.length;)c.removeAttributeNode(B[0]);Le(c,Y,h),c[be]=t,c[ye]=h}catch(lt){Ft(t,t.return,lt)}}case 5:if(An(n,t),Sn(t),l&512&&(ne||r===null||sn(r,r.return)),t.flags&32){c=t.stateNode;try{dn(c,"")}catch(lt){Ft(t,t.return,lt)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,lg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(mf=!0);break;case 6:if(An(n,t),Sn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(lt){Ft(t,t.return,lt)}}break;case 3:if(oo=null,c=Mn,Mn=lo(n.containerInfo),An(n,t),Mn=c,Sn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(n.containerInfo)}catch(lt){Ft(t,t.return,lt)}mf&&(mf=!1,pg(t));break;case 4:l=Mn,Mn=lo(t.stateNode.containerInfo),An(n,t),Sn(t),Mn=l;break;case 12:An(n,t),Sn(t);break;case 13:An(n,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Rf=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gf(t,l)));break;case 22:if(l&512&&(ne||r===null||sn(r,r.return)),R=t.memoizedState!==null,I=r!==null&&r.memoizedState!==null,H=Si,Y=ne,Si=H||R,ne=Y||I,An(n,t),ne=Y,Si=H,Sn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=R?n._visibility&-2:n._visibility|1,R&&(n=Si||ne,r===null||I||n||Fa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){I=r=n;try{if(c=I.stateNode,R)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=I.stateNode,E=I.memoizedProps.style;var k=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(lt){Ft(I,I.return,lt)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=R?"":I.memoizedProps}catch(lt){Ft(I,I.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,gf(t,r))));break;case 19:An(n,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gf(t,l)));break;case 21:break;default:An(n,t),Sn(t)}}function Sn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(ug(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,h=hf(t);Fu(t,h,c);break;case 5:var y=l.stateNode;l.flags&32&&(dn(y,""),l.flags&=-33);var E=hf(t);Fu(t,E,y);break;case 3:case 4:var R=l.stateNode.containerInfo,I=hf(t);df(t,I,R);break;default:throw Error(a(161))}}}catch(H){Ft(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function pg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;pg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function bi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)fg(t,n.alternate,n),n=n.sibling}function Fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:sr(4,n,n.return),Fa(n);break;case 1:sn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ag(n,n.return,r),Fa(n);break;case 26:case 27:case 5:sn(n,n.return),Fa(n);break;case 22:sn(n,n.return),n.memoizedState===null&&Fa(n);break;default:Fa(n)}t=t.sibling}}function lr(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:lr(c,h,r),fl(4,h);break;case 1:if(lr(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(I){Ft(l,l.return,I)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var R=c.shared.hiddenCallbacks;if(R!==null)for(c.shared.hiddenCallbacks=null,c=0;c<R.length;c++)ng(R[c],E)}catch(I){Ft(l,l.return,I)}}r&&y&64&&rg(h),ea(h,h.return);break;case 26:case 27:case 5:lr(c,h,r),r&&l===null&&y&4&&sg(h),ea(h,h.return);break;case 12:lr(c,h,r);break;case 13:lr(c,h,r),r&&y&4&&mg(c,h);break;case 22:h.memoizedState===null&&lr(c,h,r),ea(h,h.return);break;default:lr(c,h,r)}n=n.sibling}}function pf(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&el(r))}function yf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t))}function ur(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yg(t,n,r,l),n=n.sibling}function yg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:ur(t,n,r,l),c&2048&&fl(9,n);break;case 3:ur(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&el(t)));break;case 12:if(c&2048){ur(t,n,r,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Ft(n,n.return,R)}}else ur(t,n,r,l);break;case 23:break;case 22:h=n.stateNode,n.memoizedState!==null?h._visibility&4?ur(t,n,r,l):hl(t,n):h._visibility&4?ur(t,n,r,l):(h._visibility|=4,Ya(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&pf(n.alternate,n);break;case 24:ur(t,n,r,l),c&2048&&yf(n.alternate,n);break;default:ur(t,n,r,l)}}function Ya(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,E=r,R=l,I=y.flags;switch(y.tag){case 0:case 11:case 15:Ya(h,y,E,R,c),fl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?Ya(h,y,E,R,c):hl(h,y):(H._visibility|=4,Ya(h,y,E,R,c)),c&&I&2048&&pf(y.alternate,y);break;case 24:Ya(h,y,E,R,c),c&&I&2048&&yf(y.alternate,y);break;default:Ya(h,y,E,R,c)}n=n.sibling}}function hl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:hl(r,l),c&2048&&pf(l.alternate,l);break;case 24:hl(r,l),c&2048&&yf(l.alternate,l);break;default:hl(r,l)}n=n.sibling}}var dl=8192;function Ka(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)_g(t),t=t.sibling}function _g(t){switch(t.tag){case 26:Ka(t),t.flags&dl&&t.memoizedState!==null&&EE(Mn,t.memoizedState,t.memoizedProps);break;case 5:Ka(t);break;case 3:case 4:var n=Mn;Mn=lo(t.stateNode.containerInfo),Ka(t),Mn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=dl,dl=16777216,Ka(t),dl=n):Ka(t));break;default:Ka(t)}}function vg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function ml(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Tg(l,t)}vg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Eg(t),t=t.sibling}function Eg(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&sr(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Yu(t)):ml(t);break;default:ml(t)}}function Yu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Tg(l,t)}vg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:sr(8,n,n.return),Yu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Yu(n));break;default:Yu(n)}t=t.sibling}}function Tg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:sr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:el(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,h=l.return;if(hg(l),l===r){Ve=null;break t}if(c!==null){c.return=h,Ve=c;break t}Ve=h}}}function Mv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,n,r,l){return new Mv(t,n,r,l)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function or(t,n){var r=t.alternate;return r===null?(r=Rn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ag(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ku(t,n,r,l,c,h){var y=0;if(l=t,typeof t=="function")_f(t)&&(y=1);else if(typeof t=="string")y=_E(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return na(r.children,c,h,n);case v:y=8,c|=24;break;case S:return t=Rn(12,r,n,c|2),t.elementType=S,t.lanes=h,t;case it:return t=Rn(13,r,n,c),t.elementType=it,t.lanes=h,t;case Z:return t=Rn(19,r,n,c),t.elementType=Z,t.lanes=h,t;case J:return Sg(r,c,h,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case M:case j:y=10;break t;case q:y=9;break t;case $:y=11;break t;case St:y=14;break t;case pt:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Rn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function na(t,n,r,l){return t=Rn(7,t,l,n),t.lanes=r,t}function Sg(t,n,r,l){t=Rn(22,t,l,n),t.elementType=J,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=c._current;if(h===null)throw Error(a(456));if(!(c._pendingVisibility&2)){var y=$i(h,2);y!==null&&(c._pendingVisibility|=2,$e(y,h,2))}},attach:function(){var h=c._current;if(h===null)throw Error(a(456));if(c._pendingVisibility&2){var y=$i(h,2);y!==null&&(c._pendingVisibility&=-3,$e(y,h,2))}}};return t.stateNode=c,t}function vf(t,n,r){return t=Rn(6,t,null,n),t.lanes=r,t}function Ef(t,n,r){return n=Rn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function wi(t){t.flags|=4}function Rg(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!up(n)){if(n=Tn.current,n!==null&&((Mt&4194176)===Mt?Xn!==null:(Mt&62914560)!==Mt&&!(Mt&536870912)||n!==Xn))throw Js=Rc,kd;t.flags|=8192}}function Xu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?qi():536870912,t.lanes|=n,Za|=n)}function gl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function $t(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Uv(t,n,r){var l=n.pendingProps;switch(Ac(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Te),ai(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ks(n)?wi(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Nn!==null&&(Cf(Nn),Nn=null))),$t(n),null;case 26:return r=n.memoizedState,t===null?(wi(n),r!==null?($t(n),Rg(n,r)):($t(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wi(n),$t(n),Rg(n,r)):($t(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),$t(n),n.flags&=-16777217),null;case 27:ga(n),r=cn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}t=Fe.current,Ks(n)?qd(n):(t=tp(c,l,r),n.stateNode=t,wi(n))}return $t(n),null;case 5:if(ga(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}if(t=Fe.current,Ks(n))qd(n);else{switch(c=so(cn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[be]=n,t[ye]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return $t(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=cn.current,Ks(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[be]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Kg(t.nodeValue,r)),t||Fr(n)}else t=so(t).createTextNode(l),t[be]=n,n.stateNode=t}return $t(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ks(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[be]=n}else Xs(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;$t(n),c=!1}else Nn!==null&&(Cf(Nn),Nn=null),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Xu(n,n.updateQueue),$t(n),null;case 4:return ai(),t===null&&qf(n.stateNode.containerInfo),$t(n),null;case 10:return Ai(n.type),$t(n),null;case 19:if(te(Ee),c=n.memoizedState,c===null)return $t(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)gl(c,!1);else{if(ie!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(h=Nu(t),h!==null){for(n.flags|=128,gl(c,!1),t=h.updateQueue,n.updateQueue=t,Xu(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Ag(r,t),r=r.sibling;return jt(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>Zu&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Nu(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Xu(n,t),gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Bt)return $t(n),null}else 2*Je()-c.renderingStartTime>Zu&&r!==536870912&&(n.flags|=128,l=!0,gl(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Ee.current,jt(Ee,l?t&1|2:t&1),n):($t(n),null);case 22:case 23:return _i(n),wc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),r=n.updateQueue,r!==null&&Xu(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&te(Kr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(Te),$t(n),null;case 25:return null}throw Error(a(156,n.tag))}function xv(t,n){switch(Ac(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Te),ai(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ga(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return te(Ee),null;case 4:return ai(),null;case 10:return Ai(n.type),null;case 22:case 23:return _i(n),wc(),t!==null&&te(Kr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Te),null;case 25:return null;default:return null}}function bg(t,n){switch(Ac(n),n.tag){case 3:Ai(Te),ai();break;case 26:case 27:case 5:ga(n);break;case 4:ai();break;case 13:_i(n);break;case 19:te(Ee);break;case 10:Ai(n.type);break;case 22:case 23:_i(n),wc(),t!==null&&te(Kr);break;case 24:Ai(Te)}}var Lv={getCacheForType:function(t){var n=ke(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},zv=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Yt=null,Dt=null,Mt=0,Kt=0,un=null,Di=!1,Xa=!1,Tf=!1,Ci=0,ie=0,cr=0,ia=0,Af=0,bn=0,Za=0,pl=null,$n=null,Sf=!1,Rf=0,Zu=1/0,$u=null,fr=null,Ju=!1,ra=null,yl=0,bf=0,wf=null,_l=0,Df=null;function on(){if(Jt&2&&Mt!==0)return Mt&-Mt;if(A.T!==null){var t=ka;return t!==0?t:xf()}return ru()}function wg(){bn===0&&(bn=!(Mt&536870912)||Bt?Is():536870912);var t=Tn.current;return t!==null&&(t.flags|=32),bn}function $e(t,n,r){(t===Yt&&Kt===2||t.cancelPendingCommit!==null)&&($a(t,0),Vi(t,Mt,bn,!1)),ae(t,r),(!(Jt&2)||t!==Yt)&&(t===Yt&&(!(Jt&2)&&(ia|=r),ie===4&&Vi(t,Mt,bn,!1)),Jn(t))}function Dg(t,n,r){if(Jt&6)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||Bi(t,n),c=l?Pv(t,n):Of(t,n,!0),h=l;do{if(c===0){Xa&&!l&&Vi(t,n,0,!1);break}else if(c===6)Vi(t,n,0,!Di);else{if(r=t.current.alternate,h&&!Bv(r)){c=Of(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var R=E.current.memoizedState.isDehydrated;if(R&&($a(E,y).flags|=256),y=Of(E,y,!1),y!==2){if(Tf&&!R){E.errorRecoveryDisabledLanes|=h,ia|=h,c=4;break t}h=$n,$n=c,h!==null&&Cf(h)}c=y}if(h=!1,c!==2)continue}}if(c===1){$a(t,0),Vi(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Vi(l,n,bn,!Di);break t}break;case 2:$n=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(h=Rf+300-Je(),10<h)){if(Vi(l,n,bn,!Di),fn(l,0)!==0)break t;l.timeoutHandle=$g(Cg.bind(null,l,r,$n,$u,Sf,n,bn,ia,Za,Di,2,-0,0),h);break t}Cg(l,r,$n,$u,Sf,n,bn,ia,Za,Di,0,-0,0)}}break}while(!0);Jn(t)}function Cf(t){$n===null?$n=t:$n.push.apply($n,t)}function Cg(t,n,r,l,c,h,y,E,R,I,H,Y,B){var k=n.subtreeFlags;if((k&8192||(k&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:vE},_g(n),n=TE(),n!==null)){t.cancelPendingCommit=n(xg.bind(null,t,r,l,c,y,E,R,1,Y,B)),Vi(t,h,y,!I);return}xg(t,r,l,c,y,E,R,H,Y,B)}function Bv(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!an(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vi(t,n,r,l){n&=~Af,n&=~ia,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-Ye(c),y=1<<h;l[h]=-1,c&=~y}r!==0&&Pi(t,r,n)}function Wu(){return Jt&6?!0:(vl(0),!1)}function Vf(){if(Dt!==null){if(Kt===0)var t=Dt.return;else t=Dt,Ti=Wr=null,Uc(t),qa=null,Ws=0,t=Dt;for(;t!==null;)bg(t.alternate,t),t=t.return;Dt=null}}function $a(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,iE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Vf(),Yt=t,Dt=r=or(t.current,null),Mt=n,Kt=0,un=null,Di=!1,Xa=Bi(t,n),Tf=!1,Za=bn=Af=ia=cr=ie=0,$n=pl=null,Sf=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),h=1<<c;n|=t[c],l&=~h}return Ci=n,Su(),r}function Vg(t,n){bt=null,A.H=Zn,n===$s?(n=Gd(),Kt=3):n===kd?(n=Gd(),Kt=4):Kt=n===Hm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Dt===null&&(ie=1,ju(t,_n(n,t.current)))}function Ig(){var t=A.H;return A.H=Zn,t===null?Zn:t}function Og(){var t=A.A;return A.A=Lv,t}function If(){ie=4,Di||(Mt&4194176)!==Mt&&Tn.current!==null||(Xa=!0),!(cr&134217727)&&!(ia&134217727)||Yt===null||Vi(Yt,Mt,bn,!1)}function Of(t,n,r){var l=Jt;Jt|=2;var c=Ig(),h=Og();(Yt!==t||Mt!==n)&&($u=null,$a(t,n)),n=!1;var y=ie;t:do try{if(Kt!==0&&Dt!==null){var E=Dt,R=un;switch(Kt){case 8:Vf(),y=6;break t;case 3:case 2:case 6:Tn.current===null&&(n=!0);var I=Kt;if(Kt=0,un=null,Ja(t,E,R,I),r&&Xa){y=0;break t}break;default:I=Kt,Kt=0,un=null,Ja(t,E,R,I)}}qv(),y=ie;break}catch(H){Vg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ti=Wr=null,Jt=l,A.H=c,A.A=h,Dt===null&&(Yt=null,Mt=0,Su()),y}function qv(){for(;Dt!==null;)Ng(Dt)}function Pv(t,n){var r=Jt;Jt|=2;var l=Ig(),c=Og();Yt!==t||Mt!==n?($u=null,Zu=Je()+500,$a(t,n)):Xa=Bi(t,n);t:do try{if(Kt!==0&&Dt!==null){n=Dt;var h=un;e:switch(Kt){case 1:Kt=0,un=null,Ja(t,n,h,1);break;case 2:if(Hd(h)){Kt=0,un=null,Mg(n);break}n=function(){Kt===2&&Yt===t&&(Kt=7),Jn(t)},h.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Hd(h)?(Kt=0,un=null,Mg(n)):(Kt=0,un=null,Ja(t,n,h,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||up(y)){Kt=0,un=null;var R=E.sibling;if(R!==null)Dt=R;else{var I=E.return;I!==null?(Dt=I,to(I)):Dt=null}break e}}Kt=0,un=null,Ja(t,n,h,5);break;case 6:Kt=0,un=null,Ja(t,n,h,6);break;case 8:Vf(),ie=6;break t;default:throw Error(a(462))}}kv();break}catch(H){Vg(t,H)}while(!0);return Ti=Wr=null,A.H=l,A.A=c,Jt=r,Dt!==null?0:(Yt=null,Mt=0,Su(),ie)}function kv(){for(;Dt!==null&&!rc();)Ng(Dt)}function Ng(t){var n=tg(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?to(t):Dt=n}function Mg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Km(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=Km(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Uc(n);default:bg(r,n),n=Dt=Ag(n,Ci),n=tg(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?to(t):Dt=n}function Ja(t,n,r,l){Ti=Wr=null,Uc(n),qa=null,Ws=0;var c=n.return;try{if(Vv(t,c,n,r,Mt)){ie=1,ju(t,_n(r,t.current)),Dt=null;return}}catch(h){if(c!==null)throw Dt=c,h;ie=1,ju(t,_n(r,t.current)),Dt=null;return}n.flags&32768?(Bt||l===1?t=!0:Xa||Mt&536870912?t=!1:(Di=t=!0,(l===2||l===3||l===6)&&(l=Tn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ug(n,t)):to(n)}function to(t){var n=t;do{if(n.flags&32768){Ug(n,Di);return}t=n.return;var r=Uv(n.alternate,n,Ci);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ie===0&&(ie=5)}function Ug(t,n){do{var r=xv(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);ie=6,Dt=null}function xg(t,n,r,l,c,h,y,E,R,I){var H=A.T,Y=et.p;try{et.p=2,A.T=null,Hv(t,n,r,l,Y,c,h,y,E,R,I)}finally{A.T=H,et.p=Y}}function Hv(t,n,r,l,c,h,y,E){do Wa();while(ra!==null);if(Jt&6)throw Error(a(327));var R=t.finishedWork;if(l=t.finishedLanes,R===null)return null;if(t.finishedWork=null,t.finishedLanes=0,R===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var I=R.lanes|R.childLanes;if(I|=vc,nu(t,l,I,h,y,E),t===Yt&&(Dt=Yt=null,Mt=0),!(R.subtreeFlags&10256)&&!(R.flags&10256)||Ju||(Ju=!0,bf=I,wf=r,Fv(si,function(){return Wa(),null})),r=(R.flags&15990)!==0,R.subtreeFlags&15990||r?(r=A.T,A.T=null,h=et.p,et.p=2,y=Jt,Jt|=4,Ov(t,R),gg(R,t),hv(jf,t.containerInfo),ho=!!Hf,jf=Hf=null,t.current=R,fg(t,R.alternate,R),ws(),Jt=y,et.p=h,A.T=r):t.current=R,Ju?(Ju=!1,ra=t,yl=l):Lg(t,I),I=t.pendingLanes,I===0&&(fr=null),Cs(R.stateNode),Jn(t),n!==null)for(c=t.onRecoverableError,R=0;R<n.length;R++)I=n[R],c(I.value,{componentStack:I.stack});return yl&3&&Wa(),I=t.pendingLanes,l&4194218&&I&42?t===Df?_l++:(_l=0,Df=t):_l=0,vl(0),null}function Lg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,el(n)))}function Wa(){if(ra!==null){var t=ra,n=bf;bf=0;var r=iu(yl),l=A.T,c=et.p;try{if(et.p=32>r?32:r,A.T=null,ra===null)var h=!1;else{r=wf,wf=null;var y=ra,E=yl;if(ra=null,yl=0,Jt&6)throw Error(a(331));var R=Jt;if(Jt|=4,Eg(y.current),yg(y,y.current,E,r),Jt=R,vl(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Li,y)}catch{}h=!0}return h}finally{et.p=c,A.T=l,Lg(t,n)}}return!1}function zg(t,n,r){n=_n(r,n),n=Kc(t.stateNode,n,2),t=ar(t,n,2),t!==null&&(ae(t,2),Jn(t))}function Ft(t,n,r){if(t.tag===3)zg(t,t,r);else for(;n!==null;){if(n.tag===3){zg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(fr===null||!fr.has(l))){t=_n(r,t),r=Pm(2),l=ar(n,r,2),l!==null&&(km(r,l,n,t),ae(l,2),Jn(l));break}}n=n.return}}function Nf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new zv;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Tf=!0,c.add(r),t=jv.bind(null,t,n,r),n.then(t,t))}function jv(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Yt===t&&(Mt&r)===r&&(ie===4||ie===3&&(Mt&62914560)===Mt&&300>Je()-Rf?!(Jt&2)&&$a(t,0):Af|=r,Za===Mt&&(Za=0)),Jn(t)}function Bg(t,n){n===0&&(n=qi()),t=$i(t,n),t!==null&&(ae(t,n),Jn(t))}function Gv(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Bg(t,r)}function Qv(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Bg(t,r)}function Fv(t,n){return Cr(t,n)}var eo=null,ts=null,Mf=!1,no=!1,Uf=!1,aa=0;function Jn(t){t!==ts&&t.next===null&&(ts===null?eo=ts=t:ts=ts.next=t),no=!0,Mf||(Mf=!0,Kv(Yv))}function vl(t,n){if(!Uf&&no){Uf=!0;do for(var r=!1,l=eo;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-Ye(42|t)+1)-1,h&=c&~(y&~E),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(r=!0,kg(l,h))}else h=Mt,h=fn(l,l===Yt?h:0),!(h&3)||Bi(l,h)||(r=!0,kg(l,h));l=l.next}while(r);Uf=!1}}function Yv(){no=Mf=!1;var t=0;aa!==0&&(nE()&&(t=aa),aa=0);for(var n=Je(),r=null,l=eo;l!==null;){var c=l.next,h=qg(l,n);h===0?(l.next=null,r===null?eo=c:r.next=c,c===null&&(ts=r)):(r=l,(t!==0||h&3)&&(no=!0)),l=c}vl(t)}function qg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-Ye(h),E=1<<y,R=c[y];R===-1?(!(E&r)||E&l)&&(c[y]=_a(E,n)):R<=n&&(t.expiredLanes|=E),h&=~E}if(n=Yt,r=Mt,r=fn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Kt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ya(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||Bi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&ya(l),iu(r)){case 2:case 8:r=Re;break;case 32:r=si;break;case 268435456:r=Ds;break;default:r=si}return l=Pg.bind(null,t),r=Cr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&ya(l),t.callbackPriority=2,t.callbackNode=null,2}function Pg(t,n){var r=t.callbackNode;if(Wa()&&t.callbackNode!==r)return null;var l=Mt;return l=fn(t,t===Yt?l:0),l===0?null:(Dg(t,l,n),qg(t,Je()),t.callbackNode!=null&&t.callbackNode===r?Pg.bind(null,t):null)}function kg(t,n){if(Wa())return null;Dg(t,n,!0)}function Kv(t){rE(function(){Jt&6?Cr(pe,t):t()})}function xf(){return aa===0&&(aa=Is()),aa}function Hg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:kn(""+t)}function jg(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Xv(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=Hg((c[ye]||null).action),y=l.submitter;y&&(n=(n=y[ye]||null)?Hg(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var E=new ba("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var R=y?jg(c,y):new FormData(c);jc(r,{pending:!0,data:R,method:c.method,action:h},null,R)}}else typeof h=="function"&&(E.preventDefault(),R=y?jg(c,y):new FormData(c),jc(r,{pending:!0,data:R,method:c.method,action:h},h,R))},currentTarget:c}]})}}for(var Lf=0;Lf<xd.length;Lf++){var zf=xd[Lf],Zv=zf.toLowerCase(),$v=zf[0].toUpperCase()+zf.slice(1);On(Zv,"on"+$v)}On(Id,"onAnimationEnd"),On(Od,"onAnimationIteration"),On(Nd,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(mv,"onTransitionRun"),On(gv,"onTransitionStart"),On(pv,"onTransitionCancel"),On(Md,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Gg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],R=E.instance,I=E.currentTarget;if(E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=I;try{h(c)}catch(H){Hu(H)}c.currentTarget=null,h=R}else for(y=0;y<l.length;y++){if(E=l[y],R=E.instance,I=E.currentTarget,E=E.listener,R!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=I;try{h(c)}catch(H){Hu(H)}c.currentTarget=null,h=R}}}}function Vt(t,n){var r=n[Ir];r===void 0&&(r=n[Ir]=new Set);var l=t+"__bubble";r.has(l)||(Qg(n,t,2,!1),r.add(l))}function Bf(t,n,r){var l=0;n&&(l|=4),Qg(r,t,l,n)}var io="_reactListening"+Math.random().toString(36).slice(2);function qf(t){if(!t[io]){t[io]=!0,Ns.forEach(function(r){r!=="selectionchange"&&(Jv.has(r)||Bf(r,!1,t),Bf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[io]||(n[io]=!0,Bf("selectionchange",!1,n))}}function Qg(t,n,r,l){switch(mp(n)){case 2:var c=RE;break;case 8:c=bE;break;default:c=Jf}r=c.bind(null,n,r,t),c=void 0,!gn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Pf(t,n,r,l,c){var h=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===c||R.nodeType===8&&R.parentNode===c))return;y=y.return}for(;E!==null;){if(y=In(E),y===null)return;if(R=y.tag,R===5||R===6||R===26||R===27){l=h=y;continue t}E=E.parentNode}}l=l.return}uu(function(){var I=h,H=Ra(r),Y=[];t:{var B=Ud.get(t);if(B!==void 0){var k=ba,lt=t;switch(t){case"keypress":if(jn(r)===0)break t;case"keydown":case"keyup":k=Oa;break;case"focusin":lt="focus",k=Ca;break;case"focusout":lt="blur",k=Ca;break;case"beforeblur":case"afterblur":k=Ca;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=pu;break;case Id:case Od:case Nd:k=Va;break;case Md:k=_u;break;case"scroll":case"scrollend":k=ou;break;case"wheel":k=Na;break;case"copy":case"cut":case"paste":k=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Gs;break;case"toggle":case"beforetoggle":k=Eu}var vt=(n&4)!==0,re=!vt&&(t==="scroll"||t==="scrollend"),U=vt?B!==null?B+"Capture":null:B;vt=[];for(var V=I,z;V!==null;){var G=V;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||U===null||(G=xr(V,U),G!=null&&vt.push(Tl(V,G,z))),re)break;V=V.return}0<vt.length&&(B=new k(B,lt,null,r,H),Y.push({event:B,listeners:vt}))}}if(!(n&7)){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==mn&&(lt=r.relatedTarget||r.fromElement)&&(In(lt)||lt[li]))break t;if((k||B)&&(B=H.window===H?H:(B=H.ownerDocument)?B.defaultView||B.parentWindow:window,k?(lt=r.relatedTarget||r.toElement,k=I,lt=lt?In(lt):null,lt!==null&&(re=ct(lt),vt=lt.tag,lt!==re||vt!==5&&vt!==27&&vt!==6)&&(lt=null)):(k=null,lt=I),k!==lt)){if(vt=pn,G="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(vt=Gs,G="onPointerLeave",U="onPointerEnter",V="pointer"),re=k==null?B:Gi(k),z=lt==null?B:Gi(lt),B=new vt(G,V+"leave",k,r,H),B.target=re,B.relatedTarget=z,G=null,In(H)===I&&(vt=new vt(U,V+"enter",lt,r,H),vt.target=z,vt.relatedTarget=re,G=vt),re=G,k&&lt)e:{for(vt=k,U=lt,V=0,z=vt;z;z=es(z))V++;for(z=0,G=U;G;G=es(G))z++;for(;0<V-z;)vt=es(vt),V--;for(;0<z-V;)U=es(U),z--;for(;V--;){if(vt===U||U!==null&&vt===U.alternate)break e;vt=es(vt),U=es(U)}vt=null}else vt=null;k!==null&&Fg(Y,B,k,vt,!1),lt!==null&&re!==null&&Fg(Y,re,lt,vt,!0)}}t:{if(B=I?Gi(I):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var st=vd;else if(ve(B))if(Ed)st=cv;else{st=uv;var wt=lv}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?I&&zs(I.elementType)&&(st=vd):st=ov;if(st&&(st=st(t,I))){gi(Y,st,r,H);break t}wt&&wt(t,B,I),t==="focusout"&&I&&B.type==="number"&&I.memoizedProps.value!=null&&Sa(B,"number",B.value)}switch(wt=I?Gi(I):window,t){case"focusin":(ve(wt)||wt.contentEditable==="true")&&(Ma=wt,pc=I,Ys=null);break;case"focusout":Ys=pc=Ma=null;break;case"mousedown":yc=!0;break;case"contextmenu":case"mouseup":case"dragend":yc=!1,Cd(Y,r,H);break;case"selectionchange":if(dv)break;case"keydown":case"keyup":Cd(Y,r,H)}var ot;if(Fn)t:{switch(t){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Ot?P(t,r)&&(dt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(p&&r.locale!=="ko"&&(Ot||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Ot&&(ot=qs()):(Hn=H,Zi="value"in Hn?Hn.value:Hn.textContent,Ot=!0)),wt=ro(I,dt),0<wt.length&&(dt=new Hs(dt,t,null,r,H),Y.push({event:dt,listeners:wt}),ot?dt.data=ot:(ot=X(r),ot!==null&&(dt.data=ot)))),(ot=m?_e(t,r):Nt(t,r))&&(dt=ro(I,"onBeforeInput"),0<dt.length&&(wt=new Hs("onBeforeInput","beforeinput",null,r,H),Y.push({event:wt,listeners:dt}),wt.data=ot)),Xv(Y,t,I,r,H)}Gg(Y,n)})}function Tl(t,n,r){return{instance:t,listener:n,currentTarget:r}}function ro(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=xr(t,r),c!=null&&l.unshift(Tl(t,c,h)),c=xr(t,n),c!=null&&l.push(Tl(t,c,h))),t=t.return}return l}function es(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Fg(t,n,r,l,c){for(var h=n._reactName,y=[];r!==null&&r!==l;){var E=r,R=E.alternate,I=E.stateNode;if(E=E.tag,R!==null&&R===l)break;E!==5&&E!==26&&E!==27||I===null||(R=I,c?(I=xr(r,h),I!=null&&y.unshift(Tl(r,I,R))):c||(I=xr(r,h),I!=null&&y.push(Tl(r,I,R)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var Wv=/\r\n?/g,tE=/\u0000|\uFFFD/g;function Yg(t){return(typeof t=="string"?t:""+t).replace(Wv,`
`).replace(tE,"")}function Kg(t,n){return n=Yg(n),Yg(t)===n}function ao(){}function Qt(t,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(t,""+l);break;case"className":Yi(t,"class",l);break;case"tabIndex":Yi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yi(t,r,l);break;case"style":lu(t,l,h);break;case"data":if(n!=="object"){Yi(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=kn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=ao);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=kn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Fi(t,"popover",l);break;case"xlinkActuate":hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":hn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":hn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":hn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":hn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Fi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=oc.get(r)||r,Fi(t,r,l))}}function kf(t,n,r,l,c,h){switch(r){case"style":lu(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?dn(t,l):(typeof l=="number"||typeof l=="bigint")&&dn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ao);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[ye]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Fi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var y=r[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,h,y,r,null)}}c&&Qt(t,n,"srcSet",r.srcSet,r,null),l&&Qt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=h=y=c=null,R=null,I=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":R=H;break;case"defaultChecked":I=H;break;case"value":h=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Qt(t,n,l,H,r,null)}}Mr(t,h,E,R,I,y,c,!1),Nr(t);return;case"select":Vt("invalid",t),l=y=h=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Qt(t,n,c,E,r,null)}n=h,r=y,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):r!=null&&zt(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),h=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Qt(t,n,y,E,r,null)}Xi(t,l,c,h),Nr(t);return;case"option":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,R,l,r,null)}return;case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)Vt(El[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,I,l,r,null)}return;default:if(zs(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&kf(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Qt(t,n,E,l,r,null))}function eE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,R=null,I=null,H=null;for(k in r){var Y=r[k];if(r.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(k)||Qt(t,n,k,null,l,Y)}}for(var B in l){var k=l[B];if(Y=r[B],l.hasOwnProperty(B)&&(k!=null||Y!=null))switch(B){case"type":h=k;break;case"name":c=k;break;case"checked":I=k;break;case"defaultChecked":H=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==Y&&Qt(t,n,B,k,l,Y)}}Ki(t,y,E,R,I,H,h,c);return;case"select":k=y=E=B=null;for(h in r)if(R=r[h],r.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":k=R;default:l.hasOwnProperty(h)||Qt(t,n,h,null,l,R)}for(c in l)if(h=l[c],R=r[c],l.hasOwnProperty(c)&&(h!=null||R!=null))switch(c){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==R&&Qt(t,n,c,h,l,R)}n=E,r=y,l=k,B!=null?zt(t,!!r,B,!1):!!l!=!!r&&(n!=null?zt(t,!!r,n,!0):zt(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,n,E,null,l,c)}for(y in l)if(c=l[y],h=r[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&Qt(t,n,y,c,l,h)}Ur(t,B,k);return;case"option":for(var lt in r)if(B=r[lt],r.hasOwnProperty(lt)&&B!=null&&!l.hasOwnProperty(lt))switch(lt){case"selected":t.selected=!1;break;default:Qt(t,n,lt,null,l,B)}for(R in l)if(B=l[R],k=r[R],l.hasOwnProperty(R)&&B!==k&&(B!=null||k!=null))switch(R){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Qt(t,n,R,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)B=r[vt],r.hasOwnProperty(vt)&&B!=null&&!l.hasOwnProperty(vt)&&Qt(t,n,vt,null,l,B);for(I in l)if(B=l[I],k=r[I],l.hasOwnProperty(I)&&B!==k&&(B!=null||k!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Qt(t,n,I,B,l,k)}return;default:if(zs(n)){for(var re in r)B=r[re],r.hasOwnProperty(re)&&B!==void 0&&!l.hasOwnProperty(re)&&kf(t,n,re,void 0,l,B);for(H in l)B=l[H],k=r[H],!l.hasOwnProperty(H)||B===k||B===void 0&&k===void 0||kf(t,n,H,B,l,k);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&Qt(t,n,U,null,l,B);for(Y in l)B=l[Y],k=r[Y],!l.hasOwnProperty(Y)||B===k||B==null&&k==null||Qt(t,n,Y,B,l,k)}var Hf=null,jf=null;function so(t){return t.nodeType===9?t:t.ownerDocument}function Xg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zg(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Gf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Qf=null;function nE(){var t=window.event;return t&&t.type==="popstate"?t===Qf?!1:(Qf=t,!0):(Qf=null,!1)}var $g=typeof setTimeout=="function"?setTimeout:void 0,iE=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,rE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg<"u"?function(t){return Jg.resolve(null).then(t).catch(aE)}:$g;function aE(t){setTimeout(function(){throw t})}function Ff(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Vl(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Vl(n)}function Yf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Yf(r),Or(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function sE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ji])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function lE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=Un(t.nextSibling),t===null))return null;return t}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function Wg(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function tp(t,n,r){switch(n=so(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var wn=new Map,ep=new Set;function lo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ii=et.d;et.d={f:uE,r:oE,D:cE,C:fE,L:hE,m:dE,X:gE,S:mE,M:pE};function uE(){var t=Ii.f(),n=Wu();return t||n}function oE(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?Cm(n):Ii.r(t)}var ns=typeof document>"u"?null:document;function np(t,n,r){var l=ns;if(l&&typeof n=="string"&&n){var c=ee(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),ep.has(c)||(ep.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),Zt(n),l.head.appendChild(n)))}}function cE(t){Ii.D(t),np("dns-prefetch",t,null)}function fE(t,n){Ii.C(t,n),np("preconnect",t,n)}function hE(t,n,r){Ii.L(t,n,r);var l=ns;if(l&&t&&n){var c='link[rel="preload"][as="'+ee(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ee(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ee(r.imageSizes)+'"]')):c+='[href="'+ee(t)+'"]';var h=c;switch(n){case"style":h=is(t);break;case"script":h=rs(t)}wn.has(h)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(h))||n==="script"&&l.querySelector(Sl(h))||(n=l.createElement("link"),Le(n,"link",t),Zt(n),l.head.appendChild(n)))}}function dE(t,n){Ii.m(t,n);var r=ns;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ee(l)+'"][href="'+ee(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=rs(t)}if(!wn.has(h)&&(t=D({rel:"modulepreload",href:t},n),wn.set(h,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sl(h)))return}l=r.createElement("link"),Le(l,"link",t),Zt(l),r.head.appendChild(l)}}}function mE(t,n,r){Ii.S(t,n,r);var l=ns;if(l&&t){var c=Qi(l).hoistableStyles,h=is(t);n=n||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(h)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(h))&&Kf(t,r);var R=y=l.createElement("link");Zt(R),Le(R,"link",t),R._p=new Promise(function(I,H){R.onload=I,R.onerror=H}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function gE(t,n){Ii.X(t,n);var r=ns;if(r&&t){var l=Qi(r).hoistableScripts,c=rs(t),h=l.get(c);h||(h=r.querySelector(Sl(c)),h||(t=D({src:t,async:!0},n),(n=wn.get(c))&&Xf(t,n),h=r.createElement("script"),Zt(h),Le(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function pE(t,n){Ii.M(t,n);var r=ns;if(r&&t){var l=Qi(r).hoistableScripts,c=rs(t),h=l.get(c);h||(h=r.querySelector(Sl(c)),h||(t=D({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&Xf(t,n),h=r.createElement("script"),Zt(h),Le(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function ip(t,n,r,l){var c=(c=cn.current)?lo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=is(r.href),r=Qi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=is(r.href);var h=Qi(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(Al(t)))&&!h._p&&(y.instance=h,y.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),h||yE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=rs(r),r=Qi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function is(t){return'href="'+ee(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function rp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function yE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),Zt(n),t.head.appendChild(n))}function rs(t){return'[src="'+ee(t)+'"]'}function Sl(t){return"script[async]"+t}function ap(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ee(r.href)+'"]');if(l)return n.instance=l,Zt(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Zt(l),Le(l,"style",c),uo(l,r.precedence,t),n.instance=l;case"stylesheet":c=is(r.href);var h=t.querySelector(Al(c));if(h)return n.state.loading|=4,n.instance=h,Zt(h),h;l=rp(r),(c=wn.get(c))&&Kf(l,c),h=(t.ownerDocument||t).createElement("link"),Zt(h);var y=h;return y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Le(h,"link",l),n.state.loading|=4,uo(h,r.precedence,t),n.instance=h;case"script":return h=rs(r.src),(c=t.querySelector(Sl(h)))?(n.instance=c,Zt(c),c):(l=r,(c=wn.get(h))&&(l=D({},r),Xf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Zt(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,uo(l,r.precedence,t));return n.instance}function uo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Xf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var oo=null;function sp(t,n,r){if(oo===null){var l=new Map,c=oo=new Map;c.set(r,l)}else c=oo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[ji]||h[be]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function lp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function _E(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function up(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Rl=null;function vE(){}function EE(t,n,r){if(Rl===null)throw Error(a(475));var l=Rl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=is(r.href),h=t.querySelector(Al(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=co.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,Zt(h);return}h=t.ownerDocument||t,r=rp(r),(c=wn.get(c))&&Kf(r,c),h=h.createElement("link"),Zt(h);var y=h;y._p=new Promise(function(E,R){y.onload=E,y.onerror=R}),Le(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=co.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function TE(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&Zf(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&Zf(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function co(){if(this.count--,this.count===0){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var fo=null;function Zf(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,fo=new Map,n.forEach(AE,t),fo=null,co.call(t))}function AE(t,n){if(!(n.state.loading&4)){var r=fo.get(t);if(r)var l=r.get(null);else{r=new Map,fo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=r.get(y)||l,h===l&&r.set(null,c),r.set(y,c),this.count++,l=co.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var bl={$$typeof:j,Provider:null,Consumer:null,_currentValue:Rt,_currentValue2:Rt,_threadCount:0};function SE(t,n,r,l,c,h,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function op(t,n,r,l,c,h,y,E,R,I,H,Y){return t=new SE(t,n,r,y,E,R,I,Y),n=1,h===!0&&(n|=24),h=Rn(3,null,null,n),t.current=h,h.stateNode=t,n=Dc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},uf(h),t}function cp(t){return t?(t=La,t):La}function fp(t,n,r,l,c,h){c=cp(c),l.context===null?l.context=c:l.pendingContext=c,l=rr(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=ar(t,l,n),r!==null&&($e(r,t,n),ul(r,t,n))}function hp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function $f(t,n){hp(t,n),(t=t.alternate)&&hp(t,n)}function dp(t){if(t.tag===13){var n=$i(t,67108864);n!==null&&$e(n,t,67108864),$f(t,67108864)}}var ho=!0;function RE(t,n,r,l){var c=A.T;A.T=null;var h=et.p;try{et.p=2,Jf(t,n,r,l)}finally{et.p=h,A.T=c}}function bE(t,n,r,l){var c=A.T;A.T=null;var h=et.p;try{et.p=8,Jf(t,n,r,l)}finally{et.p=h,A.T=c}}function Jf(t,n,r,l){if(ho){var c=Wf(l);if(c===null)Pf(t,n,l,mo,r),gp(t,l);else if(DE(c,t,n,r,l))l.stopPropagation();else if(gp(t,l),n&4&&-1<wE.indexOf(t)){for(;c!==null;){var h=ui(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=Vn(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var R=1<<31-Ye(y);E.entanglements[1]|=R,y&=~R}Jn(h),!(Jt&6)&&(Zu=Je()+500,vl(0))}}break;case 13:E=$i(h,2),E!==null&&$e(E,h,2),Wu(),$f(h,2)}if(h=Wf(l),h===null&&Pf(t,n,l,mo,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else Pf(t,n,l,null,r)}}function Wf(t){return t=Ra(t),th(t)}var mo=null;function th(t){if(mo=null,t=In(t),t!==null){var n=ct(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Pt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return mo=t,null}function mp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jl()){case pe:return 2;case Re:return 8;case si:case Wl:return 32;case Ds:return 268435456;default:return 32}default:return 32}}var eh=!1,hr=null,dr=null,mr=null,wl=new Map,Dl=new Map,gr=[],wE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gp(t,n){switch(t){case"focusin":case"focusout":hr=null;break;case"dragenter":case"dragleave":dr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function Cl(t,n,r,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=ui(n),n!==null&&dp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function DE(t,n,r,l,c){switch(n){case"focusin":return hr=Cl(hr,t,n,r,l,c),!0;case"dragenter":return dr=Cl(dr,t,n,r,l,c),!0;case"mouseover":return mr=Cl(mr,t,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return wl.set(h,Cl(wl.get(h)||null,t,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Dl.set(h,Cl(Dl.get(h)||null,t,n,r,l,c)),!0}return!1}function pp(t){var n=In(t.target);if(n!==null){var r=ct(n);if(r!==null){if(n=r.tag,n===13){if(n=Pt(r),n!==null){t.blockedOn=n,Hi(t.priority,function(){if(r.tag===13){var l=on(),c=$i(r,l);c!==null&&$e(c,r,l),$f(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function go(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=Wf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);mn=l,r.target.dispatchEvent(l),mn=null}else return n=ui(r),n!==null&&dp(n),t.blockedOn=r,!1;n.shift()}return!0}function yp(t,n,r){go(t)&&r.delete(n)}function CE(){eh=!1,hr!==null&&go(hr)&&(hr=null),dr!==null&&go(dr)&&(dr=null),mr!==null&&go(mr)&&(mr=null),wl.forEach(yp),Dl.forEach(yp)}function po(t,n){t.blockedOn===n&&(t.blockedOn=null,eh||(eh=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,CE)))}var yo=null;function _p(t){yo!==t&&(yo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){yo===t&&(yo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(th(l||r)===null)continue;break}var h=ui(r);h!==null&&(t.splice(n,3),n-=3,jc(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Vl(t){function n(R){return po(R,t)}hr!==null&&po(hr,t),dr!==null&&po(dr,t),mr!==null&&po(mr,t),wl.forEach(n),Dl.forEach(n);for(var r=0;r<gr.length;r++){var l=gr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<gr.length&&(r=gr[0],r.blockedOn===null);)pp(r),r.blockedOn===null&&gr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],y=c[ye]||null;if(typeof h=="function")y||_p(r);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[ye]||null)E=y.formAction;else if(th(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),_p(r)}}}function nh(t){this._internalRoot=t}_o.prototype.render=nh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=on();fp(r,l,t,n,null,null)},_o.prototype.unmount=nh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&Wa(),fp(t.current,2,null,t,null,null),Wu(),n[li]=null}};function _o(t){this._internalRoot=t}_o.prototype.unstable_scheduleHydration=function(t){if(t){var n=ru();t={blockedOn:null,target:t,priority:n};for(var r=0;r<gr.length&&n!==0&&n<gr[r].priority;r++);gr.splice(r,0,t),r===0&&pp(t)}};var vp=e.version;if(vp!=="19.0.0")throw Error(a(527,vp,"19.0.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=K(n),t=t!==null?ut(t):null,t=t===null?null:t.stateNode,t};var VE={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:In,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vo.isDisabled&&vo.supportsFiber)try{Li=vo.inject(VE),Pe=vo}catch{}}return Ol.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=Lm,h=zm,y=Bm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=op(t,1,!1,null,null,r,l,c,h,y,E,null),t[li]=n.current,qf(t.nodeType===8?t.parentNode:t),new nh(n)},Ol.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",h=Lm,y=zm,E=Bm,R=null,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks),r.formState!==void 0&&(I=r.formState)),n=op(t,1,!0,n,r??null,l,c,h,y,E,R,I),n.context=cp(null),r=n.current,l=on(),c=rr(l),c.callback=null,ar(r,c,l),n.current.lanes=l,ae(n,l),Jn(n),t[li]=n.current,qf(t),new _o(n)},Ol.version="19.0.0",Ol}var Vp;function qE(){if(Vp)return ah.exports;Vp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ah.exports=BE(),ah.exports}var PE=qE(),Ip={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},kE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const f=s[i++];e[a++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const f=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(f&63)<<6|d&63)}}return e.join("")},Iy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const f=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,S=f>>2,M=(f&3)<<4|g>>4;let q=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(q=64)),a.push(i[S],i[M],i[q],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(Vy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):kE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const f=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const M=u<s.length?i[s.charAt(u)]:64;if(++u,f==null||g==null||v==null||M==null)throw new HE;const q=f<<2|g>>4;if(a.push(q),v!==64){const j=g<<4&240|v>>2;if(a.push(j),M!==64){const $=v<<6&192|M;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class HE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jE=function(s){const e=Vy(s);return Iy.encodeByteArray(e,!0)},No=function(s){return jE(s).replace(/\./g,"")},GE=function(s){try{return Iy.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=()=>QE().__FIREBASE_DEFAULTS__,YE=()=>{if(typeof process>"u"||typeof Ip>"u")return;const s=Ip.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},KE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&GE(s[1]);return e&&JSON.parse(e)},Ph=()=>{try{return FE()||YE()||KE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},XE=s=>{var e,i;return(i=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},ZE=s=>{const e=XE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},Oy=()=>{var s;return(s=Ph())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},s);return[No(JSON.stringify(i)),No(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tT(){var s;const e=(s=Ph())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eT(){return!tT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function nT(){try{return typeof indexedDB=="object"}catch{return!1}}function iT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var f;e(((f=u.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="FirebaseError";class vs extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=rT,Object.setPrototypeOf(this,vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ny.prototype.create)}}class Ny{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,f=this.errors[e],d=f?aT(f,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new vs(u,g,a)}}function aT(s,e){return s.replace(sT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const sT=/\{\$([^}]+)}/g;function _h(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const f=s[u],d=e[u];if(Op(f)&&Op(d)){if(!_h(f,d))return!1}else if(f!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function Op(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(s){return s&&s._delegate?s._delegate:s}class ql{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new $E;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(f){if(u)return null;throw f}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oT(e))try{this.getOrInitializeService({instanceIdentifier:la})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:u});a.resolve(f)}catch{}}}}clearInstance(e=la){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=la){return this.instances.has(e)}getOptions(e=la){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),f=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;f.add(e),this.onInitCallbacks.set(u,f);const d=this.instances.get(u);return d&&e(d,u),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:uT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=la){return this.component?this.component.multipleInstances?e:la:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uT(s){return s===la?void 0:s}function oT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new lT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const fT={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},hT=xt.INFO,dT={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},mT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=dT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class My{constructor(e){this.name=e,this._logLevel=hT,this._logHandler=mT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const gT=(s,e)=>e.some(i=>s instanceof i);let Np,Mp;function pT(){return Np||(Np=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yT(){return Mp||(Mp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Uy=new WeakMap,vh=new WeakMap,xy=new WeakMap,oh=new WeakMap,kh=new WeakMap;function _T(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",f),s.removeEventListener("error",d)},f=()=>{i(_r(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",f),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Uy.set(i,s)}).catch(()=>{}),kh.set(e,s),e}function vT(s){if(vh.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",d),s.removeEventListener("abort",d)},f=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",f),s.addEventListener("error",d),s.addEventListener("abort",d)});vh.set(s,e)}let Eh={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return vh.get(s);if(e==="objectStoreNames")return s.objectStoreNames||xy.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return _r(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function ET(s){Eh=s(Eh)}function TT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(ch(this),e,...i);return xy.set(a,e.sort?e.sort():[e]),_r(a)}:yT().includes(s)?function(...e){return s.apply(ch(this),e),_r(Uy.get(this))}:function(...e){return _r(s.apply(ch(this),e))}}function AT(s){return typeof s=="function"?TT(s):(s instanceof IDBTransaction&&vT(s),gT(s,pT())?new Proxy(s,Eh):s)}function _r(s){if(s instanceof IDBRequest)return _T(s);if(oh.has(s))return oh.get(s);const e=AT(s);return e!==s&&(oh.set(s,e),kh.set(e,s)),e}const ch=s=>kh.get(s);function ST(s,e,{blocked:i,upgrade:a,blocking:u,terminated:f}={}){const d=indexedDB.open(s,e),g=_r(d);return a&&d.addEventListener("upgradeneeded",_=>{a(_r(d.result),_.oldVersion,_.newVersion,_r(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{f&&_.addEventListener("close",()=>f()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const RT=["get","getKey","getAll","getAllKeys","count"],bT=["put","add","delete","clear"],fh=new Map;function Up(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(fh.get(e))return fh.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=bT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||RT.includes(i)))return;const f=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return fh.set(e,f),f}ET(s=>({...s,get:(e,i,a)=>Up(e,i)||s.get(e,i,a),has:(e,i)=>!!Up(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(DT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function DT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Th="@firebase/app",xp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new My("@firebase/app"),CT="@firebase/app-compat",VT="@firebase/analytics-compat",IT="@firebase/analytics",OT="@firebase/app-check-compat",NT="@firebase/app-check",MT="@firebase/auth",UT="@firebase/auth-compat",xT="@firebase/database",LT="@firebase/data-connect",zT="@firebase/database-compat",BT="@firebase/functions",qT="@firebase/functions-compat",PT="@firebase/installations",kT="@firebase/installations-compat",HT="@firebase/messaging",jT="@firebase/messaging-compat",GT="@firebase/performance",QT="@firebase/performance-compat",FT="@firebase/remote-config",YT="@firebase/remote-config-compat",KT="@firebase/storage",XT="@firebase/storage-compat",ZT="@firebase/firestore",$T="@firebase/vertexai",JT="@firebase/firestore-compat",WT="firebase",t0="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="[DEFAULT]",e0={[Th]:"fire-core",[CT]:"fire-core-compat",[IT]:"fire-analytics",[VT]:"fire-analytics-compat",[NT]:"fire-app-check",[OT]:"fire-app-check-compat",[MT]:"fire-auth",[UT]:"fire-auth-compat",[xT]:"fire-rtdb",[LT]:"fire-data-connect",[zT]:"fire-rtdb-compat",[BT]:"fire-fn",[qT]:"fire-fn-compat",[PT]:"fire-iid",[kT]:"fire-iid-compat",[HT]:"fire-fcm",[jT]:"fire-fcm-compat",[GT]:"fire-perf",[QT]:"fire-perf-compat",[FT]:"fire-rc",[YT]:"fire-rc-compat",[KT]:"fire-gcs",[XT]:"fire-gcs-compat",[ZT]:"fire-fst",[JT]:"fire-fst-compat",[$T]:"fire-vertex","fire-js":"fire-js",[WT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=new Map,n0=new Map,Sh=new Map;function Lp(s,e){try{s.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Uo(s){const e=s.name;if(Sh.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;Sh.set(e,s);for(const i of Mo.values())Lp(i,s);for(const i of n0.values())Lp(i,s);return!0}function i0(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vr=new Ny("app","Firebase",r0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0=t0;function Ly(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Ah,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw vr.create("bad-app-name",{appName:String(u)});if(i||(i=Oy()),!i)throw vr.create("no-options");const f=Mo.get(u);if(f){if(_h(i,f.options)&&_h(a,f.config))return f;throw vr.create("duplicate-app",{appName:u})}const d=new cT(u);for(const _ of Sh.values())d.addComponent(_);const g=new a0(i,a,d);return Mo.set(u,g),g}function l0(s=Ah){const e=Mo.get(s);if(!e&&s===Ah&&Oy())return Ly();if(!e)throw vr.create("no-app",{appName:s});return e}function os(s,e,i){var a;let u=(a=e0[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const f=u.match(/\s|\//),d=e.match(/\s|\//);if(f||d){const g=[`Unable to register library "${u}" with version "${e}":`];f&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),f&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(g.join(" "));return}Uo(new ql(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="firebase-heartbeat-database",o0=1,Pl="firebase-heartbeat-store";let hh=null;function zy(){return hh||(hh=ST(u0,o0,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Pl)}catch(i){console.warn(i)}}}}).catch(s=>{throw vr.create("idb-open",{originalErrorMessage:s.message})})),hh}async function c0(s){try{const i=(await zy()).transaction(Pl),a=await i.objectStore(Pl).get(By(s));return await i.done,a}catch(e){if(e instanceof vs)Oi.warn(e.message);else{const i=vr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function zp(s,e){try{const a=(await zy()).transaction(Pl,"readwrite");await a.objectStore(Pl).put(e,By(s)),await a.done}catch(i){if(i instanceof vs)Oi.warn(i.message);else{const a=vr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(a.message)}}}function By(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=1024,h0=30*24*60*60*1e3;class d0{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new g0(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Bp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f)?void 0:(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=h0}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Bp(),{heartbeatsToSend:a,unsentEntries:u}=m0(this._heartbeatsCache.heartbeats),f=No(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Oi.warn(i),""}}}function Bp(){return new Date().toISOString().substring(0,10)}function m0(s,e=f0){const i=[];let a=s.slice();for(const u of s){const f=i.find(d=>d.agent===u.agent);if(f){if(f.dates.push(u.date),qp(i)>e){f.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),qp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class g0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nT()?iT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await c0(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return zp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return zp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function qp(s){return No(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(s){Uo(new ql("platform-logger",e=>new wT(e),"PRIVATE")),Uo(new ql("heartbeat",e=>new d0(e),"PRIVATE")),os(Th,xp,s),os(Th,xp,"esm2017"),os("fire-js","")}p0("");var y0="firebase",_0="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(y0,_0,"app");var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,qy;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,b){function A(){}A.prototype=b.prototype,N.D=b.prototype,N.prototype=new A,N.prototype.constructor=N,N.C=function(D,O,L){for(var w=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)w[ge-2]=arguments[ge];return b.prototype[O].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,b,A){A||(A=0);var D=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)D[O]=b.charCodeAt(A++)|b.charCodeAt(A++)<<8|b.charCodeAt(A++)<<16|b.charCodeAt(A++)<<24;else for(O=0;16>O;++O)D[O]=b[A++]|b[A++]<<8|b[A++]<<16|b[A++]<<24;b=N.g[0],A=N.g[1],O=N.g[2];var L=N.g[3],w=b+(L^A&(O^L))+D[0]+3614090360&4294967295;b=A+(w<<7&4294967295|w>>>25),w=L+(O^b&(A^O))+D[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(A^L&(b^A))+D[2]+606105819&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(b^O&(L^b))+D[3]+3250441966&4294967295,A=O+(w<<22&4294967295|w>>>10),w=b+(L^A&(O^L))+D[4]+4118548399&4294967295,b=A+(w<<7&4294967295|w>>>25),w=L+(O^b&(A^O))+D[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(A^L&(b^A))+D[6]+2821735955&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(b^O&(L^b))+D[7]+4249261313&4294967295,A=O+(w<<22&4294967295|w>>>10),w=b+(L^A&(O^L))+D[8]+1770035416&4294967295,b=A+(w<<7&4294967295|w>>>25),w=L+(O^b&(A^O))+D[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(A^L&(b^A))+D[10]+4294925233&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(b^O&(L^b))+D[11]+2304563134&4294967295,A=O+(w<<22&4294967295|w>>>10),w=b+(L^A&(O^L))+D[12]+1804603682&4294967295,b=A+(w<<7&4294967295|w>>>25),w=L+(O^b&(A^O))+D[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(A^L&(b^A))+D[14]+2792965006&4294967295,O=L+(w<<17&4294967295|w>>>15),w=A+(b^O&(L^b))+D[15]+1236535329&4294967295,A=O+(w<<22&4294967295|w>>>10),w=b+(O^L&(A^O))+D[1]+4129170786&4294967295,b=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(b^A))+D[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^A&(L^b))+D[11]+643717713&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^b&(O^L))+D[0]+3921069994&4294967295,A=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(A^O))+D[5]+3593408605&4294967295,b=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(b^A))+D[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^A&(L^b))+D[15]+3634488961&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^b&(O^L))+D[4]+3889429448&4294967295,A=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(A^O))+D[9]+568446438&4294967295,b=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(b^A))+D[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^A&(L^b))+D[3]+4107603335&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^b&(O^L))+D[8]+1163531501&4294967295,A=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(A^O))+D[13]+2850285829&4294967295,b=A+(w<<5&4294967295|w>>>27),w=L+(A^O&(b^A))+D[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^A&(L^b))+D[7]+1735328473&4294967295,O=L+(w<<14&4294967295|w>>>18),w=A+(L^b&(O^L))+D[12]+2368359562&4294967295,A=O+(w<<20&4294967295|w>>>12),w=b+(A^O^L)+D[5]+4294588738&4294967295,b=A+(w<<4&4294967295|w>>>28),w=L+(b^A^O)+D[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^A)+D[11]+1839030562&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^b)+D[14]+4259657740&4294967295,A=O+(w<<23&4294967295|w>>>9),w=b+(A^O^L)+D[1]+2763975236&4294967295,b=A+(w<<4&4294967295|w>>>28),w=L+(b^A^O)+D[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^A)+D[7]+4139469664&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^b)+D[10]+3200236656&4294967295,A=O+(w<<23&4294967295|w>>>9),w=b+(A^O^L)+D[13]+681279174&4294967295,b=A+(w<<4&4294967295|w>>>28),w=L+(b^A^O)+D[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^A)+D[3]+3572445317&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^b)+D[6]+76029189&4294967295,A=O+(w<<23&4294967295|w>>>9),w=b+(A^O^L)+D[9]+3654602809&4294967295,b=A+(w<<4&4294967295|w>>>28),w=L+(b^A^O)+D[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^A)+D[15]+530742520&4294967295,O=L+(w<<16&4294967295|w>>>16),w=A+(O^L^b)+D[2]+3299628645&4294967295,A=O+(w<<23&4294967295|w>>>9),w=b+(O^(A|~L))+D[0]+4096336452&4294967295,b=A+(w<<6&4294967295|w>>>26),w=L+(A^(b|~O))+D[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~A))+D[14]+2878612391&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~b))+D[5]+4237533241&4294967295,A=O+(w<<21&4294967295|w>>>11),w=b+(O^(A|~L))+D[12]+1700485571&4294967295,b=A+(w<<6&4294967295|w>>>26),w=L+(A^(b|~O))+D[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~A))+D[10]+4293915773&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~b))+D[1]+2240044497&4294967295,A=O+(w<<21&4294967295|w>>>11),w=b+(O^(A|~L))+D[8]+1873313359&4294967295,b=A+(w<<6&4294967295|w>>>26),w=L+(A^(b|~O))+D[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~A))+D[6]+2734768916&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~b))+D[13]+1309151649&4294967295,A=O+(w<<21&4294967295|w>>>11),w=b+(O^(A|~L))+D[4]+4149444226&4294967295,b=A+(w<<6&4294967295|w>>>26),w=L+(A^(b|~O))+D[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~A))+D[2]+718787259&4294967295,O=L+(w<<15&4294967295|w>>>17),w=A+(L^(O|~b))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}a.prototype.u=function(N,b){b===void 0&&(b=N.length);for(var A=b-this.blockSize,D=this.B,O=this.h,L=0;L<b;){if(O==0)for(;L<=A;)u(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<b;)if(D[O++]=N.charCodeAt(L++),O==this.blockSize){u(this,D),O=0;break}}else for(;L<b;)if(D[O++]=N[L++],O==this.blockSize){u(this,D),O=0;break}}this.h=O,this.o+=b},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;var A=8*this.o;for(b=N.length-8;b<N.length;++b)N[b]=A&255,A/=256;for(this.u(N),N=Array(16),b=A=0;4>b;++b)for(var D=0;32>D;D+=8)N[A++]=this.g[b]>>>D&255;return N};function f(N,b){var A=g;return Object.prototype.hasOwnProperty.call(A,N)?A[N]:A[N]=b(N)}function d(N,b){this.h=b;for(var A=[],D=!0,O=N.length-1;0<=O;O--){var L=N[O]|0;D&&L==b||(A[O]=L,D=!1)}this.g=A}var g={};function _(N){return-128<=N&&128>N?f(N,function(b){return new d([b|0],0>b?-1:0)}):new d([N|0],0>N?-1:0)}function v(N){if(isNaN(N)||!isFinite(N))return M;if(0>N)return Z(v(-N));for(var b=[],A=1,D=0;N>=A;D++)b[D]=N/A|0,A*=4294967296;return new d(b,0)}function S(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return Z(S(N.substring(1),b));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(b,8)),D=M,O=0;O<N.length;O+=8){var L=Math.min(8,N.length-O),w=parseInt(N.substring(O,O+L),b);8>L?(L=v(Math.pow(b,L)),D=D.j(L).add(v(w))):(D=D.j(A),D=D.add(v(w)))}return D}var M=_(0),q=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(it(this))return-Z(this).m();for(var N=0,b=1,A=0;A<this.g.length;A++){var D=this.i(A);N+=(0<=D?D:4294967296+D)*b,b*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(it(this))return"-"+Z(this).toString(N);for(var b=v(Math.pow(N,6)),A=this,D="";;){var O=ht(A,b).g;A=St(A,O.j(b));var L=((0<A.g.length?A.g[0]:A.h)>>>0).toString(N);if(A=O,$(A))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function it(N){return N.h==-1}s.l=function(N){return N=St(this,N),it(N)?-1:$(N)?0:1};function Z(N){for(var b=N.g.length,A=[],D=0;D<b;D++)A[D]=~N.g[D];return new d(A,~N.h).add(q)}s.abs=function(){return it(this)?Z(this):this},s.add=function(N){for(var b=Math.max(this.g.length,N.g.length),A=[],D=0,O=0;O<=b;O++){var L=D+(this.i(O)&65535)+(N.i(O)&65535),w=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);D=w>>>16,L&=65535,w&=65535,A[O]=w<<16|L}return new d(A,A[A.length-1]&-2147483648?-1:0)};function St(N,b){return N.add(Z(b))}s.j=function(N){if($(this)||$(N))return M;if(it(this))return it(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(it(N))return Z(this.j(Z(N)));if(0>this.l(j)&&0>N.l(j))return v(this.m()*N.m());for(var b=this.g.length+N.g.length,A=[],D=0;D<2*b;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var O=0;O<N.g.length;O++){var L=this.i(D)>>>16,w=this.i(D)&65535,ge=N.i(O)>>>16,ue=N.i(O)&65535;A[2*D+2*O]+=w*ue,pt(A,2*D+2*O),A[2*D+2*O+1]+=L*ue,pt(A,2*D+2*O+1),A[2*D+2*O+1]+=w*ge,pt(A,2*D+2*O+1),A[2*D+2*O+2]+=L*ge,pt(A,2*D+2*O+2)}for(D=0;D<b;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=b;D<2*b;D++)A[D]=0;return new d(A,0)};function pt(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function J(N,b){this.g=N,this.h=b}function ht(N,b){if($(b))throw Error("division by zero");if($(N))return new J(M,M);if(it(N))return b=ht(Z(N),b),new J(Z(b.g),Z(b.h));if(it(b))return b=ht(N,Z(b)),new J(Z(b.g),b.h);if(30<N.g.length){if(it(N)||it(b))throw Error("slowDivide_ only works with positive integers.");for(var A=q,D=b;0>=D.l(N);)A=at(A),D=at(D);var O=yt(A,1),L=yt(D,1);for(D=yt(D,2),A=yt(A,2);!$(D);){var w=L.add(D);0>=w.l(N)&&(O=O.add(A),L=w),D=yt(D,1),A=yt(A,1)}return b=St(N,O.j(b)),new J(O,b)}for(O=M;0<=N.l(b);){for(A=Math.max(1,Math.floor(N.m()/b.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=v(A),w=L.j(b);it(w)||0<w.l(N);)A-=D,L=v(A),w=L.j(b);$(L)&&(L=q),O=O.add(L),N=St(N,w)}return new J(O,N)}s.A=function(N){return ht(this,N).h},s.and=function(N){for(var b=Math.max(this.g.length,N.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)&N.i(D);return new d(A,this.h&N.h)},s.or=function(N){for(var b=Math.max(this.g.length,N.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)|N.i(D);return new d(A,this.h|N.h)},s.xor=function(N){for(var b=Math.max(this.g.length,N.g.length),A=[],D=0;D<b;D++)A[D]=this.i(D)^N.i(D);return new d(A,this.h^N.h)};function at(N){for(var b=N.g.length+1,A=[],D=0;D<b;D++)A[D]=N.i(D)<<1|N.i(D-1)>>>31;return new d(A,N.h)}function yt(N,b){var A=b>>5;b%=32;for(var D=N.g.length-A,O=[],L=0;L<D;L++)O[L]=0<b?N.i(L+A)>>>b|N.i(L+A+1)<<32-b:N.i(L+A);return new d(O,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,qy=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Er=d}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});var Eo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Py,Nl,ky,wo,Rh,Hy,jy,Gy;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Eo=="object"&&Eo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var x=o[T];if(!(x in p))break t;p=p[x]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function f(o,m){o instanceof String&&(o+="");var p=0,T=!1,x={next:function(){if(!T&&p<o.length){var P=p++;return{value:m(P,o[P]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(o){return o||function(){return f(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function S(o,m,p){return o.call.apply(o.bind,arguments)}function M(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),o.apply(m,x)}}return function(){return o.apply(m,arguments)}}function q(o,m,p){return q=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:M,q.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,x,P){for(var X=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)X[Ot-2]=arguments[Ot];return m.prototype[x].apply(T,X)}}function it(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function Z(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const x=o.length||0,P=T.length||0;o.length=x+P;for(let X=0;X<P;X++)o[x+X]=T[X]}else o.push(T)}}class St{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(o){return/^[\s\xa0]*$/.test(o)}function J(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function ht(o){return ht[" "](o),o}ht[" "]=function(){};var at=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function yt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function N(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function b(o){const m={};for(const p in o)m[p]=o[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let p,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(p in T)o[p]=T[p];for(let P=0;P<A.length;P++)p=A[P],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function O(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function L(o){g.setTimeout(()=>{throw o},0)}function w(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class ge{constructor(){this.h=this.g=null}add(m,p){const T=ue.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ue=new St(()=>new W,o=>o.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,ct=!1,Pt=new ge,C=()=>{const o=g.Promise.resolve(void 0);mt=()=>{o.then(K)}};var K=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){L(p)}var m=ue;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ct=!1};function ut(){this.s=this.s,this.C=this.C}ut.prototype.s=!1,ut.prototype.ma=function(){this.s||(this.s=!0,this.N())},ut.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var et=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Rt(o,m){if(tt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(at){t:{try{ht(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Tt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}$(Rt,tt);var Tt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var oe="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function te(o,m,p,T,x){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=x,this.key=++Lt,this.da=this.fa=!1}function jt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Fe(o){this.src=o,this.g={},this.h=0}Fe.prototype.add=function(o,m,p,T,x){var P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);var X=cn(o,m,T,x);return-1<X?(m=o[X],p||(m.fa=!1)):(m=new te(m,this.src,P,!!T,x),m.fa=p,o.push(m)),m};function ri(o,m){var p=m.type;if(p in o.g){var T=o.g[p],x=Array.prototype.indexOf.call(T,m,void 0),P;(P=0<=x)&&Array.prototype.splice.call(T,x,1),P&&(jt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function cn(o,m,p,T){for(var x=0;x<o.length;++x){var P=o[x];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return x}return-1}var Ui="closure_lm_"+(1e6*Math.random()|0),xi={};function ai(o,m,p,T,x){if(Array.isArray(m)){for(var P=0;P<m.length;P++)ai(o,m[P],p,T,x);return null}return p=Jl(p),o&&o[oe]?o.K(m,p,v(T)?!!T.capture:!1,x):bs(o,m,p,!1,T,x)}function bs(o,m,p,T,x,P){if(!m)throw Error("Invalid event type");var X=v(x)?!!x.capture:!!x,Ot=ws(o);if(Ot||(o[Ui]=Ot=new Fe(o)),p=Ot.add(m,p,T,X,P),p.proxy)return p;if(T=ga(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)et||(x=X),x===void 0&&(x=!1),o.addEventListener(m.toString(),T,x);else if(o.attachEvent)o.attachEvent(ya(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ga(){function o(p){return m.call(o.src,o.listener,p)}const m=rc;return o}function pa(o,m,p,T,x){if(Array.isArray(m))for(var P=0;P<m.length;P++)pa(o,m[P],p,T,x);else T=v(T)?!!T.capture:!!T,p=Jl(p),o&&o[oe]?(o=o.i,m=String(m).toString(),m in o.g&&(P=o.g[m],p=cn(P,p,T,x),-1<p&&(jt(P[p]),Array.prototype.splice.call(P,p,1),P.length==0&&(delete o.g[m],o.h--)))):o&&(o=ws(o))&&(m=o.g[m.toString()],o=-1,m&&(o=cn(m,p,T,x)),(p=-1<o?m[o]:null)&&Cr(p))}function Cr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[oe])ri(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(ya(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ws(m))?(ri(p,o),p.h==0&&(p.src=null,m[Ui]=null)):jt(o)}}}function ya(o){return o in xi?xi[o]:xi[o]="on"+o}function rc(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Cr(o),o=p.call(T,m)}return o}function ws(o){return o=o[Ui],o instanceof Fe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jl(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function pe(){ut.call(this),this.i=new Fe(this),this.M=this,this.F=null}$(pe,ut),pe.prototype[oe]=!0,pe.prototype.removeEventListener=function(o,m,p,T){pa(this,o,m,p,T)};function Re(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new tt(m,o);else if(m instanceof tt)m.target=m.target||o;else{var x=m;m=new tt(T,o),D(m,x)}if(x=!0,p)for(var P=p.length-1;0<=P;P--){var X=m.g=p[P];x=si(X,T,!0,m)&&x}if(X=m.g=o,x=si(X,T,!0,m)&&x,x=si(X,T,!1,m)&&x,p)for(P=0;P<p.length;P++)X=m.g=p[P],x=si(X,T,!1,m)&&x}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)jt(p[T]);delete o.g[m],o.h--}}this.F=null},pe.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},pe.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function si(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,P=0;P<m.length;++P){var X=m[P];if(X&&!X.da&&X.capture==p){var Ot=X.listener,_e=X.ha||X.src;X.fa&&ri(o.i,X),x=Ot.call(_e,T)!==!1&&x}}return x&&!T.defaultPrevented}function Wl(o,m,p){if(typeof o=="function")p&&(o=q(o,p));else if(o&&typeof o.handleEvent=="function")o=q(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Ds(o){o.g=Wl(()=>{o.g=null,o.i&&(o.i=!1,Ds(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class ac extends ut{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ds(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(o){ut.call(this),this.h=o,this.g={}}$(Vr,ut);var Li=[];function Pe(o){yt(o.g,function(m,p){this.g.hasOwnProperty(p)&&Cr(m)},o),o.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),Pe(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cs=g.JSON.stringify,zn=g.JSON.parse,Ye=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Vs(){}Vs.prototype.h=null;function tu(o){return o.h||(o.h=o.i())}function eu(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zi(){tt.call(this,"d")}$(zi,tt);function Vn(){tt.call(this,"c")}$(Vn,tt);var fn={},Bi=null;function _a(){return Bi=Bi||new pe}fn.La="serverreachability";function Is(o){tt.call(this,fn.La,o)}$(Is,tt);function qi(o){const m=_a();Re(m,new Is(m))}fn.STAT_EVENT="statevent";function va(o,m){tt.call(this,fn.STAT_EVENT,o),this.stat=m}$(va,tt);function ae(o){const m=_a();Re(m,new va(m,o))}fn.Ma="timingevent";function nu(o,m){tt.call(this,fn.Ma,o),this.size=m}$(nu,tt);function Pi(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function ki(){this.g=!0}ki.prototype.xa=function(){this.g=!1};function iu(o,m,p,T,x,P){o.info(function(){if(o.g)if(P)for(var X="",Ot=P.split("&"),_e=0;_e<Ot.length;_e++){var Nt=Ot[_e].split("=");if(1<Nt.length){var De=Nt[0];Nt=Nt[1];var ve=De.split("_");X=2<=ve.length&&ve[1]=="type"?X+(De+"="+Nt+"&"):X+(De+"=redacted&")}}else X=null;else X=P;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+p+`
`+X})}function ru(o,m,p,T,x,P,X){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+p+`
`+P+" "+X})}function Hi(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+be(o,p)+(T?" "+T:"")})}function qn(o,m){o.info(function(){return"TIMEOUT: "+m})}ki.prototype.info=function(){};function be(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(var X=1;X<x.length;X++)x[X]=""}}}}return Cs(p)}catch{return m}}var ye={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ir;function Ea(){}$(Ea,Vs),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},Ir=new Ea;function Pn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Os}function Os(){this.i=null,this.g="",this.h=!1}var ji={},Or={};function In(o,m,p){o.L=1,o.v=Ur(ee(m)),o.m=p,o.P=!0,ui(o,null)}function ui(o,m){o.F=Date.now(),Zt(o),o.A=ee(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),fi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Os,o.g=_u(o.j,p?m:null,!o.m),0<o.O&&(o.M=new ac(q(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(Li[0]=x.toString()),x=Li);for(var P=0;P<x.length;P++){var X=ai(p,x[P],T||m.handleEvent,!1,m.h||m);if(!X)break;m.g[X.key]=X}m=o.H?b(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),qi(),iu(o.i,o.u,o.A,o.l,o.R,o.m)}Pn.prototype.ca=function(o){o=o.target;const m=this.M;m&&pn(o)==3?m.j():this.Y(o)},Pn.prototype.Y=function(o){try{if(o==this.g)t:{const ve=pn(this.g);var m=this.g.Ba();const gi=this.g.Z();if(!(3>ve)&&(ve!=3||this.g&&(this.h.h||this.g.oa()||cu(this.g)))){this.J||ve!=4||m==7||(m==8||0>=gi?qi(3):qi(2)),Ta(this);var p=this.g.Z();this.X=p;e:if(Gi(this)){var T=cu(this.g);o="";var x=T.length,P=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),nn(this);var X="";break e}this.h.i=new g.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(P&&m==x-1)});T.length=0,this.h.g+=o,this.C=0,X=this.h.g}else X=this.g.oa();if(this.o=p==200,ru(this.i,this.u,this.A,this.l,this.R,ve,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,_e=this.g;if((Ot=_e.g?_e.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Ot)){var Nt=Ot;break e}}Nt=null}if(p=Nt)Hi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rn(this,p);else{this.o=!1,this.s=3,ae(12),We(this),nn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<X.length;)if(Me=Qi(this,X),Me==Or){ve==4&&(this.s=4,ae(14),p=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==ji){this.s=4,ae(15),Hi(this.i,this.l,X,"[Invalid Chunk]"),p=!1;break}else Hi(this.i,this.l,Me,null),rn(this,Me);if(Gi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||X.length!=0||this.h.h||(this.s=1,ae(16),p=!1),this.o=this.o&&p,!p)Hi(this.i,this.l,X,"[Invalid Chunked Response]"),We(this),nn(this);else if(0<X.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+X.length),kr(De),De.M=!0,ae(11))}}else Hi(this.i,this.l,X,null),rn(this,X);ve==4&&We(this),this.o&&!this.J&&(ve==4?gu(this.j,this):(this.o=!1,Zt(this)))}else fc(this.g),p==400&&0<X.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),We(this),nn(this)}}}catch{}finally{}};function Gi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Qi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Or:(p=Number(m.substring(p,T)),isNaN(p)?ji:(T+=1,T+p>m.length?Or:(m=m.slice(T,T+p),o.C=T+p,m)))}Pn.prototype.cancel=function(){this.J=!0,We(this)};function Zt(o){o.S=Date.now()+o.I,Ns(o,o.I)}function Ns(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Pi(q(o.ba,o),m)}function Ta(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Pn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(qn(this.i,this.A),this.L!=2&&(qi(),ae(17)),We(this),this.s=2,nn(this)):Ns(this,this.S-o)};function nn(o){o.j.G==0||o.J||gu(o.j,o)}function We(o){Ta(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Pe(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function rn(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Fi(p.h,o))){if(!o.K&&Fi(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Oa(p),Va(p);else break t;js(p),ae(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=Pi(q(p.Za,p),6e3));if(1>=au(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else mi(p,11)}else if((o.K||p.g==o)&&Oa(p),!pt(m))for(x=p.Da.g.parse(m),m=0;m<x.length;m++){let Nt=x[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const De=Nt[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const ve=Nt[4];ve!=null&&(p.Aa=ve,p.j.info("SVER="+p.Aa));const gi=Nt[5];gi!=null&&typeof gi=="number"&&0<gi&&(T=1.5*gi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Yn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var P=T.h;P.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Yi(P,P.h),P.h=null))}if(T.D){const Qs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Qs&&(T.ya=Qs,zt(T.I,T.D,Qs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var X=o;if(T.qa=yu(T,T.J?T.ia:null,T.W),X.K){hn(T.h,X);var Ot=X,_e=T.L;_e&&(Ot.I=_e),Ot.B&&(Ta(Ot),Zt(Ot)),T.g=X}else du(T);0<p.i.length&&Ia(p)}else Nt[0]!="stop"&&Nt[0]!="close"||mi(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?mi(p,7):ks(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}qi(4)}catch{}}var sc=class{constructor(o,m){this.g=o,this.map=m}};function Ms(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Us(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function au(o){return o.h?1:o.g?o.g.size:0}function Fi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Yi(o,m){o.g?o.g.add(m):o.h=m}function hn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Ms.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ke(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return it(o.i)}function su(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function lc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Nr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=lc(o),T=su(o),x=T.length,P=0;P<x;P++)m.call(void 0,T[P],p&&p[P],o)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),x=null;if(0<=T){var P=o[p].substring(0,T);x=o[p].substring(T+1)}else P=o[p];m(P,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function oi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof oi){this.h=o.h,Ki(this,o.j),this.o=o.o,this.g=o.g,Mr(this,o.s),this.l=o.l;var m=o.i,p=new kn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Sa(this,p),this.m=o.m}else o&&(m=String(o).match(xs))?(this.h=!1,Ki(this,m[1]||"",!0),this.o=Xi(m[2]||""),this.g=Xi(m[3]||"",!0),Mr(this,m[4]),this.l=Xi(m[5]||"",!0),Sa(this,m[6]||"",!0),this.m=Xi(m[7]||"")):(this.h=!1,this.i=new kn(null,this.h))}oi.prototype.toString=function(){var o=[],m=this.j;m&&o.push(dn(m,Ls,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(dn(m,Ls,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(dn(p,p.charAt(0)=="/"?zs:lu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",dn(p,cc)),o.join("")};function ee(o){return new oi(o)}function Ki(o,m,p){o.j=p?Xi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Mr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Sa(o,m,p){m instanceof kn?(o.i=m,Bs(o.i,o.h)):(p||(m=dn(m,oc)),o.i=new kn(m,o.h))}function zt(o,m,p){o.i.set(m,p)}function Ur(o){return zt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Xi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function dn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,uc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function uc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ls=/[#\/\?@]/g,lu=/[#\?:]/g,zs=/[#\?]/g,oc=/[#\?@]/g,cc=/#/g;function kn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function mn(o){o.g||(o.g=new Map,o.h=0,o.i&&Aa(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=kn.prototype,s.add=function(o,m){mn(this),this.i=null,o=hi(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Ra(o,m){mn(o),m=hi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return mn(o),m=hi(o,m),o.g.has(m)}s.forEach=function(o,m){mn(this),this.g.forEach(function(p,T){p.forEach(function(x){o.call(m,x,T,this)},this)},this)},s.na=function(){mn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const x=o[T];for(let P=0;P<x.length;P++)p.push(m[T])}return p},s.V=function(o){mn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(hi(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return mn(this),this.i=null,o=hi(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function fi(o,m,p){Ra(o,m),0<p.length&&(o.i=null,o.g.set(hi(o,m),it(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const P=encodeURIComponent(String(T)),X=this.V(T);for(T=0;T<X.length;T++){var x=P;X[T]!==""&&(x+="="+encodeURIComponent(String(X[T]))),o.push(x)}}return this.i=o.join("&")};function hi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Bs(o,m){m&&!o.j&&(mn(o),o.i=null,o.g.forEach(function(p,T){var x=T.toLowerCase();T!=x&&(Ra(this,T),fi(this,x,p))},o)),o.j=m}function uu(o,m){const p=new ki;if(g.Image){const T=new Image;T.onload=j(gn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(gn,p,"TestLoadImage: error",!1,m,T),T.onabort=j(gn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(gn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function xr(o,m){const p=new ki,T=new AbortController,x=setTimeout(()=>{T.abort(),gn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(x),P.ok?gn(p,"TestPingServer: ok",!0,m):gn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),gn(p,"TestPingServer: error",!1,m)})}function gn(o,m,p,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(p)}catch{}}function Lr(){this.g=new Ye}function Hn(o,m,p){const T=p||"";try{Nr(o,function(x,P){let X=x;v(x)&&(X=Cs(x)),m.push(T+P+"="+encodeURIComponent(X))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function Zi(o){this.l=o.Ub||null,this.j=o.eb||!1}$(Zi,Vs),Zi.prototype.g=function(){return new di(this.l,this.j)},Zi.prototype.i=function(o){return function(){return o}}({});function di(o,m){pe.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(di,pe),s=di.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Gn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qs(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function qs(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?jn(this):Gn(this),this.readyState==3&&qs(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,jn(this))},s.Qa=function(o){this.g&&(this.response=o,jn(this))},s.ga=function(){this.g&&jn(this)};function jn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Gn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Gn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Ps(o){let m="";return yt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Ps(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):zt(o,m,p))}function kt(o){pe.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(kt,pe);var ba=/^https?$/i,zr=["POST","PUT"];s=kt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ir.g(),this.v=this.o?tu(this.o):tu(Ir),this.g.onreadystatechange=q(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){ou(this,P);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)p.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),x=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(zr,m,void 0))||T||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,X]of p)this.g.setRequestHeader(P,X);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Br(this),this.u=!0,this.g.send(o),this.u=!1}catch(P){ou(this,P)}};function ou(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,wa(o),Qn(o)}function wa(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Qn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Da(this):this.bb())},s.bb=function(){Da(this)};function Da(o){if(o.h&&typeof d<"u"&&(!o.v[1]||pn(o)!=4||o.Z()!=2)){if(o.u&&pn(o)==4)Wl(o.Ea,0,o);else if(Re(o,"readystatechange"),pn(o)==4){o.h=!1;try{const X=o.Z();t:switch(X){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=X===0){var x=String(o.D).match(xs)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),T=!ba.test(x?x.toLowerCase():"")}p=T}if(p)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var P=2<pn(o)?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.Z()+"]",wa(o)}}finally{Qn(o)}}}}function Qn(o,m){if(o.g){Br(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{p.onreadystatechange=T}catch{}}}function Br(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function pn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),zn(m)}};function cu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function fc(o){const m={};o=(o.g&&2<=pn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(pt(o[T]))continue;var p=O(o[T]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[x]||[];m[x]=P,P.push(p)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ca(o){this.Aa=0,this.i=[],this.j=new ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,o),this.cb=qr("retryDelaySeedMs",1e4,o),this.Wa=qr("forwardChannelMaxRetries",2,o),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ms(o&&o.concurrentRequestLimit),this.Da=new Lr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ca.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){ae(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=yu(this,null,this.W),Ia(this)};function ks(o){if(fu(o),o.G==3){var m=o.U++,p=ee(o.I);if(zt(p,"SID",o.K),zt(p,"RID",m),zt(p,"TYPE","terminate"),Pr(o,p),m=new Pn(o,o.j,m),m.L=2,m.v=Ur(ee(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=_u(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zt(m)}pu(o)}function Va(o){o.g&&(kr(o),o.g.cancel(),o.g=null)}function fu(o){Va(o),o.u&&(g.clearTimeout(o.u),o.u=null),Oa(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Ia(o){if(!Us(o.h)&&!o.s){o.s=!0;var m=o.Ga;mt||C(),ct||(mt(),ct=!0),Pt.add(m,o),o.B=0}}function hc(o,m){return au(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Pi(q(o.Ga,o,m),Gs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new Pn(this,this.j,o);let P=this.o;if(this.S&&(P?(P=b(P),D(P,this.S)):P=this.S),this.m!==null||this.O||(x.H=P,P=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=hu(this,x,m),p=ee(this.I),zt(p,"RID",o),zt(p,"CVER",22),this.D&&zt(p,"X-HTTP-Session-Id",this.D),Pr(this,p),P&&(this.O?m="headers="+encodeURIComponent(String(Ps(P)))+"&"+m:this.m&&we(p,this.m,P)),Yi(this.h,x),this.Ua&&zt(p,"TYPE","init"),this.P?(zt(p,"$req",m),zt(p,"SID","null"),x.T=!0,In(x,p,null)):In(x,p,m),this.G=2}}else this.G==3&&(o?Hs(this,o):this.i.length==0||Us(this.h)||Hs(this))};function Hs(o,m){var p;m?p=m.l:p=o.U++;const T=ee(o.I);zt(T,"SID",o.K),zt(T,"RID",p),zt(T,"AID",o.T),Pr(o,T),o.m&&o.o&&we(T,o.m,o.o),p=new Pn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=hu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Yi(o.h,p),In(p,T,m)}function Pr(o,m){o.H&&yt(o.H,function(p,T){zt(m,T,p)}),o.l&&Nr({},function(p,T){zt(m,T,p)})}function hu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?q(o.l.Na,o.l,o):null;t:{var x=o.i;let P=-1;for(;;){const X=["count="+p];P==-1?0<p?(P=x[0].g,X.push("ofs="+P)):P=0:X.push("ofs="+P);let Ot=!0;for(let _e=0;_e<p;_e++){let Nt=x[_e].g;const De=x[_e].map;if(Nt-=P,0>Nt)P=Math.max(0,x[_e].g-100),Ot=!1;else try{Hn(De,X,"req"+Nt+"_")}catch{T&&T(De)}}if(Ot){T=X.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function du(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;mt||C(),ct||(mt(),ct=!0),Pt.add(m,o),o.v=0}}function js(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Pi(q(o.Fa,o),Gs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,mu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Pi(q(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Va(this),mu(this))};function kr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function mu(o){o.g=new Pn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ee(o.qa);zt(m,"RID","rpc"),zt(m,"SID",o.K),zt(m,"AID",o.T),zt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&zt(m,"TO",o.ja),zt(m,"TYPE","xmlhttp"),Pr(o,m),o.m&&o.o&&we(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=Ur(ee(m)),p.m=null,p.P=!0,ui(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Va(this),js(this),ae(19))};function Oa(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function gu(o,m){var p=null;if(o.g==m){Oa(o),kr(o),o.g=null;var T=2}else if(Fi(o.h,m))p=m.D,hn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var x=o.B;T=_a(),Re(T,new nu(T,p)),Ia(o)}else du(o);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&hc(o,m)||T==2&&js(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),x){case 1:mi(o,5);break;case 4:mi(o,10);break;case 3:mi(o,6);break;default:mi(o,2)}}}function Gs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function mi(o,m){if(o.j.info("Error code "+m),m==2){var p=q(o.fb,o),T=o.Xa;const x=!T;T=new oi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Ki(T,"https"),Ur(T),x?uu(T.toString(),p):xr(T.toString(),p)}else ae(2);o.G=0,o.l&&o.l.sa(m),pu(o),fu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function pu(o){if(o.G=0,o.ka=[],o.l){const m=Ke(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,it(o.i),o.i.length=0),o.l.ra()}}function yu(o,m,p){var T=p instanceof oi?ee(p):new oi(p);if(T.g!="")m&&(T.g=m+"."+T.g),Mr(T,T.s);else{var x=g.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var P=new oi(null);T&&Ki(P,T),m&&(P.g=m),x&&Mr(P,x),p&&(P.l=p),T=P}return p=o.D,m=o.ya,p&&m&&zt(T,p,m),zt(T,"VER",o.la),Pr(o,T),T}function _u(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new Zi({eb:p})):new kt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function vu(){}s=vu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Na(){}Na.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){pe.call(this),this.g=new Ca(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!pt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Fn(this)}$(Xe,pe),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){ks(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Cs(o),o=p);m.i.push(new sc(m.Ya++,o)),m.G==3&&Ia(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,Xe.aa.N.call(this)};function Eu(o){zi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(Eu,zi);function Tu(){Vn.call(this),this.status=1}$(Tu,Vn);function Fn(o){this.g=o}$(Fn,vu),Fn.prototype.ua=function(){Re(this.g,"a")},Fn.prototype.ta=function(o){Re(this.g,new Eu(o))},Fn.prototype.sa=function(o){Re(this.g,new Tu)},Fn.prototype.ra=function(){Re(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,Gy=function(){return new Na},jy=function(){return _a()},Hy=fn,Rh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ye.NO_ERROR=0,ye.TIMEOUT=8,ye.HTTP_ERROR=6,wo=ye,li.COMPLETE="complete",ky=li,eu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Nl=eu,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,Py=kt}).apply(typeof Eo<"u"?Eo:typeof self<"u"?self:typeof window<"u"?window:{});const kp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Es="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new My("@firebase/firestore");function as(){return oa.logLevel}function nt(s,...e){if(oa.logLevel<=xt.DEBUG){const i=e.map(Hh);oa.debug(`Firestore (${Es}): ${s}`,...i)}}function Ni(s,...e){if(oa.logLevel<=xt.ERROR){const i=e.map(Hh);oa.error(`Firestore (${Es}): ${s}`,...i)}}function hs(s,...e){if(oa.logLevel<=xt.WARN){const i=e.map(Hh);oa.warn(`Firestore (${Es}): ${s}`,...i)}}function Hh(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s="Unexpected state"){const e=`FIRESTORE (${Es}) INTERNAL ASSERTION FAILED: `+s;throw Ni(e),new Error(e)}function Ht(s,e){s||gt()}function Et(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class v0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class E0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class T0{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let f=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Tr,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=f;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{nt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(nt("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Tr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(nt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string"),new Qy(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new Ge(e)}}class A0{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class S0{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new A0(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class R0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b0{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Ht(this.o===void 0);const a=f=>{f.error!=null&&nt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.R;return this.R=f.token,nt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>a(f))};const u=f=>{nt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):nt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string"),this.R=i.token,new R0(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const u=w0(40);for(let f=0;f<u.length;++f)a.length<20&&u[f]<i&&(a+=e.charAt(u[f]%e.length))}return a}}function It(s,e){return s<e?-1:s>e?1:0}function ds(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*i));return new Ae(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new rt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Ae(0,0))}static max(){return new _t(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,i,a){i===void 0?i=0:i>e.length&&gt(),a===void 0?a=e.length-i:a>e.length-i&&gt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return Wn.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Wn?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const f=Wn.compareSegments(e.get(u),i.get(u));if(f!==0)return f}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=Wn.isNumericId(e),u=Wn.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?Wn.extractNumericId(e).compare(Wn.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class Xt extends Wn{construct(e,i,a){return new Xt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new rt(F.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Xt(i)}static emptyPath(){return new Xt([])}}const D0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Wn{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return D0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Be(["__name__"])}static fromServerFormat(e){const i=[];let a="",u=0;const f=()=>{if(a.length===0)throw new rt(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new rt(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(f(),u++)}if(f(),d)throw new rt(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Xt.fromString(e))}static fromName(e){return new ft(Xt.fromString(e).popFirst(5))}static empty(){return new ft(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Xt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Xt(e.slice()))}}function C0(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=_t.fromTimestamp(a===1e9?new Ae(i+1,0):new Ae(i,a));return new Sr(u,ft.empty(),e)}function V0(s){return new Sr(s.readTime,s.key,-1)}class Sr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new Sr(_t.min(),ft.empty(),-1)}static max(){return new Sr(_t.max(),ft.empty(),-1)}}function I0(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:It(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ts(s){if(s.code!==F.FAILED_PRECONDITION||s.message!==O0)throw s;nt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(a,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,f=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++f,d&&f===u&&i()},_=>a(_))}),d=!0,f===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,f)=>{a.push(i.call(this,u,f))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const f=e.length,d=new Array(f);let g=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next(S=>{d[v]=S,++g,g===f&&a(d)},S=>u(S))}})}static doWhile(e,i){return new Q((a,u)=>{const f=()=>{e()===!0?i().next(()=>{f()},u):a()};f()})}}function M0(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function As(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Go.oe=-1;function Qo(s){return s==null}function xo(s){return s===0&&1/s==-1/0}function U0(s){return typeof s=="number"&&Number.isInteger(s)&&!xo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Hp(e)),e=L0(s.get(i),e);return Hp(e)}function L0(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const f=s.charAt(u);switch(f){case"\0":i+="";break;case"":i+="";break;default:i+=f}}return i}function Hp(s){return s+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function ca(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function Yy(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new Wt(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new To(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new To(this.root,e,this.comparator,!1)}getReverseIterator(){return new To(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new To(this.root,e,this.comparator,!0)}}class To{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?a(e.key,i):1,i&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,f){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=f??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,f){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const f=a(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,i,a),null):f===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,i,a,u,f){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Gp(this.data.getIterator())}getIteratorFrom(e){return new Gp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=a.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class Gp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new xn([])}unionWith(e){let i=new Se(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new xn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ds(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Ky("Invalid base64 string: "+f):f}}(e);return new qe(i)}static fromUint8Array(e){const i=function(u){let f="";for(let d=0;d<u.length;++d)f+=String.fromCharCode(u[d]);return f}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const z0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(s){if(Ht(!!s),typeof s=="string"){let e=0;const i=z0.exec(s);if(Ht(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:le(s.seconds),nanos:le(s.nanos)}}function le(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function br(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Fo(s){const e=s.mapValue.fields.__previous_value__;return jh(e)?Fo(e):e}function kl(s){const e=Rr(s.mapValue.fields.__local_write_time__.timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,i,a,u,f,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}class Hl{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao={mapValue:{}};function wr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?jh(s)?4:P0(s)?9007199254740991:q0(s)?10:11:gt()}function ii(s,e){if(s===e)return!0;const i=wr(s);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return kl(s).isEqual(kl(e));case 3:return function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const d=Rr(u.timestampValue),g=Rr(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,f){return br(u.bytesValue).isEqual(br(f.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,f){return le(u.geoPointValue.latitude)===le(f.geoPointValue.latitude)&&le(u.geoPointValue.longitude)===le(f.geoPointValue.longitude)}(s,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return le(u.integerValue)===le(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const d=le(u.doubleValue),g=le(f.doubleValue);return d===g?xo(d)===xo(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return ds(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,f){const d=u.mapValue.fields||{},g=f.mapValue.fields||{};if(jp(d)!==jp(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(s,e);default:return gt()}}function jl(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function ms(s,e){if(s===e)return 0;const i=wr(s),a=wr(e);if(i!==a)return It(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(s.booleanValue,e.booleanValue);case 2:return function(f,d){const g=le(f.integerValue||f.doubleValue),_=le(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return Qp(s.timestampValue,e.timestampValue);case 4:return Qp(kl(s),kl(e));case 5:return It(s.stringValue,e.stringValue);case 6:return function(f,d){const g=br(f),_=br(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(f,d){const g=f.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const S=It(g[v],_[v]);if(S!==0)return S}return It(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(f,d){const g=It(le(f.latitude),le(d.latitude));return g!==0?g:It(le(f.longitude),le(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Fp(s.arrayValue,e.arrayValue);case 10:return function(f,d){var g,_,v,S;const M=f.fields||{},q=d.fields||{},j=(g=M.value)===null||g===void 0?void 0:g.arrayValue,$=(_=q.value)===null||_===void 0?void 0:_.arrayValue,it=It(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((S=$==null?void 0:$.values)===null||S===void 0?void 0:S.length)||0);return it!==0?it:Fp(j,$)}(s.mapValue,e.mapValue);case 11:return function(f,d){if(f===Ao.mapValue&&d===Ao.mapValue)return 0;if(f===Ao.mapValue)return 1;if(d===Ao.mapValue)return-1;const g=f.fields||{},_=Object.keys(g),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let M=0;M<_.length&&M<S.length;++M){const q=It(_[M],S[M]);if(q!==0)return q;const j=ms(g[_[M]],v[S[M]]);if(j!==0)return j}return It(_.length,S.length)}(s.mapValue,e.mapValue);default:throw gt()}}function Qp(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return It(s,e);const i=Rr(s),a=Rr(e),u=It(i.seconds,a.seconds);return u!==0?u:It(i.nanos,a.nanos)}function Fp(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const f=ms(i[u],a[u]);if(f)return f}return It(i.length,a.length)}function gs(s){return bh(s)}function bh(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Rr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return br(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const f of i.values||[])u?u=!1:a+=",",a+=bh(f);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const d of a)f?f=!1:u+=",",u+=`${d}:${bh(i.fields[d])}`;return u+"}"}(s.mapValue):gt()}function Do(s){switch(wr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fo(s);return e?16+Do(e):16;case 5:return 2*s.stringValue.length;case 6:return br(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,f)=>u+Do(f),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return ca(a.fields,(f,d)=>{u+=f.length+Do(d)}),u}(s.mapValue);default:throw gt()}}function Yp(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function wh(s){return!!s&&"integerValue"in s}function Gh(s){return!!s&&"arrayValue"in s}function Kp(s){return!!s&&"nullValue"in s}function Xp(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Co(s){return!!s&&"mapValue"in s}function q0(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function xl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return ca(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=xl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=xl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function P0(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.value=e}static empty(){return new Dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Co(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=xl(i)}setAll(e){let i=Be.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=xl(d):u.push(g.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,a,u)}delete(e){const i=this.field(e.popLast());Co(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Co(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){ca(i,(u,f)=>e[u]=f);for(const u of a)delete e[u]}clone(){return new Dn(xl(this.value))}}function Xy(s){const e=[];return ca(s.fields,(i,a)=>{const u=new Be([i]);if(Co(a)){const f=Xy(a.mapValue).fields;if(f.length===0)e.push(u);else for(const d of f)e.push(u.child(d))}else e.push(u)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,f,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,_t.min(),_t.min(),_t.min(),Dn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,_t.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,_t.min(),_t.min(),Dn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,_t.min(),_t.min(),Dn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,i){this.position=e,this.inclusive=i}}function Zp(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const f=e[u],d=s.position[u];if(f.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=ms(d,i.data.field(f.field)),f.dir==="desc"&&(a*=-1),a!==0)break}return a}function $p(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,i="asc"){this.field=e,this.dir=i}}function k0(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{}class me extends Zy{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new j0(e,i,a):i==="array-contains"?new F0(e,a):i==="in"?new Y0(e,a):i==="not-in"?new K0(e,a):i==="array-contains-any"?new X0(e,a):new me(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new G0(e,a):new Q0(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ms(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(ms(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends Zy{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new Ln(e,i)}matches(e){return $y(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $y(s){return s.op==="and"}function Jy(s){return H0(s)&&$y(s)}function H0(s){for(const e of s.filters)if(e instanceof Ln)return!1;return!0}function Dh(s){if(s instanceof me)return s.field.canonicalString()+s.op.toString()+gs(s.value);if(Jy(s))return s.filters.map(e=>Dh(e)).join(",");{const e=s.filters.map(i=>Dh(i)).join(",");return`${s.op}(${e})`}}function Wy(s,e){return s instanceof me?function(a,u){return u instanceof me&&a.op===u.op&&a.field.isEqual(u.field)&&ii(a.value,u.value)}(s,e):s instanceof Ln?function(a,u){return u instanceof Ln&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((f,d,g)=>f&&Wy(d,u.filters[g]),!0):!1}(s,e):void gt()}function t_(s){return s instanceof me?function(i){return`${i.field.canonicalString()} ${i.op} ${gs(i.value)}`}(s):s instanceof Ln?function(i){return i.op.toString()+" {"+i.getFilters().map(t_).join(" ,")+"}"}(s):"Filter"}class j0 extends me{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class G0 extends me{constructor(e,i){super(e,"in",i),this.keys=e_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class Q0 extends me{constructor(e,i){super(e,"not-in",i),this.keys=e_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function e_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class F0 extends me{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Gh(i)&&jl(i.arrayValue,this.value)}}class Y0 extends me{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class K0 extends me{constructor(e,i){super(e,"not-in",i)}matches(e){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!jl(this.value.arrayValue,i)}}class X0 extends me{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Gh(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>jl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(e,i=null,a=[],u=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=f,this.startAt=d,this.endAt=g,this.ue=null}}function Jp(s,e=null,i=[],a=[],u=null,f=null,d=null){return new Z0(s,e,i,a,u,f,d)}function Qh(s){const e=Et(s);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Dh(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(f){return f.field.canonicalString()+f.dir}(a)).join(","),Qo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>gs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>gs(a)).join(",")),e.ue=i}return e.ue}function Fh(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!k0(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!Wy(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!$p(s.startAt,e.startAt)&&$p(s.endAt,e.endAt)}function Ch(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,i=null,a=[],u=[],f=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function $0(s,e,i,a,u,f,d,g){return new Ss(s,e,i,a,u,f,d,g)}function n_(s){return new Ss(s)}function Wp(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function i_(s){return s.collectionGroup!==null}function Ll(s){const e=Et(s);if(e.ce===null){e.ce=[];const i=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),i.add(f.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||e.ce.push(new Gl(f,a))}),i.has(Be.keyField().canonicalString())||e.ce.push(new Gl(Be.keyField(),a))}return e.ce}function ti(s){const e=Et(s);return e.le||(e.le=J0(e,Ll(s))),e.le}function J0(s,e){if(s.limitType==="F")return Jp(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const f=u.dir==="desc"?"asc":"desc";return new Gl(u.field,f)});const i=s.endAt?new Lo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Lo(s.startAt.position,s.startAt.inclusive):null;return Jp(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Vh(s,e){const i=s.filters.concat([e]);return new Ss(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Ih(s,e,i){return new Ss(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Yo(s,e){return Fh(ti(s),ti(e))&&s.limitType===e.limitType}function r_(s){return`${Qh(ti(s))}|lt:${s.limitType}`}function ss(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>t_(u)).join(", ")}]`),Qo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>gs(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>gs(u)).join(",")),`Target(${a})`}(ti(s))}; limitType=${s.limitType})`}function Ko(s,e){return e.isFoundDocument()&&function(a,u){const f=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(f):ft.isDocumentKey(a.path)?a.path.isEqual(f):a.path.isImmediateParentOf(f)}(s,e)&&function(a,u){for(const f of Ll(a))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const f of a.filters)if(!f.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,_){const v=Zp(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Ll(a),u)||a.endAt&&!function(d,g,_){const v=Zp(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Ll(a),u))}(s,e)}function W0(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function a_(s){return(e,i)=>{let a=!1;for(const u of Ll(s)){const f=tA(u,e,i);if(f!==0)return f;a=a||u.field.isKeyField()}return 0}}function tA(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):function(f,d,g){const _=d.data.field(f),v=g.data.field(f);return _!==null&&v!==null?ms(_,v):gt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,f]of a)if(this.equalsFn(u,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(i,a)=>{for(const[u,f]of a)e(u,f)})}isEmpty(){return Yy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=new Wt(ft.comparator);function Mi(){return eA}const s_=new Wt(ft.comparator);function Ml(...s){let e=s_;for(const i of s)e=e.insert(i.key,i);return e}function l_(s){let e=s_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function ua(){return zl()}function u_(){return zl()}function zl(){return new fa(s=>s.toString(),(s,e)=>s.isEqual(e))}const nA=new Wt(ft.comparator),iA=new Se(ft.comparator);function Ct(...s){let e=iA;for(const i of s)e=e.add(i);return e}const rA=new Se(It);function aA(){return rA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xo(e)?"-0":e}}function o_(s){return{integerValue:""+s}}function sA(s,e){return U0(e)?o_(e):Yh(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this._=void 0}}function lA(s,e,i){return s instanceof zo?function(u,f){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&jh(f)&&(f=Fo(f)),f&&(d.fields.__previous_value__=f),{mapValue:d}}(i,e):s instanceof Ql?f_(s,e):s instanceof Fl?h_(s,e):function(u,f){const d=c_(u,f),g=ty(d)+ty(u.Pe);return wh(d)&&wh(u.Pe)?o_(g):Yh(u.serializer,g)}(s,e)}function uA(s,e,i){return s instanceof Ql?f_(s,e):s instanceof Fl?h_(s,e):i}function c_(s,e){return s instanceof Bo?function(a){return wh(a)||function(f){return!!f&&"doubleValue"in f}(a)}(e)?e:{integerValue:0}:null}class zo extends Xo{}class Ql extends Xo{constructor(e){super(),this.elements=e}}function f_(s,e){const i=d_(e);for(const a of s.elements)i.some(u=>ii(u,a))||i.push(a);return{arrayValue:{values:i}}}class Fl extends Xo{constructor(e){super(),this.elements=e}}function h_(s,e){let i=d_(e);for(const a of s.elements)i=i.filter(u=>!ii(u,a));return{arrayValue:{values:i}}}class Bo extends Xo{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function ty(s){return le(s.integerValue||s.doubleValue)}function d_(s){return Gh(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function oA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Ql&&u instanceof Ql||a instanceof Fl&&u instanceof Fl?ds(a.elements,u.elements,ii):a instanceof Bo&&u instanceof Bo?ii(a.Pe,u.Pe):a instanceof zo&&u instanceof zo}(s.transform,e.transform)}class cA{constructor(e,i){this.version=e,this.transformResults=i}}class ei{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Zo{}function m_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Kh(s.key,ei.none()):new Kl(s.key,s.data,ei.none());{const i=s.data,a=Dn.empty();let u=new Se(Be.comparator);for(let f of e.fields)if(!u.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?a.delete(f):a.set(f,d),u=u.add(f)}return new ha(s.key,a,new xn(u.toArray()),ei.none())}}function fA(s,e,i){s instanceof Kl?function(u,f,d){const g=u.value.clone(),_=ny(u.fieldTransforms,f,d.transformResults);g.setAll(_),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof ha?function(u,f,d){if(!Vo(u.precondition,f))return void f.convertToUnknownDocument(d.version);const g=ny(u.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(g_(u)),_.setAll(g),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Bl(s,e,i,a){return s instanceof Kl?function(f,d,g,_){if(!Vo(f.precondition,d))return g;const v=f.value.clone(),S=iy(f.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof ha?function(f,d,g,_){if(!Vo(f.precondition,d))return g;const v=iy(f.fieldTransforms,_,d),S=d.data;return S.setAll(g_(f)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(M=>M.field))}(s,e,i,a):function(f,d,g){return Vo(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function hA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),f=c_(a.transform,u||null);f!=null&&(i===null&&(i=Dn.empty()),i.set(a.field,f))}return i||null}function ey(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&ds(a,u,(f,d)=>oA(f,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends Zo{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class ha extends Zo{constructor(e,i,a,u,f=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function g_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function ny(s,e,i){const a=new Map;Ht(s.length===i.length);for(let u=0;u<i.length;u++){const f=s[u],d=f.transform,g=e.data.field(f.field);a.set(f.field,uA(d,g,i[u]))}return a}function iy(s,e,i){const a=new Map;for(const u of s){const f=u.transform,d=i.data.field(u.field);a.set(u.field,lA(f,d,e))}return a}class Kh extends Zo{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dA extends Zo{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&fA(f,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=u_();return this.mutations.forEach(u=>{const f=e.get(u.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(u.key)?null:g;const _=m_(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&ds(this.mutations,e.mutations,(i,a)=>ey(i,a))&&ds(this.baseMutations,e.baseMutations,(i,a)=>ey(i,a))}}class Xh{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){Ht(e.mutations.length===a.length);let u=function(){return nA}();const f=e.mutations;for(let d=0;d<f.length;d++)u=u.insert(f[d].key,a[d].version);return new Xh(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de,Ut;function yA(s){switch(s){default:return gt();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function p_(s){if(s===void 0)return Ni("GRPC error has no .code"),F.UNKNOWN;switch(s){case de.OK:return F.OK;case de.CANCELLED:return F.CANCELLED;case de.UNKNOWN:return F.UNKNOWN;case de.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case de.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case de.INTERNAL:return F.INTERNAL;case de.UNAVAILABLE:return F.UNAVAILABLE;case de.UNAUTHENTICATED:return F.UNAUTHENTICATED;case de.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case de.NOT_FOUND:return F.NOT_FOUND;case de.ALREADY_EXISTS:return F.ALREADY_EXISTS;case de.PERMISSION_DENIED:return F.PERMISSION_DENIED;case de.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case de.ABORTED:return F.ABORTED;case de.OUT_OF_RANGE:return F.OUT_OF_RANGE;case de.UNIMPLEMENTED:return F.UNIMPLEMENTED;case de.DATA_LOSS:return F.DATA_LOSS;default:return gt()}}(Ut=de||(de={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=new Er([4294967295,4294967295],0);function ry(s){const e=_A().encode(s),i=new qy;return i.update(e),new Uint8Array(i.digest())}function ay(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Er([i,a],0),new Er([u,f],0)]}class Zh{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Ul(`Invalid padding: ${i}`);if(a<0)throw new Ul(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${i}`);this.Te=8*e.length-i,this.Ie=Er.fromNumber(this.Te)}de(e,i,a){let u=e.add(i.multiply(Er.fromNumber(a)));return u.compare(vA)===1&&(u=new Er([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const i=ry(e),[a,u]=ay(i);for(let f=0;f<this.hashCount;f++){const d=this.de(a,u,f);if(!this.Ee(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Zh(f,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Te===0)return;const i=ry(e),[a,u]=ay(i);for(let f=0;f<this.hashCount;f++){const d=this.de(a,u,f);this.Ae(d)}}Ae(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e,i,a,u,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new $o(_t.min(),u,new Wt(It),Mi(),Ct())}}class Xl{constructor(e,i,a,u,f){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Xl(a,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,i,a,u){this.Re=e,this.removedTargetIds=i,this.key=a,this.Ve=u}}class y_{constructor(e,i){this.targetId=e,this.me=i}}class __{constructor(e,i,a=qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class sy{constructor(){this.fe=0,this.ge=ly(),this.pe=qe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ct(),i=Ct(),a=Ct();return this.ge.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:gt()}}),new Xl(this.pe,this.ye,e,i,a)}Ce(){this.we=!1,this.ge=ly()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class EA{constructor(e){this.Be=e,this.Le=new Map,this.ke=Mi(),this.qe=So(),this.Qe=So(),this.Ke=new Wt(It)}$e(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(i,e.Ve):this.We(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.We(i,e.key,e.Ve)}Ge(e){this.forEachTarget(e,i=>{const a=this.ze(i);switch(e.state){case 0:this.je(i)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.je(i)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.je(i)&&(this.He(i),a.De(e.resumeToken));break;default:gt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Le.forEach((a,u)=>{this.je(u)&&i(u)})}Je(e){const i=e.targetId,a=e.me.count,u=this.Ye(i);if(u){const f=u.target;if(Ch(f))if(a===0){const d=new ft(f.path);this.We(i,d,Qe.newNoDocument(d,_t.min()))}else Ht(a===1);else{const d=this.Ze(i);if(d!==a){const g=this.Xe(e),_=g?this.et(g,e,d):1;if(_!==0){this.He(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}Xe(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:f=0}=i;let d,g;try{d=br(a).toUint8Array()}catch(_){if(_ instanceof Ky)return hs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Zh(d,u,f)}catch(_){return hs(_ instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Te===0?null:g}et(e,i,a){return i.me.count===a-this.rt(e,i.targetId)?0:2}rt(e,i){const a=this.Be.getRemoteKeysForTarget(i);let u=0;return a.forEach(f=>{const d=this.Be.nt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(g)||(this.We(i,f,null),u++)}),u}it(e){const i=new Map;this.Le.forEach((f,d)=>{const g=this.Ye(d);if(g){if(f.current&&Ch(g.target)){const _=new ft(g.target.path);this.st(_).has(d)||this.ot(d,_)||this.We(d,_,Qe.newNoDocument(_,e))}f.be&&(i.set(d,f.ve()),f.Ce())}});let a=Ct();this.Qe.forEach((f,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Ye(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(f))}),this.ke.forEach((f,d)=>d.setReadTime(e));const u=new $o(e,i,this.Ke,this.ke,a);return this.ke=Mi(),this.qe=So(),this.Qe=So(),this.Ke=new Wt(It),u}Ue(e,i){if(!this.je(e))return;const a=this.ot(e,i.key)?2:0;this.ze(e).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e)),this.Qe=this.Qe.insert(i.key,this._t(i.key).add(e))}We(e,i,a){if(!this.je(e))return;const u=this.ze(e);this.ot(e,i)?u.Fe(i,1):u.Me(i),this.Qe=this.Qe.insert(i,this._t(i).delete(e)),this.Qe=this.Qe.insert(i,this._t(i).add(e)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(e){this.Le.delete(e)}Ze(e){const i=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let i=this.Le.get(e);return i||(i=new sy,this.Le.set(e,i)),i}_t(e){let i=this.Qe.get(e);return i||(i=new Se(It),this.Qe=this.Qe.insert(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new Se(It),this.qe=this.qe.insert(e,i)),i}je(e){const i=this.Ye(e)!==null;return i||nt("WatchChangeAggregator","Detected inactive target",e),i}Ye(e){const i=this.Le.get(e);return i&&i.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new sy),this.Be.getRemoteKeysForTarget(e).forEach(i=>{this.We(e,i,null)})}ot(e,i){return this.Be.getRemoteKeysForTarget(e).has(i)}}function So(){return new Wt(ft.comparator)}function ly(){return new Wt(ft.comparator)}const TA={asc:"ASCENDING",desc:"DESCENDING"},AA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SA={and:"AND",or:"OR"};class RA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Oh(s,e){return s.useProto3Json||Qo(e)?e:{value:e}}function qo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function v_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function bA(s,e){return qo(s,e.toTimestamp())}function ni(s){return Ht(!!s),_t.fromTimestamp(function(i){const a=Rr(i);return new Ae(a.seconds,a.nanos)}(s))}function $h(s,e){return Nh(s,e).canonicalString()}function Nh(s,e){const i=function(u){return new Xt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function E_(s){const e=Xt.fromString(s);return Ht(b_(e)),e}function Mh(s,e){return $h(s.databaseId,e.path)}function dh(s,e){const i=E_(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(A_(i))}function T_(s,e){return $h(s.databaseId,e)}function wA(s){const e=E_(s);return e.length===4?Xt.emptyPath():A_(e)}function Uh(s){return new Xt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function A_(s){return Ht(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function uy(s,e,i){return{name:Mh(s,e),fields:i.value.mapValue.fields}}function DA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],f=function(v,S){return v.useProto3Json?(Ht(S===void 0||typeof S=="string"),qe.fromBase64String(S||"")):(Ht(S===void 0||S instanceof Buffer||S instanceof Uint8Array),qe.fromUint8Array(S||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const S=v.code===void 0?F.UNKNOWN:p_(v.code);return new rt(S,v.message||"")}(d);i=new __(a,u,f,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=dh(s,a.document.name),f=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):_t.min(),g=new Dn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,f,d,g),v=a.targetIds||[],S=a.removedTargetIds||[];i=new Io(v,S,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=dh(s,a.document),f=a.readTime?ni(a.readTime):_t.min(),d=Qe.newNoDocument(u,f),g=a.removedTargetIds||[];i=new Io([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=dh(s,a.document),f=a.removedTargetIds||[];i=new Io([],f,u,null)}else{if(!("filter"in e))return gt();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:f}=a,d=new pA(u,f),g=a.targetId;i=new y_(g,d)}}return i}function CA(s,e){let i;if(e instanceof Kl)i={update:uy(s,e.key,e.value)};else if(e instanceof Kh)i={delete:Mh(s,e.key)};else if(e instanceof ha)i={update:uy(s,e.key,e.data),updateMask:zA(e.fieldMask)};else{if(!(e instanceof dA))return gt();i={verify:Mh(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(f,d){const g=d.transform;if(g instanceof zo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Bo)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw gt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,f){return f.updateTime!==void 0?{updateTime:bA(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:gt()}(s,e.precondition)),i}function VA(s,e){return s&&s.length>0?(Ht(e!==void 0),s.map(i=>function(u,f){let d=u.updateTime?ni(u.updateTime):ni(f);return d.isEqual(_t.min())&&(d=ni(f)),new cA(d,u.transformResults||[])}(i,e))):[]}function IA(s,e){return{documents:[T_(s,e.path)]}}function OA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=T_(s,u);const f=function(v){if(v.length!==0)return R_(Ln.create(v,"and"))}(e.filters);f&&(i.structuredQuery.where=f);const d=function(v){if(v.length!==0)return v.map(S=>function(q){return{field:ls(q.field),direction:UA(q.dir)}}(S))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Oh(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:i,parent:u}}function NA(s){let e=wA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){Ht(a===1);const S=i.from[0];S.allDescendants?u=S.collectionId:e=e.child(S.collectionId)}let f=[];i.where&&(f=function(M){const q=S_(M);return q instanceof Ln&&Jy(q)?q.getFilters():[q]}(i.where));let d=[];i.orderBy&&(d=function(M){return M.map(q=>function($){return new Gl(us($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(q))}(i.orderBy));let g=null;i.limit&&(g=function(M){let q;return q=typeof M=="object"?M.value:M,Qo(q)?null:q}(i.limit));let _=null;i.startAt&&(_=function(M){const q=!!M.before,j=M.values||[];return new Lo(j,q)}(i.startAt));let v=null;return i.endAt&&(v=function(M){const q=!M.before,j=M.values||[];return new Lo(j,q)}(i.endAt)),$0(e,u,d,f,g,"F",_,v)}function MA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function S_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=us(i.unaryFilter.field);return me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=us(i.unaryFilter.field);return me.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=us(i.unaryFilter.field);return me.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=us(i.unaryFilter.field);return me.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(s):s.fieldFilter!==void 0?function(i){return me.create(us(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Ln.create(i.compositeFilter.filters.map(a=>S_(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt()}}(i.compositeFilter.op))}(s):gt()}function UA(s){return TA[s]}function xA(s){return AA[s]}function LA(s){return SA[s]}function ls(s){return{fieldPath:s.canonicalString()}}function us(s){return Be.fromServerFormat(s.fieldPath)}function R_(s){return s instanceof me?function(i){if(i.op==="=="){if(Xp(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NAN"}};if(Kp(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Xp(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NAN"}};if(Kp(i.value))return{unaryFilter:{field:ls(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(i.field),op:xA(i.op),value:i.value}}}(s):s instanceof Ln?function(i){const a=i.getFilters().map(u=>R_(u));return a.length===1?a[0]:{compositeFilter:{op:LA(i.op),filters:a}}}(s):gt()}function zA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function b_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,a,u,f=_t.min(),d=_t.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.ht=e}}function qA(s){const e=NA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Ih(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(){this.ln=new kA}addToCollectionParentIndex(e,i){return this.ln.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.ln.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(Sr.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class kA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Se(Xt.comparator),f=!u.has(a);return this.index[i]=u.add(a),f}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Se(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ps(0)}static Qn(){return new ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy([s,e],[i,a]){const u=It(s,i);return u===0?It(e,a):u}class HA{constructor(e){this.Gn=e,this.buffer=new Se(cy),this.zn=0}jn(){return++this.zn}Hn(e){const i=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();cy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class jA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){nt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){As(i)?nt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):await Ts(i)}await this.Yn(3e5)})}}class GA{constructor(e,i){this.Zn=e,this.params=i}calculateTargetCount(e,i){return this.Zn.Xn(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Go.oe);const a=new HA(i);return this.Zn.forEachTarget(e,u=>a.Hn(u.sequenceNumber)).next(()=>this.Zn.er(e,u=>a.Hn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.Zn.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Zn.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(nt("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(oy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(nt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oy):this.tr(e,i))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,i){let a,u,f,d,g,_,v;const S=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(nt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),u=this.params.maximumSequenceNumbersToCollect):u=M,d=Date.now(),this.nthSequenceNumber(e,u))).next(M=>(a=M,g=Date.now(),this.removeTargets(e,a,i))).next(M=>(f=M,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(M=>(v=Date.now(),as()<=xt.DEBUG&&nt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${f} targets in `+(_-g)+`ms
	Removed ${M} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:M})))}}function QA(s,e){return new GA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(){this.changes=new fa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Bl(a.mutation,u,xn.empty(),Ae.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ct()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ct()){const u=ua();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(f=>{let d=Ml();return f.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=ua();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ct()))}populateOverlays(e,i,a){const u=[];return a.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let f=Mi();const d=zl(),g=function(){return zl()}();return i.forEach((_,v)=>{const S=a.get(v.key);u.has(v.key)&&(S===void 0||S.mutation instanceof ha)?f=f.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),Bl(S.mutation,v,S.mutation.getFieldMask(),Ae.now())):d.set(v.key,xn.empty())}),this.recalculateAndSaveOverlays(e,f).next(_=>(_.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var M;return g.set(v,new YA(S,(M=d.get(v))!==null&&M!==void 0?M:null))}),g))}recalculateAndSaveOverlays(e,i){const a=zl();let u=new Wt((d,g)=>d-g),f=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let S=a.get(_)||xn.empty();S=g.applyToLocalView(v,S),a.set(_,S);const M=(u.get(g.batchId)||Ct()).add(_);u=u.insert(g.batchId,M)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,S=_.value,M=u_();S.forEach(q=>{if(!f.has(q)){const j=m_(i.get(q),a.get(q));j!==null&&M.set(q,j),f=f.add(q)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,M))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):i_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(f=>{const d=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-f.size):Q.resolve(ua());let g=-1,_=f;return d.next(v=>Q.forEach(v,(S,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),f.get(S)?Q.resolve():this.remoteDocumentCache.getEntry(e,S).next(q=>{_=_.insert(S,q)}))).next(()=>this.populateOverlays(e,v,f)).next(()=>this.computeViews(e,_,v,Ct())).next(S=>({batchId:g,changes:l_(S)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(a=>{let u=Ml();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const f=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,f).next(g=>Q.forEach(g,_=>{const v=function(M,q){return new Ss(q,null,M.explicitOrderBy.slice(),M.filters.slice(),M.limit,M.limitType,M.startAt,M.endAt)}(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(S=>{S.forEach((M,q)=>{d=d.insert(M,q)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,f,u))).next(d=>{f.forEach((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Qe.newInvalidDocument(S)))});let g=Ml();return d.forEach((_,v)=>{const S=f.get(_);S!==void 0&&Bl(S.mutation,v,xn.empty(),Ae.now()),Ko(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,i){return Q.resolve(this.Tr.get(i))}saveBundleMetadata(e,i){return this.Tr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ir.get(i))}saveNamedQuery(e,i){return this.Ir.set(i.name,function(u){return{name:u.name,query:qA(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.overlays=new Wt(ft.comparator),this.dr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=ua();return Q.forEach(i,u=>this.getOverlay(e,u).next(f=>{f!==null&&a.set(u,f)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,f)=>{this.Tt(e,i,f)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.dr.get(a);return u!==void 0&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.dr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=ua(),f=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let f=new Wt((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let S=f.get(v.largestBatchId);S===null&&(S=ua(),f=f.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=ua(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>g.set(v,S)),!(g.size()>=u)););return Q.resolve(g)}Tt(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.dr.get(u.largestBatchId).delete(a.key);this.dr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new gA(i,a));let f=this.dr.get(i);f===void 0&&(f=Ct(),this.dr.set(i,f)),this.dr.set(i,f.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this.Er=new Se(Ne.Ar),this.Rr=new Se(Ne.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,i){const a=new Ne(e,i);this.Er=this.Er.add(a),this.Rr=this.Rr.add(a)}mr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.gr(new Ne(e,i))}pr(e,i){e.forEach(a=>this.removeReference(a,i))}yr(e){const i=new ft(new Xt([])),a=new Ne(i,e),u=new Ne(i,e+1),f=[];return this.Rr.forEachInRange([a,u],d=>{this.gr(d),f.push(d.key)}),f}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const i=new ft(new Xt([])),a=new Ne(i,e),u=new Ne(i,e+1);let f=Ct();return this.Rr.forEachInRange([a,u],d=>{f=f.add(d.key)}),f}containsKey(e){const i=new Ne(e,0),a=this.Er.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ne{constructor(e,i){this.key=e,this.br=i}static Ar(e,i){return ft.comparator(e.key,i.key)||It(e.br,i.br)}static Vr(e,i){return It(e.br,i.br)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Dr=1,this.vr=new Se(Ne.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const f=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new mA(f,i,a,u);this.mutationQueue.push(d);for(const g of u)this.vr=this.vr.add(new Ne(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Cr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Fr(a),f=u<0?0:u;return Q.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ne(i,0),u=new Ne(i,Number.POSITIVE_INFINITY),f=[];return this.vr.forEachInRange([a,u],d=>{const g=this.Cr(d.br);f.push(g)}),Q.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(It);return i.forEach(u=>{const f=new Ne(u,0),d=new Ne(u,Number.POSITIVE_INFINITY);this.vr.forEachInRange([f,d],g=>{a=a.add(g.br)})}),Q.resolve(this.Mr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let f=a;ft.isDocumentKey(f)||(f=f.child(""));const d=new Ne(new ft(f),0);let g=new Se(It);return this.vr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.br)),!0)},d),Q.resolve(this.Mr(g))}Mr(e){const i=[];return e.forEach(a=>{const u=this.Cr(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Ht(this.Or(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.vr;return Q.forEach(i.mutations,u=>{const f=new Ne(u.key,i.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.vr=a})}Bn(e){}containsKey(e,i){const a=new Ne(i,0),u=this.vr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,i){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const i=this.Fr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.Nr=e,this.docs=function(){return new Wt(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),f=u?u.size:0,d=this.Nr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Mi();return i.forEach(u=>{const f=this.docs.get(u);a=a.insert(u,f?f.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let f=Mi();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||I0(V0(S),a)<=0||(u.has(S.key)||Ko(i,S))&&(f=f.insert(S.key,S.mutableCopy()))}return Q.resolve(f)}getAllFromCollectionGroup(e,i,a,u){gt()}Br(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new tS(this)}getSize(e){return Q.resolve(this.size)}}class tS extends FA{constructor(e){super(),this.hr=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.hr.addEntry(e,u)):this.hr.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.hr.getEntry(e,i)}getAllFromCache(e,i){return this.hr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.persistence=e,this.Lr=new fa(i=>Qh(i),Fh),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.kr=0,this.qr=new Jh,this.targetCount=0,this.Qr=ps.qn()}forEachTarget(e,i){return this.Lr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.kr&&(this.kr=i),Q.resolve()}Un(e){this.Lr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Qr=new ps(i),this.highestTargetId=i),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,i){return this.Un(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.Un(i),Q.resolve()}removeTargetData(e,i){return this.Lr.delete(i.target),this.qr.yr(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const f=[];return this.Lr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Lr.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(f).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Lr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.qr.mr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.qr.pr(i,a);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(d=>{f.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.qr.yr(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.qr.Sr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.qr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e,i){this.Kr={},this.overlays={},this.$r=new Go(0),this.Ur=!1,this.Ur=!0,this.Wr=new $A,this.referenceDelegate=e(this),this.Gr=new eS(this),this.indexManager=new PA,this.remoteDocumentCache=function(u){return new WA(u)}(a=>this.referenceDelegate.zr(a)),this.serializer=new BA(i),this.jr=new XA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ZA,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Kr[e.toKey()];return a||(a=new JA(i,this.referenceDelegate),this.Kr[e.toKey()]=a),a}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,i,a){nt("MemoryPersistence","Starting transaction:",e);const u=new nS(this.$r.next());return this.referenceDelegate.Hr(),a(u).next(f=>this.referenceDelegate.Jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Yr(e,i){return Q.or(Object.values(this.Kr).map(a=>()=>a.containsKey(e,i)))}}class nS extends N0{constructor(e){super(),this.currentSequenceNumber=e}}class Wh{constructor(e){this.persistence=e,this.Zr=new Jh,this.Xr=null}static ei(e){return new Wh(e)}get ti(){if(this.Xr)return this.Xr;throw gt()}addReference(e,i,a){return this.Zr.addReference(a,i),this.ti.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.Zr.removeReference(a,i),this.ti.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ti.add(i.toString()),Q.resolve()}removeTarget(e,i){this.Zr.yr(i.targetId).forEach(u=>this.ti.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(f=>this.ti.add(f.toString()))}).next(()=>a.removeTargetData(e,i))}Hr(){this.Xr=new Set}Jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,a=>{const u=ft.fromPath(a);return this.ni(e,u).next(f=>{f||i.removeEntry(u,_t.min())})}).next(()=>(this.Xr=null,i.apply(e)))}updateLimboDocument(e,i){return this.ni(e,i).next(a=>{a?this.ti.delete(i.toString()):this.ti.add(i.toString())})}zr(e){return 0}ni(e,i){return Q.or([()=>Q.resolve(this.Zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Yr(e,i)])}}class Po{constructor(e,i){this.persistence=e,this.ri=new fa(a=>x0(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=QA(this,i)}static ei(e,i){return new Po(e,i)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}Xn(e){const i=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}nr(e){let i=0;return this.er(e,a=>{i++}).next(()=>i)}er(e,i){return Q.forEach(this.ri,(a,u)=>this.ir(e,a,u).next(f=>f?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.Br(e,d=>this.ir(e,d,i).next(g=>{g||(a++,f.removeEntry(d,_t.min()))})).next(()=>f.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.ri.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.ri.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}zr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Do(e.data.value)),i}ir(e,i,a){return Q.or([()=>this.persistence.Yr(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.ri.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Wi=a,this.Gi=u}static zi(e,i){let a=Ct(),u=Ct();for(const f of i.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new td(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return eT()?8:M0(WE())>0?6:4}()}initialize(e,i){this.Zi=e,this.indexManager=i,this.ji=!0}getDocumentsMatchingQuery(e,i,a,u){const f={result:null};return this.Xi(e,i).next(d=>{f.result=d}).next(()=>{if(!f.result)return this.es(e,i,u,a).next(d=>{f.result=d})}).next(()=>{if(f.result)return;const d=new iS;return this.ts(e,i,d).next(g=>{if(f.result=g,this.Hi)return this.ns(e,i,d,g.size)})}).next(()=>f.result)}ns(e,i,a,u){return a.documentReadCount<this.Ji?(as()<=xt.DEBUG&&nt("QueryEngine","SDK will not create cache indexes for query:",ss(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(as()<=xt.DEBUG&&nt("QueryEngine","Query:",ss(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.Yi*u?(as()<=xt.DEBUG&&nt("QueryEngine","The SDK decides to create cache indexes for query:",ss(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(i))):Q.resolve())}Xi(e,i){if(Wp(i))return Q.resolve(null);let a=ti(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Ih(i,null,"F"),a=ti(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(f=>{const d=Ct(...f);return this.Zi.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.rs(i,g);return this.ss(i,v,d,_.readTime)?this.Xi(e,Ih(i,null,"F")):this.os(e,v,i,_)}))})))}es(e,i,a,u){return Wp(i)||u.isEqual(_t.min())?Q.resolve(null):this.Zi.getDocuments(e,a).next(f=>{const d=this.rs(i,f);return this.ss(i,d,a,u)?Q.resolve(null):(as()<=xt.DEBUG&&nt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),ss(i)),this.os(e,d,i,C0(u,-1)).next(g=>g))})}rs(e,i){let a=new Se(a_(e));return i.forEach((u,f)=>{Ko(e,f)&&(a=a.add(f))}),a}ss(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}ts(e,i,a){return as()<=xt.DEBUG&&nt("QueryEngine","Using full collection scan to execute query:",ss(i)),this.Zi.getDocumentsMatchingQuery(e,i,Sr.min(),a)}os(e,i,a,u){return this.Zi.getDocumentsMatchingQuery(e,a,u).next(f=>(i.forEach(d=>{f=f.insert(d.key,d)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,i,a,u){this.persistence=e,this._s=i,this.serializer=u,this.us=new Wt(It),this.cs=new fa(f=>Qh(f),Fh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(a)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.us))}}function sS(s,e,i,a){return new aS(s,e,i,a)}async function D_(s,e){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(f=>(u=f,i.Ps(e),i.mutationQueue.getAllMutationBatches(a))).next(f=>{const d=[],g=[];let _=Ct();for(const v of u){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of f){g.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Ts:v,removedBatchIds:d,addedBatchIds:g}))})})}function lS(s,e){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),f=i.hs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,S){const M=v.batch,q=M.keys();let j=Q.resolve();return q.forEach($=>{j=j.next(()=>S.getEntry(_,$)).next(it=>{const Z=v.docVersions.get($);Ht(Z!==null),it.version.compareTo(Z)<0&&(M.applyToRemoteDocument(it,v),it.isValidDocument()&&(it.setReadTime(v.commitVersion),S.addEntry(it)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,M))}(i,a,e,f).next(()=>f.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function C_(s){const e=Et(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Gr.getLastRemoteSnapshotVersion(i))}function uS(s,e){const i=Et(s),a=e.snapshotVersion;let u=i.us;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const d=i.hs.newChangeBuffer({trackRemovals:!0});u=i.us;const g=[];e.targetChanges.forEach((S,M)=>{const q=u.get(M);if(!q)return;g.push(i.Gr.removeMatchingKeys(f,S.removedDocuments,M).next(()=>i.Gr.addMatchingKeys(f,S.addedDocuments,M)));let j=q.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(M)!==null?j=j.withResumeToken(qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):S.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(S.resumeToken,a)),u=u.insert(M,j),function(it,Z,St){return it.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=3e8?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(q,j,S)&&g.push(i.Gr.updateTargetData(f,j))});let _=Mi(),v=Ct();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,S))}),g.push(oS(f,d,e.documentUpdates).next(S=>{_=S.Is,v=S.ds})),!a.isEqual(_t.min())){const S=i.Gr.getLastRemoteSnapshotVersion(f).next(M=>i.Gr.setTargetsMetadata(f,f.currentSequenceNumber,a));g.push(S)}return Q.waitFor(g).next(()=>d.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,_,v)).next(()=>_)}).then(f=>(i.us=u,f))}function oS(s,e,i){let a=Ct(),u=Ct();return i.forEach(f=>a=a.add(f)),e.getEntries(s,a).next(f=>{let d=Mi();return i.forEach((g,_)=>{const v=f.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):nt("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Is:d,ds:u}})}function cS(s,e){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function fS(s,e){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Gr.getTargetData(a,e).next(f=>f?(u=f,Q.resolve(u)):i.Gr.allocateTargetId(a).next(d=>(u=new yr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Gr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.us.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.us=i.us.insert(a.targetId,a),i.cs.set(e,a.targetId)),a})}async function xh(s,e,i){const a=Et(s),u=a.us.get(e),f=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",f,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!As(d))throw d;nt("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}a.us=a.us.remove(e),a.cs.delete(u.target)}function fy(s,e,i){const a=Et(s);let u=_t.min(),f=Ct();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,S){const M=Et(_),q=M.cs.get(S);return q!==void 0?Q.resolve(M.us.get(q)):M.Gr.getTargetData(v,S)}(a,d,ti(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Gr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{f=_})}).next(()=>a._s.getDocumentsMatchingQuery(d,e,i?u:_t.min(),i?f:Ct())).next(g=>(hS(a,W0(e),g),{documents:g,Es:f})))}function hS(s,e,i){let a=s.ls.get(e)||_t.min();i.forEach((u,f)=>{f.readTime.compareTo(a)>0&&(a=f.readTime)}),s.ls.set(e,a)}class hy{constructor(){this.activeTargetIds=aA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dS{constructor(){this._o=new hy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,i,a){this.ao[e]=i}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new hy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){nt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){nt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro=null;function mh(){return Ro===null?Ro=function(){return 268435456+Math.round(2147483648*Math.random())}():Ro++,"0x"+Ro.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class yS extends class{get Co(){return!1}constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Fo=a+"://"+i.host,this.Mo=`projects/${u}/databases/${f}`,this.xo=this.databaseId.database==="(default)"?`project_id=${u}`:`project_id=${u}&database_id=${f}`}Oo(i,a,u,f,d){const g=mh(),_=this.No(i,a.toUriEncodedString());nt("RestConnection",`Sending RPC '${i}' ${g}:`,_,u);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(v,f,d),this.Lo(i,_,v,u).then(S=>(nt("RestConnection",`Received RPC '${i}' ${g}: `,S),S),S=>{throw hs("RestConnection",`RPC '${i}' ${g} failed with error: `,S,"url: ",_,"request:",u),S})}ko(i,a,u,f,d,g){return this.Oo(i,a,u,f,d)}Bo(i,a,u){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Es}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((f,d)=>i[d]=f),u&&u.headers.forEach((f,d)=>i[d]=f)}No(i,a){const u=gS[i];return`${this.Fo}/v1/${a}:${u}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,i,a,u){const f=mh();return new Promise((d,g)=>{const _=new Py;_.setWithCredentials(!0),_.listenOnce(ky.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case wo.NO_ERROR:const S=_.getResponseJson();nt(je,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),d(S);break;case wo.TIMEOUT:nt(je,`RPC '${e}' ${f} timed out`),g(new rt(F.DEADLINE_EXCEEDED,"Request time out"));break;case wo.HTTP_ERROR:const M=_.getStatus();if(nt(je,`RPC '${e}' ${f} failed with status:`,M,"response text:",_.getResponseText()),M>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const j=q==null?void 0:q.error;if(j&&j.status&&j.message){const $=function(Z){const St=Z.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(St)>=0?St:F.UNKNOWN}(j.status);g(new rt($,j.message))}else g(new rt(F.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new rt(F.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{nt(je,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(u);nt(je,`RPC '${e}' ${f} sending request:`,u),_.send(i,"POST",v,a,15)})}qo(e,i,a){const u=mh(),f=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Gy(),g=jy(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Bo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const S=f.join("");nt(je,`Creating RPC '${e}' stream ${u}: ${S}`,_);const M=d.createWebChannel(S,_);let q=!1,j=!1;const $=new pS({Eo:Z=>{j?nt(je,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(q||(nt(je,`Opening RPC '${e}' stream ${u} transport.`),M.open(),q=!0),nt(je,`RPC '${e}' stream ${u} sending:`,Z),M.send(Z))},Ao:()=>M.close()}),it=(Z,St,pt)=>{Z.listen(St,J=>{try{pt(J)}catch(ht){setTimeout(()=>{throw ht},0)}})};return it(M,Nl.EventType.OPEN,()=>{j||(nt(je,`RPC '${e}' stream ${u} transport opened.`),$.So())}),it(M,Nl.EventType.CLOSE,()=>{j||(j=!0,nt(je,`RPC '${e}' stream ${u} transport closed`),$.Do())}),it(M,Nl.EventType.ERROR,Z=>{j||(j=!0,hs(je,`RPC '${e}' stream ${u} transport errored:`,Z),$.Do(new rt(F.UNAVAILABLE,"The operation could not be completed")))}),it(M,Nl.EventType.MESSAGE,Z=>{var St;if(!j){const pt=Z.data[0];Ht(!!pt);const J=pt,ht=(J==null?void 0:J.error)||((St=J[0])===null||St===void 0?void 0:St.error);if(ht){nt(je,`RPC '${e}' stream ${u} received error:`,ht);const at=ht.status;let yt=function(A){const D=de[A];if(D!==void 0)return p_(D)}(at),N=ht.message;yt===void 0&&(yt=F.INTERNAL,N="Unknown error status: "+at+" with message "+ht.message),j=!0,$.Do(new rt(yt,N)),M.close()}else nt(je,`RPC '${e}' stream ${u} received:`,pt),$.vo(pt)}}),it(g,Hy.STAT_EVENT,Z=>{Z.stat===Rh.PROXY?nt(je,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Rh.NOPROXY&&nt(je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$.bo()},0),$}}function gh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(s){return new RA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,i,a=1e3,u=1.5,f=6e4){this.li=e,this.timerId=i,this.Qo=a,this.Ko=u,this.$o=f,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const i=Math.floor(this.Uo+this.Ho()),a=Math.max(0,Date.now()-this.Go),u=Math.max(0,i-a);u>0&&nt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Uo} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,u,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,i,a,u,f,d,g,_){this.li=e,this.Yo=a,this.Zo=u,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new V_(e,i)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,i){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():i&&i.code===F.RESOURCE_EXHAUSTED?(Ni(i.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):i&&i.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(i)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),i=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.Xo===i&&this.I_(a,u)},a=>{e(()=>{const u=new rt(F.UNKNOWN,"Fetching auth token failed: "+a.message);return this.d_(u)})})}I_(e,i){const a=this.T_(this.Xo);this.stream=this.E_(e,i),this.stream.Ro(()=>{a(()=>this.listener.Ro())}),this.stream.mo(()=>{a(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(u=>{a(()=>this.d_(u))}),this.stream.onMessage(u=>{a(()=>++this.n_==1?this.A_(u):this.onNext(u))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return nt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return i=>{this.li.enqueueAndForget(()=>this.Xo===e?i():(nt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _S extends I_{constructor(e,i,a,u,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=f}E_(e,i){return this.connection.qo("Listen",e,i)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const i=DA(this.serializer,e),a=function(f){if(!("targetChange"in f))return _t.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ni(d.readTime):_t.min()}(e);return this.listener.R_(i,a)}V_(e){const i={};i.database=Uh(this.serializer),i.addTarget=function(f,d){let g;const _=d.target;if(g=Ch(_)?{documents:IA(f,_)}:{query:OA(f,_).ct},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=v_(f,d.resumeToken);const v=Oh(f,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=qo(f,d.snapshotVersion.toTimestamp());const v=Oh(f,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=MA(this.serializer,e);a&&(i.labels=a),this.c_(i)}m_(e){const i={};i.database=Uh(this.serializer),i.removeTarget=e,this.c_(i)}}class vS extends I_{constructor(e,i,a,u,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=f}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,i){return this.connection.qo("Write",e,i)}A_(e){return Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const i=VA(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.y_(a,i)}w_(){const e={};e.database=Uh(this.serializer),this.c_(e)}g_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>CA(this.serializer,a))};this.c_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES extends class{}{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.S_=!1}b_(){if(this.S_)throw new rt(F.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,i,a,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Oo(e,Nh(i,a),u,f,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(F.UNKNOWN,f.toString())})}ko(e,i,a,u,f){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.ko(e,Nh(i,a),u,d,g,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(F.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class TS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Ni(i),this.C_=!1):nt("OnlineStateTracker",i)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,i,a,u,f){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=f,this.Q_.uo(d=>{a.enqueueAndForget(async()=>{da(this)&&(nt("RemoteStore","Restarting streams for network reachability change."),await async function(_){const v=Et(_);v.k_.add(4),await Zl(v),v.K_.set("Unknown"),v.k_.delete(4),await Wo(v)}(this))})}),this.K_=new TS(a,u)}}async function Wo(s){if(da(s))for(const e of s.q_)await e(!0)}async function Zl(s){for(const e of s.q_)await e(!1)}function O_(s,e){const i=Et(s);i.L_.has(e.targetId)||(i.L_.set(e.targetId,e),rd(i)?id(i):Rs(i).s_()&&nd(i,e))}function ed(s,e){const i=Et(s),a=Rs(i);i.L_.delete(e),a.s_()&&N_(i,e),i.L_.size===0&&(a.s_()?a.a_():da(i)&&i.K_.set("Unknown"))}function nd(s,e){if(s.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rs(s).V_(e)}function N_(s,e){s.U_.xe(e),Rs(s).m_(e)}function id(s){s.U_=new EA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>s.L_.get(e)||null,nt:()=>s.datastore.serializer.databaseId}),Rs(s).start(),s.K_.F_()}function rd(s){return da(s)&&!Rs(s).i_()&&s.L_.size>0}function da(s){return Et(s).k_.size===0}function M_(s){s.U_=void 0}async function SS(s){s.K_.set("Online")}async function RS(s){s.L_.forEach((e,i)=>{nd(s,e)})}async function bS(s,e){M_(s),rd(s)?(s.K_.O_(e),id(s)):s.K_.set("Unknown")}async function wS(s,e,i){if(s.K_.set("Online"),e instanceof __&&e.state===2&&e.cause)try{await async function(u,f){const d=f.cause;for(const g of f.targetIds)u.L_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.L_.delete(g),u.U_.removeTarget(g))}(s,e)}catch(a){nt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await ko(s,a)}else if(e instanceof Io?s.U_.$e(e):e instanceof y_?s.U_.Je(e):s.U_.Ge(e),!i.isEqual(_t.min()))try{const a=await C_(s.localStore);i.compareTo(a)>=0&&await function(f,d){const g=f.U_.it(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=f.L_.get(v);S&&f.L_.set(v,S.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const S=f.L_.get(_);if(!S)return;f.L_.set(_,S.withResumeToken(qe.EMPTY_BYTE_STRING,S.snapshotVersion)),N_(f,_);const M=new yr(S.target,_,v,S.sequenceNumber);nd(f,M)}),f.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){nt("RemoteStore","Failed to raise snapshot:",a),await ko(s,a)}}async function ko(s,e,i){if(!As(e))throw e;s.k_.add(1),await Zl(s),s.K_.set("Offline"),i||(i=()=>C_(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{nt("RemoteStore","Retrying IndexedDB access"),await i(),s.k_.delete(1),await Wo(s)})}function U_(s,e){return e().catch(i=>ko(s,i,e))}async function tc(s){const e=Et(s),i=Dr(e);let a=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;DS(e);)try{const u=await cS(e.localStore,a);if(u===null){e.B_.length===0&&i.a_();break}a=u.batchId,CS(e,u)}catch(u){await ko(e,u)}x_(e)&&L_(e)}function DS(s){return da(s)&&s.B_.length<10}function CS(s,e){s.B_.push(e);const i=Dr(s);i.s_()&&i.f_&&i.g_(e.mutations)}function x_(s){return da(s)&&!Dr(s).i_()&&s.B_.length>0}function L_(s){Dr(s).start()}async function VS(s){Dr(s).w_()}async function IS(s){const e=Dr(s);for(const i of s.B_)e.g_(i.mutations)}async function OS(s,e,i){const a=s.B_.shift(),u=Xh.from(a,e,i);await U_(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await tc(s)}async function NS(s,e){e&&Dr(s).f_&&await async function(a,u){if(function(d){return yA(d)&&d!==F.ABORTED}(u.code)){const f=a.B_.shift();Dr(a).__(),await U_(a,()=>a.remoteSyncer.rejectFailedWrite(f.batchId,u)),await tc(a)}}(s,e),x_(s)&&L_(s)}async function my(s,e){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),nt("RemoteStore","RemoteStore received new credentials");const a=da(i);i.k_.add(3),await Zl(i),a&&i.K_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.k_.delete(3),await Wo(i)}async function MS(s,e){const i=Et(s);e?(i.k_.delete(2),await Wo(i)):e||(i.k_.add(2),await Zl(i),i.K_.set("Unknown"))}function Rs(s){return s.W_||(s.W_=function(i,a,u){const f=Et(i);return f.b_(),new _S(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(s.datastore,s.asyncQueue,{Ro:SS.bind(null,s),mo:RS.bind(null,s),po:bS.bind(null,s),R_:wS.bind(null,s)}),s.q_.push(async e=>{e?(s.W_.__(),rd(s)?id(s):s.K_.set("Unknown")):(await s.W_.stop(),M_(s))})),s.W_}function Dr(s){return s.G_||(s.G_=function(i,a,u){const f=Et(i);return f.b_(),new vS(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(s.datastore,s.asyncQueue,{Ro:()=>Promise.resolve(),mo:VS.bind(null,s),po:NS.bind(null,s),p_:IS.bind(null,s),y_:OS.bind(null,s)}),s.q_.push(async e=>{e?(s.G_.__(),await tc(s)):(await s.G_.stop(),s.B_.length>0&&(nt("RemoteStore",`Stopping write stream with ${s.B_.length} pending writes`),s.B_=[]))})),s.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,i,a,u,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=f,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,f){const d=Date.now()+a,g=new ad(e,i,d,u,f);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sd(s,e){if(Ni("AsyncQueue",`${e}: ${s}`),As(s))return new rt(F.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{static emptySet(e){return new cs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof cs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=a.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new cs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.z_=new Wt(ft.comparator)}track(e){const i=e.doc.key,a=this.z_.get(i);a?e.type!==0&&a.type===3?this.z_=this.z_.insert(i,e):e.type===3&&a.type!==1?this.z_=this.z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.z_=this.z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.z_=this.z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.z_=this.z_.remove(i):e.type===1&&a.type===2?this.z_=this.z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.z_=this.z_.insert(i,{type:2,doc:e.doc}):gt():this.z_=this.z_.insert(i,e)}j_(){const e=[];return this.z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class ys{constructor(e,i,a,u,f,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,f){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ys(e,i,cs.emptySet(i),d,a,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class xS{constructor(){this.queries=py(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(i,a){const u=Et(i),f=u.queries;u.queries=py(),f.forEach((d,g)=>{for(const _ of g.J_)_.onError(a)})})(this,new rt(F.ABORTED,"Firestore shutting down"))}}function py(){return new fa(s=>r_(s),Yo)}async function LS(s,e){const i=Et(s);let a=3;const u=e.query;let f=i.queries.get(u);f?!f.Y_()&&e.Z_()&&(a=2):(f=new US,a=e.Z_()?0:1);try{switch(a){case 0:f.H_=await i.onListen(u,!0);break;case 1:f.H_=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=sd(d,`Initialization of query '${ss(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,f),f.J_.push(e),e.ea(i.onlineState),f.H_&&e.ta(f.H_)&&ld(i)}async function zS(s,e){const i=Et(s),a=e.query;let u=3;const f=i.queries.get(a);if(f){const d=f.J_.indexOf(e);d>=0&&(f.J_.splice(d,1),f.J_.length===0?u=e.Z_()?0:1:!f.Y_()&&e.Z_()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function BS(s,e){const i=Et(s);let a=!1;for(const u of e){const f=u.query,d=i.queries.get(f);if(d){for(const g of d.J_)g.ta(u)&&(a=!0);d.H_=u}}a&&ld(i)}function qS(s,e,i){const a=Et(s),u=a.queries.get(e);if(u)for(const f of u.J_)f.onError(i);a.queries.delete(e)}function ld(s){s.X_.forEach(e=>{e.next()})}var Lh,yy;(yy=Lh||(Lh={})).na="default",yy.Cache="cache";class PS{constructor(e,i,a){this.query=e,this.ra=i,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=a||{}}ta(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new ys(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ia?this.oa(e)&&(this.ra.next(e),i=!0):this._a(e,this.onlineState)&&(this.aa(e),i=!0),this.sa=e,i}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let i=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),i=!0),i}_a(e,i){if(!e.fromCache||!this.Z_())return!0;const a=i!=="Offline";return(!this.options.ua||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const i=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}aa(e){e=ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Lh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this.key=e}}class B_{constructor(e){this.key=e}}class kS{constructor(e,i){this.query=e,this.Ea=i,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ct(),this.mutatedKeys=Ct(),this.Va=a_(e),this.ma=new cs(this.Va)}get fa(){return this.Ea}ga(e,i){const a=i?i.pa:new gy,u=i?i.ma:this.ma;let f=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((S,M)=>{const q=u.get(S),j=Ko(this.query,M)?M:null,$=!!q&&this.mutatedKeys.has(q.key),it=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;q&&j?q.data.isEqual(j.data)?$!==it&&(a.track({type:3,doc:j}),Z=!0):this.ya(q,j)||(a.track({type:2,doc:j}),Z=!0,(_&&this.Va(j,_)>0||v&&this.Va(j,v)<0)&&(g=!0)):!q&&j?(a.track({type:0,doc:j}),Z=!0):q&&!j&&(a.track({type:1,doc:q}),Z=!0,(_||v)&&(g=!0)),Z&&(j?(d=d.add(j),f=it?f.add(S):f.delete(S)):(d=d.delete(S),f=f.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),f=f.delete(S.key),a.track({type:1,doc:S})}return{ma:d,pa:a,ss:g,mutatedKeys:f}}ya(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const f=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const d=e.pa.j_();d.sort((S,M)=>function(j,$){const it=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return it(j)-it($)}(S.type,M.type)||this.Va(S.doc,M.doc)),this.wa(a),u=u!=null&&u;const g=i&&!u?this.Sa():[],_=this.Ra.size===0&&this.current&&!u?1:0,v=_!==this.Aa;return this.Aa=_,d.length!==0||v?{snapshot:new ys(this.query,e.ma,f,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ba:g}:{ba:g}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new gy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(i=>this.Ea=this.Ea.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ea=this.Ea.delete(i)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ct(),this.ma.forEach(a=>{this.Da(a.key)&&(this.Ra=this.Ra.add(a.key))});const i=[];return e.forEach(a=>{this.Ra.has(a)||i.push(new B_(a))}),this.Ra.forEach(a=>{e.has(a)||i.push(new z_(a))}),i}va(e){this.Ea=e.Es,this.Ra=Ct();const i=this.ga(e.documents);return this.applyChanges(i,!0)}Ca(){return ys.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class HS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class jS{constructor(e){this.key=e,this.Fa=!1}}class GS{constructor(e,i,a,u,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new fa(g=>r_(g),Yo),this.Oa=new Map,this.Na=new Set,this.Ba=new Wt(ft.comparator),this.La=new Map,this.ka=new Jh,this.qa={},this.Qa=new Map,this.Ka=ps.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function QS(s,e,i=!0){const a=G_(s);let u;const f=a.xa.get(e);return f?(a.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Ca()):u=await q_(a,e,i,!0),u}async function FS(s,e){const i=G_(s);await q_(i,e,!0,!1)}async function q_(s,e,i,a){const u=await fS(s.localStore,ti(e)),f=u.targetId,d=s.sharedClientState.addLocalQueryTarget(f,i);let g;return a&&(g=await YS(s,e,f,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&O_(s.remoteStore,u),g}async function YS(s,e,i,a,u){s.Ua=(M,q,j)=>async function(it,Z,St,pt){let J=Z.view.ga(St);J.ss&&(J=await fy(it.localStore,Z.query,!1).then(({documents:N})=>Z.view.ga(N,J)));const ht=pt&&pt.targetChanges.get(Z.targetId),at=pt&&pt.targetMismatches.get(Z.targetId)!=null,yt=Z.view.applyChanges(J,it.isPrimaryClient,ht,at);return vy(it,Z.targetId,yt.ba),yt.snapshot}(s,M,q,j);const f=await fy(s.localStore,e,!0),d=new kS(e,f.Es),g=d.ga(f.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);vy(s,i,v.ba);const S=new HS(e,i,d);return s.xa.set(e,S),s.Oa.has(i)?s.Oa.get(i).push(e):s.Oa.set(i,[e]),v.snapshot}async function KS(s,e,i){const a=Et(s),u=a.xa.get(e),f=a.Oa.get(u.targetId);if(f.length>1)return a.Oa.set(u.targetId,f.filter(d=>!Yo(d,e))),void a.xa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await xh(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&ed(a.remoteStore,u.targetId),zh(a,u.targetId)}).catch(Ts)):(zh(a,u.targetId),await xh(a.localStore,u.targetId,!0))}async function XS(s,e){const i=Et(s),a=i.xa.get(e),u=i.Oa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ed(i.remoteStore,a.targetId))}async function ZS(s,e,i){const a=i1(s);try{const u=await function(d,g){const _=Et(d),v=Ae.now(),S=g.reduce((j,$)=>j.add($.key),Ct());let M,q;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let $=Mi(),it=Ct();return _.hs.getEntries(j,S).next(Z=>{$=Z,$.forEach((St,pt)=>{pt.isValidDocument()||(it=it.add(St))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,$)).next(Z=>{M=Z;const St=[];for(const pt of g){const J=hA(pt,M.get(pt.key).overlayedDocument);J!=null&&St.push(new ha(pt.key,J,Xy(J.value.mapValue),ei.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,St,g)}).next(Z=>{q=Z;const St=Z.applyToLocalDocumentSet(M,it);return _.documentOverlayCache.saveOverlays(j,Z.batchId,St)})}).then(()=>({batchId:q.batchId,changes:l_(M)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.qa[d.currentUser.toKey()];v||(v=new Wt(It)),v=v.insert(g,_),d.qa[d.currentUser.toKey()]=v}(a,u.batchId,i),await $l(a,u.changes),await tc(a.remoteStore)}catch(u){const f=sd(u,"Failed to persist write");i.reject(f)}}async function P_(s,e){const i=Et(s);try{const a=await uS(i.localStore,e);e.targetChanges.forEach((u,f)=>{const d=i.La.get(f);d&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Fa=!0:u.modifiedDocuments.size>0?Ht(d.Fa):u.removedDocuments.size>0&&(Ht(d.Fa),d.Fa=!1))}),await $l(i,a,e)}catch(a){await Ts(a)}}function _y(s,e,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.xa.forEach((f,d)=>{const g=d.view.ea(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=Et(d);_.onlineState=g;let v=!1;_.queries.forEach((S,M)=>{for(const q of M.J_)q.ea(g)&&(v=!0)}),v&&ld(_)}(a.eventManager,e),u.length&&a.Ma.R_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function $S(s,e,i){const a=Et(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.La.get(e),f=u&&u.key;if(f){let d=new Wt(ft.comparator);d=d.insert(f,Qe.newNoDocument(f,_t.min()));const g=Ct().add(f),_=new $o(_t.min(),new Map,new Wt(It),d,g);await P_(a,_),a.Ba=a.Ba.remove(f),a.La.delete(e),ud(a)}else await xh(a.localStore,e,!1).then(()=>zh(a,e,i)).catch(Ts)}async function JS(s,e){const i=Et(s),a=e.batch.batchId;try{const u=await lS(i.localStore,e);H_(i,a,null),k_(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,u)}catch(u){await Ts(u)}}async function WS(s,e,i){const a=Et(s);try{const u=await function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let S;return _.mutationQueue.lookupMutationBatch(v,g).next(M=>(Ht(M!==null),S=M.keys(),_.mutationQueue.removeMutationBatch(v,M))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,S,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,S)).next(()=>_.localDocuments.getDocuments(v,S))})}(a.localStore,e);H_(a,e,i),k_(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $l(a,u)}catch(u){await Ts(u)}}function k_(s,e){(s.Qa.get(e)||[]).forEach(i=>{i.resolve()}),s.Qa.delete(e)}function H_(s,e,i){const a=Et(s);let u=a.qa[a.currentUser.toKey()];if(u){const f=u.get(e);f&&(i?f.reject(i):f.resolve(),u=u.remove(e)),a.qa[a.currentUser.toKey()]=u}}function zh(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Oa.get(e))s.xa.delete(a),i&&s.Ma.Wa(a,i);s.Oa.delete(e),s.isPrimaryClient&&s.ka.yr(e).forEach(a=>{s.ka.containsKey(a)||j_(s,a)})}function j_(s,e){s.Na.delete(e.path.canonicalString());const i=s.Ba.get(e);i!==null&&(ed(s.remoteStore,i),s.Ba=s.Ba.remove(e),s.La.delete(i),ud(s))}function vy(s,e,i){for(const a of i)a instanceof z_?(s.ka.addReference(a.key,e),t1(s,a)):a instanceof B_?(nt("SyncEngine","Document no longer in limbo: "+a.key),s.ka.removeReference(a.key,e),s.ka.containsKey(a.key)||j_(s,a.key)):gt()}function t1(s,e){const i=e.key,a=i.path.canonicalString();s.Ba.get(i)||s.Na.has(a)||(nt("SyncEngine","New document in limbo: "+i),s.Na.add(a),ud(s))}function ud(s){for(;s.Na.size>0&&s.Ba.size<s.maxConcurrentLimboResolutions;){const e=s.Na.values().next().value;s.Na.delete(e);const i=new ft(Xt.fromString(e)),a=s.Ka.next();s.La.set(a,new jS(i)),s.Ba=s.Ba.insert(i,a),O_(s.remoteStore,new yr(ti(n_(i.path)),a,"TargetPurposeLimboResolution",Go.oe))}}async function $l(s,e,i){const a=Et(s),u=[],f=[],d=[];a.xa.isEmpty()||(a.xa.forEach((g,_)=>{d.push(a.Ua(_,e,i).then(v=>{var S;if((v||i)&&a.isPrimaryClient){const M=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(_.targetId))===null||S===void 0?void 0:S.current;a.sharedClientState.updateQueryState(_.targetId,M?"current":"not-current")}if(v){u.push(v);const M=td.zi(_.targetId,v);f.push(M)}}))}),await Promise.all(d),a.Ma.R_(u),await async function(_,v){const S=Et(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Q.forEach(v,q=>Q.forEach(q.Wi,j=>S.persistence.referenceDelegate.addReference(M,q.targetId,j)).next(()=>Q.forEach(q.Gi,j=>S.persistence.referenceDelegate.removeReference(M,q.targetId,j)))))}catch(M){if(!As(M))throw M;nt("LocalStore","Failed to update sequence numbers: "+M)}for(const M of v){const q=M.targetId;if(!M.fromCache){const j=S.us.get(q),$=j.snapshotVersion,it=j.withLastLimboFreeSnapshotVersion($);S.us=S.us.insert(q,it)}}}(a.localStore,f))}async function e1(s,e){const i=Et(s);if(!i.currentUser.isEqual(e)){nt("SyncEngine","User change. New user:",e.toKey());const a=await D_(i.localStore,e);i.currentUser=e,function(f,d){f.Qa.forEach(g=>{g.forEach(_=>{_.reject(new rt(F.CANCELLED,d))})}),f.Qa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Ts)}}function n1(s,e){const i=Et(s),a=i.La.get(e);if(a&&a.Fa)return Ct().add(a.key);{let u=Ct();const f=i.Oa.get(e);if(!f)return u;for(const d of f){const g=i.xa.get(d);u=u.unionWith(g.view.fa)}return u}}function G_(s){const e=Et(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=P_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$S.bind(null,e),e.Ma.R_=BS.bind(null,e.eventManager),e.Ma.Wa=qS.bind(null,e.eventManager),e}function i1(s){const e=Et(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WS.bind(null,e),e}class Ho{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jo(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,i){return null}Ya(e,i){return null}Ha(e){return sS(this.persistence,new rS,e.initialUser,this.serializer)}ja(e){return new w_(Wh.ei,this.serializer)}za(e){return new dS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ho.provider={build:()=>new Ho};class r1 extends Ho{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,i){Ht(this.persistence.referenceDelegate instanceof Po);const a=this.persistence.referenceDelegate.garbageCollector;return new jA(a,e.asyncQueue,i)}ja(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new w_(a=>Po.ei(a,i),this.serializer)}}class Bh{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>_y(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=e1.bind(null,this.syncEngine),await MS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xS}()}createDatastore(e){const i=Jo(e.databaseInfo.databaseId),a=function(f){return new yS(f)}(e.databaseInfo);return function(f,d,g,_){return new ES(f,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,f,d,g){return new AS(a,u,f,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>_y(this.syncEngine,i,0),function(){return dy.p()?new dy:new mS}())}createSyncEngine(e,i){return function(u,f,d,g,_,v,S){const M=new GS(u,f,d,g,_,v);return S&&(M.$a=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const f=Et(u);nt("RemoteStore","RemoteStore shutting down."),f.k_.add(5),await Zl(f),f.Q_.shutdown(),f.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Bh.provider={build:()=>new Bh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Ni("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,i,a,u,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=Fy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(a,async d=>{nt("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(nt("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=sd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function ph(s,e){s.asyncQueue.verifyOperationInProgress(),nt("FirestoreClient","Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await D_(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Ey(s,e){s.asyncQueue.verifyOperationInProgress();const i=await l1(s);nt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>my(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>my(e.remoteStore,u)),s._onlineComponents=e}async function l1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){nt("FirestoreClient","Using user provided OfflineComponentProvider");try{await ph(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===F.FAILED_PRECONDITION||u.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;hs("Error using user provided cache. Falling back to memory cache: "+i),await ph(s,new Ho)}}else nt("FirestoreClient","Using default OfflineComponentProvider"),await ph(s,new r1(void 0));return s._offlineComponents}async function Q_(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(nt("FirestoreClient","Using user provided OnlineComponentProvider"),await Ey(s,s._uninitializedComponentsProvider._online)):(nt("FirestoreClient","Using default OnlineComponentProvider"),await Ey(s,new Bh))),s._onlineComponents}function u1(s){return Q_(s).then(e=>e.syncEngine)}async function o1(s){const e=await Q_(s),i=e.eventManager;return i.onListen=QS.bind(null,e.syncEngine),i.onUnlisten=KS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=FS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=XS.bind(null,e.syncEngine),i}function c1(s,e,i={}){const a=new Tr;return s.asyncQueue.enqueueAndForget(async()=>function(f,d,g,_,v){const S=new a1({next:q=>{S.eu(),d.enqueueAndForget(()=>zS(f,M)),q.fromCache&&_.source==="server"?v.reject(new rt(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(q)},error:q=>v.reject(q)}),M=new PS(g,S,{includeMetadataChanges:!0,ua:!0});return LS(f,M)}(await o1(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(s,e,i){if(!i)throw new rt(F.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function f1(s,e,i,a){if(e===!0&&a===!0)throw new rt(F.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Ay(s){if(!ft.isDocumentKey(s))throw new rt(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Sy(s){if(ft.isDocumentKey(s))throw new rt(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ec(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt()}function Yl(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=ec(s);throw new rt(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new rt(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}f1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=F_((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ry({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ry(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new v0;switch(a.type){case"firstParty":return new S0(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Ty.get(i);a&&(nt("ComponentProvider","Removing Datastore"),Ty.delete(i),a.terminate())}(this),Promise.resolve()}}function h1(s,e,i,a={}){var u;const f=(s=Yl(s,nc))._getSettings(),d=`${e}:${i}`;if(f.host!=="firestore.googleapis.com"&&f.host!==d&&hs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},f),{host:d,ssl:!1})),a.mockUserToken){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=Ge.MOCK_USER;else{g=JE(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new rt(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ge(v)}s._authCredentials=new E0(new Qy(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new ma(this.firestore,e,this._query)}}class Cn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class Ar extends ma{constructor(e,i,a){super(e,i,n_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new ft(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function by(s,e,...i){if(s=fs(s),Y_("collection","path",e),s instanceof nc){const a=Xt.fromString(e,...i);return Sy(a),new Ar(s,null,a)}{if(!(s instanceof Cn||s instanceof Ar))throw new rt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Sy(a),new Ar(s.firestore,null,a)}}function K_(s,e,...i){if(s=fs(s),arguments.length===1&&(e=Fy.newId()),Y_("doc","path",e),s instanceof nc){const a=Xt.fromString(e,...i);return Ay(a),new Cn(s,null,new ft(a))}{if(!(s instanceof Cn||s instanceof Ar))throw new rt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Ay(a),new Cn(s.firestore,s instanceof Ar?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new V_(this,"async_queue_retry"),this.fu=()=>{const a=gh();a&&nt("AsyncQueue","Visibility state changed to "+a.visibilityState),this.r_.Jo()},this.gu=e;const i=gh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const i=gh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const i=new Tr;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!As(e))throw e;nt("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const i=this.gu.then(()=>(this.Ru=!0,e().catch(a=>{this.Au=a,this.Ru=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Ni("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.Ru=!1,a))));return this.gu=i,i}enqueueAfterDelay(e,i,a){this.pu(),this.mu.indexOf(e)>-1&&(i=0);const u=ad.createAndSchedule(this,e,i,a,f=>this.Su(f));return this.Eu.push(u),u}pu(){this.Au&&gt()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const i of this.Eu)if(i.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Eu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const i=this.Eu.indexOf(e);this.Eu.splice(i,1)}}class ic extends nc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new wy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new wy(e),this._firestoreClient=void 0,await e}}}function d1(s,e){const i=typeof s=="object"?s:l0(),a=typeof s=="string"?s:"(default)",u=i0(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const f=ZE("firestore");f&&h1(u,...f)}return u}function X_(s){if(s._terminated)throw new rt(F.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||m1(s),s._firestoreClient}function m1(s){var e,i,a;const u=s._freezeSettings(),f=function(g,_,v,S){return new B0(g,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,F_(S.experimentalLongPollingOptions),S.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new s1(s._authCredentials,s._appCheckCredentials,s._queue,f,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _s(qe.fromBase64String(e))}catch(i){throw new rt(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new _s(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let f=0;f<a.length;++f)if(a[f]!==u[f])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=/^__.*__$/;class p1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}function $_(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class hd{constructor(e,i,a,u,f,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,f===void 0&&this.Fu(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new hd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.xu({path:a,Nu:!1});return u.Bu(e),u}Lu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.xu({path:a,Nu:!1});return u.Fu(),u}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return jo(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if($_(this.Mu)&&g1.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class y1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||Jo(e)}$u(e,i,a,u=!1){return new hd({Mu:e,methodName:i,Ku:a,path:Be.emptyPath(),Nu:!1,Qu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function J_(s){const e=s._freezeSettings(),i=Jo(s._databaseId);return new y1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function _1(s,e,i,a,u,f={}){const d=s.$u(f.merge||f.mergeFields?2:0,e,i,u);ev("Data must be an object, but it was:",d,a);const g=W_(a,d);let _,v;if(f.merge)_=new xn(d.fieldMask),v=d.fieldTransforms;else if(f.mergeFields){const S=[];for(const M of f.mergeFields){const q=E1(e,M,i);if(!d.contains(q))throw new rt(F.INVALID_ARGUMENT,`Field '${q}' is specified in your field mask but missing from your input data.`);A1(S,q)||S.push(q)}_=new xn(S),v=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,v=d.fieldTransforms;return new p1(new Dn(g),_,v)}function v1(s,e,i,a=!1){return dd(i,s.$u(a?4:3,e))}function dd(s,e){if(tv(s=fs(s)))return ev("Unsupported field value:",e,s),W_(s,e);if(s instanceof Z_)return function(a,u){if(!$_(u.Mu))throw u.qu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.qu(`${a._methodName}() is not currently supported inside arrays`);const f=a._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(a,u){const f=[];let d=0;for(const g of a){let _=dd(g,u.ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}}(s,e)}return function(a,u){if((a=fs(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return sA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const f=Ae.fromDate(a);return{timestampValue:qo(u.serializer,f)}}if(a instanceof Ae){const f=new Ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:qo(u.serializer,f)}}if(a instanceof cd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof _s)return{bytesValue:v_(u.serializer,a._byteString)};if(a instanceof Cn){const f=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(f))throw u.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:$h(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof fd)return function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.qu("VectorValues must only contain numeric values.");return Yh(g.serializer,_)})}}}}}}(a,u);throw u.qu(`Unsupported field value: ${ec(a)}`)}(s,e)}function W_(s,e){const i={};return Yy(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(s,(a,u)=>{const f=dd(u,e.Ou(a));f!=null&&(i[a]=f)}),{mapValue:{fields:i}}}function tv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ae||s instanceof cd||s instanceof _s||s instanceof Cn||s instanceof Z_||s instanceof fd)}function ev(s,e,i){if(!tv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=ec(i);throw a==="an object"?e.qu(s+" a custom object"):e.qu(s+" "+a)}}function E1(s,e,i){if((e=fs(e))instanceof od)return e._internalPath;if(typeof e=="string")return nv(s,e);throw jo("Field path arguments must be of type string or ",s,!1,void 0,i)}const T1=new RegExp("[~\\*/\\[\\]]");function nv(s,e,i){if(e.search(T1)>=0)throw jo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new od(...e.split("."))._internalPath}catch{throw jo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function jo(s,e,i,a,u){const f=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new rt(F.INVALID_ARGUMENT,g+s+_)}function A1(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,i,a,u,f){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new S1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(md("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class S1 extends iv{data(){return super.data()}}function md(s,e){return typeof e=="string"?nv(s,e):e instanceof od?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gd{}class rv extends gd{}function b1(s,e,...i){let a=[];e instanceof gd&&a.push(e),a=a.concat(i),function(f){const d=f.filter(_=>_ instanceof yd).length,g=f.filter(_=>_ instanceof pd).length;if(d>1||d>0&&g>0)throw new rt(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class pd extends rv{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new pd(e,i,a)}_apply(e){const i=this._parse(e);return av(e._query,i),new ma(e.firestore,e.converter,Vh(e._query,i))}_parse(e){const i=J_(e.firestore);return function(f,d,g,_,v,S,M){let q;if(v.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new rt(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){Cy(M,S);const j=[];for(const $ of M)j.push(Dy(_,f,$));q={arrayValue:{values:j}}}else q=Dy(_,f,M)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||Cy(M,S),q=v1(g,d,M,S==="in"||S==="not-in");return me.create(v,S,q)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class yd extends gd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new yd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Ln.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,f){let d=u;const g=f.getFlattenedFilters();for(const _ of g)av(d,_),d=Vh(d,_)}(e._query,i),new ma(e.firestore,e.converter,Vh(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _d extends rv{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new _d(e,i)}_apply(e){const i=function(u,f,d){if(u.startAt!==null)throw new rt(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new rt(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Gl(f,d)}(e._query,this._field,this._direction);return new ma(e.firestore,e.converter,function(u,f){const d=u.explicitOrderBy.concat([f]);return new Ss(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,i))}}function w1(s,e="asc"){const i=e,a=md("orderBy",s);return _d._create(a,i)}function Dy(s,e,i){if(typeof(i=fs(i))=="string"){if(i==="")throw new rt(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i_(e)&&i.indexOf("/")!==-1)throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Xt.fromString(i));if(!ft.isDocumentKey(a))throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Yp(s,new ft(a))}if(i instanceof Cn)return Yp(s,i._key);throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ec(i)}.`)}function Cy(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function av(s,e){const i=function(u,f){for(const d of u)for(const g of d.getFlattenedFilters())if(f.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class D1{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(br(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return ca(e,(u,f)=>{a[u]=this.convertValue(f,i)}),a}convertVectorValue(e){var i,a,u;const f=(u=(a=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>le(d.doubleValue));return new fd(f)}convertGeoPoint(e){return new cd(le(e.latitude),le(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Fo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(kl(e));default:return null}}convertTimestamp(e){const i=Rr(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Xt.fromString(e);Ht(b_(a));const u=new Hl(a.get(1),a.get(3)),f=new ft(a.popFirst(5));return u.isEqual(i)||Ni(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class V1 extends iv{constructor(e,i,a,u,f,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Oo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(md("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Oo extends V1{data(e={}){return super.data(e)}}class I1{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new bo(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Oo(this._firestore,this._userDataWriter,a.key,a,new bo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Oo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new bo(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>f||g.type!==3).map(g=>{const _=new Oo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new bo(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:O1(g.type),doc:_,oldIndex:v,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function O1(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}class N1 extends D1{constructor(e){super(),this.firestore=e}convertBytes(e){return new _s(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,i)}}function M1(s){s=Yl(s,ma);const e=Yl(s.firestore,ic),i=X_(e),a=new N1(e);return R1(s._query),c1(i,s._query).then(u=>new I1(e,a,s,u))}function U1(s){return sv(Yl(s.firestore,ic),[new Kh(s._key,ei.none())])}function x1(s,e){const i=Yl(s.firestore,ic),a=K_(s),u=C1(s.converter,e);return sv(i,[_1(J_(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,ei.exists(!1))]).then(()=>a)}function sv(s,e){return function(a,u){const f=new Tr;return a.asyncQueue.enqueueAndForget(async()=>ZS(await u1(a),u,f)),f.promise}(X_(s),e)}(function(e,i=!0){(function(u){Es=u})(s0),Uo(new ql("firestore",(a,{instanceIdentifier:u,options:f})=>{const d=a.getProvider("app").getImmediate(),g=new ic(new T0(a.getProvider("auth-internal")),new b0(a.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(v.options.projectId,S)}(d,u),d);return f=Object.assign({useFetchStreams:i},f),g._setSettings(f),g},"PUBLIC").setMultipleInstances(!0)),os(kp,"4.7.6",e),os(kp,"4.7.6","esm2017")})();const L1={apiKey:"AIzaSyCjP2vS3sTPBa1Ex2xIUe-87Lexxp_pUd8",authDomain:"mealtracker-6bcd6.firebaseapp.com",projectId:"mealtracker-6bcd6",storageBucket:"mealtracker-6bcd6.firebasestorage.app",messagingSenderId:"902979427036",appId:"1:902979427036:web:ec0410d60bf86b55f53219",measurementId:"G-2N638FXJHG"},z1=Ly(L1),yh=d1(z1);function B1(){const[s,e]=sa.useState([]),[i,a]=sa.useState(""),[u,f]=sa.useState([]),[d,g]=sa.useState(!1),[_,v]=sa.useState({});sa.useEffect(()=>{(async()=>{const ht=by(yh,"meals"),at=b1(ht,w1("date","desc")),N=(await M1(at)).docs.map(b=>({id:b.id,...b.data()}));e(N)})()},[]);const S=[...new Set(s.map(J=>J.name))],M=J=>{const ht=J.target.value;if(a(ht),ht.trim()){const at=S.filter(yt=>yt.toLowerCase().includes(ht.toLowerCase())).slice(0,5);f(at),g(!0)}else f([]),g(!1)},q=async(J=i)=>{if(J.trim()){const ht={name:J.trim(),date:new Date().toISOString()},at=await x1(by(yh,"meals"),ht);e(yt=>[{...ht,id:at.id},...yt]),a(""),f([]),g(!1)}},j=async J=>{try{await U1(K_(yh,"meals",J)),e(ht=>ht.filter(at=>at.id!==J))}catch(ht){console.error("Error deleting meal:",ht)}},$=(J,ht)=>{const at=ht.touches[0];v(yt=>({...yt,[J]:{startX:at.clientX,currentX:at.clientX}}))},it=(J,ht)=>{if(!_[J])return;const at=ht.touches[0],yt=_[J].startX-at.clientX,N=Math.max(-80,Math.min(0,-yt));v(A=>({...A,[J]:{...A[J],currentX:at.clientX}}));const b=ht.currentTarget;b.style.transform=`translateX(${N}px)`},Z=(J,ht)=>{if(!_[J])return;const at=_[J].startX-_[J].currentX,yt=ht.currentTarget;at>40?(yt.style.transform="translateX(-80px)",setTimeout(()=>j(J),300)):yt.style.transform="translateX(0)",v(N=>{const b={...N};return delete b[J],b})},St=J=>{const ht=new Date(J),yt=Math.abs(new Date-ht);return Math.floor(yt/(1e3*60*60*24))},pt=J=>J===0?"today":J===1?"yesterday":`${J} days ago`;return Oe.jsxs("div",{className:"meal-tracker",children:[Oe.jsx("h1",{children:"Meal History Tracker"}),Oe.jsxs("div",{className:"input-container",children:[Oe.jsxs("div",{className:"input-row",children:[Oe.jsx("input",{type:"text",className:"meal-input",value:i,onChange:M,onKeyDown:J=>{J.key==="Enter"&&q()},placeholder:"Enter meal name",onBlur:()=>{setTimeout(()=>g(!1),200)}}),Oe.jsx("button",{className:"add-button",onClick:()=>q(),children:"Add Meal"})]}),d&&u.length>0&&Oe.jsx("div",{className:"suggestions",children:u.map((J,ht)=>Oe.jsx("div",{className:"suggestion-item",onClick:()=>{q(J)},children:J},ht))})]}),Oe.jsxs("div",{className:"meal-list",children:[s.map(J=>{const ht=St(J.date);return Oe.jsxs("div",{className:"meal-item",onTouchStart:at=>$(J.id,at),onTouchMove:at=>it(J.id,at),onTouchEnd:at=>Z(J.id,at),children:[Oe.jsx("div",{className:"meal-item-content",children:Oe.jsxs("div",{className:"meal-info",children:[Oe.jsx("span",{className:"meal-name",children:J.name}),Oe.jsx("span",{className:"days-ago",children:pt(ht)})]})}),Oe.jsx("div",{className:"delete-indicator",children:"Delete"})]},J.id)}),s.length===0&&Oe.jsx("div",{className:"empty-state",children:"No meals logged yet. Add your first meal above!"})]})]})}PE.createRoot(document.getElementById("root")).render(Oe.jsx(sa.StrictMode,{children:Oe.jsx(B1,{})}));
