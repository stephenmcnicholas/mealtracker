(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();var lh={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function xE(){if(Cp)return Nl;Cp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var g in u)g!=="key"&&(f[g]=u[g])}else f=u;return u=f.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:f}}return Nl.Fragment=e,Nl.jsx=i,Nl.jsxs=i,Nl}var Vp;function LE(){return Vp||(Vp=1,lh.exports=xE()),lh.exports}var Wt=LE(),uh={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function zE(){if(Ip)return At;Ip=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),O=Symbol.iterator;function B(C){return C===null||typeof C!="object"?null:(C=O&&C[O]||C["@@iterator"],typeof C=="function"?C:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,tt={};function Z(C,K,lt){this.props=C,this.context=K,this.refs=tt,this.updater=lt||j}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,K){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,K,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function St(){}St.prototype=Z.prototype;function pt(C,K,lt){this.props=C,this.context=K,this.refs=tt,this.updater=lt||j}var J=pt.prototype=new St;J.constructor=pt,X(J,Z.prototype),J.isPureReactComponent=!0;var ht=Array.isArray,ot={H:null,A:null,T:null,S:null},Et=Object.prototype.hasOwnProperty;function M(C,K,lt,et,nt,bt){return lt=bt.ref,{$$typeof:s,type:C,key:K,ref:lt!==void 0?lt:null,props:bt}}function R(C,K){return M(C.type,K,void 0,void 0,void 0,C.props)}function S(C){return typeof C=="object"&&C!==null&&C.$$typeof===s}function D(C){var K={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(lt){return K[lt]})}var N=/\/+/g;function L(C,K){return typeof C=="object"&&C!==null&&C.key!=null?D(""+C.key):K.toString(36)}function w(){}function pe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(w,w):(C.status="pending",C.then(function(K){C.status==="pending"&&(C.status="fulfilled",C.value=K)},function(K){C.status==="pending"&&(C.status="rejected",C.reason=K)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function oe(C,K,lt,et,nt){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var Tt=!1;if(C===null)Tt=!0;else switch(bt){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(C.$$typeof){case s:case e:Tt=!0;break;case A:return Tt=C._init,oe(Tt(C._payload),K,lt,et,nt)}}if(Tt)return nt=nt(C),Tt=et===""?"."+L(C,0):et,ht(nt)?(lt="",Tt!=null&&(lt=Tt.replace(N,"$&/")+"/"),oe(nt,K,lt,"",function(ee){return ee})):nt!=null&&(S(nt)&&(nt=R(nt,lt+(nt.key==null||C&&C.key===nt.key?"":(""+nt.key).replace(N,"$&/")+"/")+Tt)),K.push(nt)),1;Tt=0;var ce=et===""?".":et+":";if(ht(C))for(var Lt=0;Lt<C.length;Lt++)et=C[Lt],bt=ce+L(et,Lt),Tt+=oe(et,K,lt,bt,nt);else if(Lt=B(C),typeof Lt=="function")for(C=Lt.call(C),Lt=0;!(et=C.next()).done;)et=et.value,bt=ce+L(et,Lt++),Tt+=oe(et,K,lt,bt,nt);else if(bt==="object"){if(typeof C.then=="function")return oe(pe(C),K,lt,et,nt);throw K=String(C),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function W(C,K,lt){if(C==null)return C;var et=[],nt=0;return oe(C,et,"","",function(bt){return K.call(lt,bt,nt++)}),et}function mt(C){if(C._status===-1){var K=C._result;K=K(),K.then(function(lt){(C._status===0||C._status===-1)&&(C._status=1,C._result=lt)},function(lt){(C._status===0||C._status===-1)&&(C._status=2,C._result=lt)}),C._status===-1&&(C._status=0,C._result=K)}if(C._status===1)return C._result.default;throw C._result}var ct=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Pt(){}return At.Children={map:W,forEach:function(C,K,lt){W(C,function(){K.apply(this,arguments)},lt)},count:function(C){var K=0;return W(C,function(){K++}),K},toArray:function(C){return W(C,function(K){return K})||[]},only:function(C){if(!S(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},At.Component=Z,At.Fragment=i,At.Profiler=u,At.PureComponent=pt,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ot,At.act=function(){throw Error("act(...) is not supported in production builds of React.")},At.cache=function(C){return function(){return C.apply(null,arguments)}},At.cloneElement=function(C,K,lt){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var et=X({},C.props),nt=C.key,bt=void 0;if(K!=null)for(Tt in K.ref!==void 0&&(bt=void 0),K.key!==void 0&&(nt=""+K.key),K)!Et.call(K,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&K.ref===void 0||(et[Tt]=K[Tt]);var Tt=arguments.length-2;if(Tt===1)et.children=lt;else if(1<Tt){for(var ce=Array(Tt),Lt=0;Lt<Tt;Lt++)ce[Lt]=arguments[Lt+2];et.children=ce}return M(C.type,nt,void 0,void 0,bt,et)},At.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:f,_context:C},C},At.createElement=function(C,K,lt){var et,nt={},bt=null;if(K!=null)for(et in K.key!==void 0&&(bt=""+K.key),K)Et.call(K,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(nt[et]=K[et]);var Tt=arguments.length-2;if(Tt===1)nt.children=lt;else if(1<Tt){for(var ce=Array(Tt),Lt=0;Lt<Tt;Lt++)ce[Lt]=arguments[Lt+2];nt.children=ce}if(C&&C.defaultProps)for(et in Tt=C.defaultProps,Tt)nt[et]===void 0&&(nt[et]=Tt[et]);return M(C,bt,void 0,void 0,null,nt)},At.createRef=function(){return{current:null}},At.forwardRef=function(C){return{$$typeof:g,render:C}},At.isValidElement=S,At.lazy=function(C){return{$$typeof:A,_payload:{_status:-1,_result:C},_init:mt}},At.memo=function(C,K){return{$$typeof:v,type:C,compare:K===void 0?null:K}},At.startTransition=function(C){var K=ot.T,lt={};ot.T=lt;try{var et=C(),nt=ot.S;nt!==null&&nt(lt,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(Pt,ct)}catch(bt){ct(bt)}finally{ot.T=K}},At.unstable_useCacheRefresh=function(){return ot.H.useCacheRefresh()},At.use=function(C){return ot.H.use(C)},At.useActionState=function(C,K,lt){return ot.H.useActionState(C,K,lt)},At.useCallback=function(C,K){return ot.H.useCallback(C,K)},At.useContext=function(C){return ot.H.useContext(C)},At.useDebugValue=function(){},At.useDeferredValue=function(C,K){return ot.H.useDeferredValue(C,K)},At.useEffect=function(C,K){return ot.H.useEffect(C,K)},At.useId=function(){return ot.H.useId()},At.useImperativeHandle=function(C,K,lt){return ot.H.useImperativeHandle(C,K,lt)},At.useInsertionEffect=function(C,K){return ot.H.useInsertionEffect(C,K)},At.useLayoutEffect=function(C,K){return ot.H.useLayoutEffect(C,K)},At.useMemo=function(C,K){return ot.H.useMemo(C,K)},At.useOptimistic=function(C,K){return ot.H.useOptimistic(C,K)},At.useReducer=function(C,K,lt){return ot.H.useReducer(C,K,lt)},At.useRef=function(C){return ot.H.useRef(C)},At.useState=function(C){return ot.H.useState(C)},At.useSyncExternalStore=function(C,K,lt){return ot.H.useSyncExternalStore(C,K,lt)},At.useTransition=function(){return ot.H.useTransition()},At.version="19.0.0",At}var Np;function Gh(){return Np||(Np=1,uh.exports=zE()),uh.exports}var oa=Gh(),oh={exports:{}},Ol={},ch={exports:{}},fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Op;function BE(){return Op||(Op=1,function(s){function e(W,mt){var ct=W.length;W.push(mt);t:for(;0<ct;){var Pt=ct-1>>>1,C=W[Pt];if(0<u(C,mt))W[Pt]=mt,W[ct]=C,ct=Pt;else break t}}function i(W){return W.length===0?null:W[0]}function a(W){if(W.length===0)return null;var mt=W[0],ct=W.pop();if(ct!==mt){W[0]=ct;t:for(var Pt=0,C=W.length,K=C>>>1;Pt<K;){var lt=2*(Pt+1)-1,et=W[lt],nt=lt+1,bt=W[nt];if(0>u(et,ct))nt<C&&0>u(bt,et)?(W[Pt]=bt,W[nt]=ct,Pt=nt):(W[Pt]=et,W[lt]=ct,Pt=lt);else if(nt<C&&0>u(bt,ct))W[Pt]=bt,W[nt]=ct,Pt=nt;else break t}}return mt}function u(W,mt){var ct=W.sortIndex-mt.sortIndex;return ct!==0?ct:W.id-mt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,O=null,B=3,j=!1,X=!1,tt=!1,Z=typeof setTimeout=="function"?setTimeout:null,St=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function J(W){for(var mt=i(v);mt!==null;){if(mt.callback===null)a(v);else if(mt.startTime<=W)a(v),mt.sortIndex=mt.expirationTime,e(_,mt);else break;mt=i(v)}}function ht(W){if(tt=!1,J(W),!X)if(i(_)!==null)X=!0,pe();else{var mt=i(v);mt!==null&&oe(ht,mt.startTime-W)}}var ot=!1,Et=-1,M=5,R=-1;function S(){return!(s.unstable_now()-R<M)}function D(){if(ot){var W=s.unstable_now();R=W;var mt=!0;try{t:{X=!1,tt&&(tt=!1,St(Et),Et=-1),j=!0;var ct=B;try{e:{for(J(W),O=i(_);O!==null&&!(O.expirationTime>W&&S());){var Pt=O.callback;if(typeof Pt=="function"){O.callback=null,B=O.priorityLevel;var C=Pt(O.expirationTime<=W);if(W=s.unstable_now(),typeof C=="function"){O.callback=C,J(W),mt=!0;break e}O===i(_)&&a(_),J(W)}else a(_);O=i(_)}if(O!==null)mt=!0;else{var K=i(v);K!==null&&oe(ht,K.startTime-W),mt=!1}}break t}finally{O=null,B=ct,j=!1}mt=void 0}}finally{mt?N():ot=!1}}}var N;if(typeof pt=="function")N=function(){pt(D)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,w=L.port2;L.port1.onmessage=D,N=function(){w.postMessage(null)}}else N=function(){Z(D,0)};function pe(){ot||(ot=!0,N())}function oe(W,mt){Et=Z(function(){W(s.unstable_now())},mt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(W){W.callback=null},s.unstable_continueExecution=function(){X||j||(X=!0,pe())},s.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<W?Math.floor(1e3/W):5},s.unstable_getCurrentPriorityLevel=function(){return B},s.unstable_getFirstCallbackNode=function(){return i(_)},s.unstable_next=function(W){switch(B){case 1:case 2:case 3:var mt=3;break;default:mt=B}var ct=B;B=mt;try{return W()}finally{B=ct}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(W,mt){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ct=B;B=W;try{return mt()}finally{B=ct}},s.unstable_scheduleCallback=function(W,mt,ct){var Pt=s.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?Pt+ct:Pt):ct=Pt,W){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ct+C,W={id:A++,callback:mt,priorityLevel:W,startTime:ct,expirationTime:C,sortIndex:-1},ct>Pt?(W.sortIndex=ct,e(v,W),i(_)===null&&W===i(v)&&(tt?(St(Et),Et=-1):tt=!0,oe(ht,ct-Pt))):(W.sortIndex=C,e(_,W),X||j||(X=!0,pe())),W},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(W){var mt=B;return function(){var ct=B;B=mt;try{return W.apply(this,arguments)}finally{B=ct}}}}(fh)),fh}var Mp;function qE(){return Mp||(Mp=1,ch.exports=BE()),ch.exports}var hh={exports:{}},He={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up;function PE(){if(Up)return He;Up=1;var s=Gh();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(_,v,A){var O=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:O==null?null:""+O,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return He.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,He.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return f(_,v,null,A)},He.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},He.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},He.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},He.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,O=g(A,v.crossOrigin),B=typeof v.integrity=="string"?v.integrity:void 0,j=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:O,integrity:B,fetchPriority:j}):A==="script"&&a.d.X(_,{crossOrigin:O,integrity:B,fetchPriority:j,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},He.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},He.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,O=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:O,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},He.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},He.requestFormReset=function(_){a.d.r(_)},He.unstable_batchedUpdates=function(_,v){return _(v)},He.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},He.useFormStatus=function(){return d.H.useHostTransitionStatus()},He.version="19.0.0",He}var xp;function kE(){if(xp)return hh.exports;xp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),hh.exports=PE(),hh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function HE(){if(Lp)return Ol;Lp=1;var s=qE(),e=Gh(),i=kE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var f=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),j=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),St=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ht=Symbol.for("react.memo_cache_sentinel"),ot=Symbol.iterator;function Et(t){return t===null||typeof t!="object"?null:(t=ot&&t[ot]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _:return"Fragment";case g:return"Portal";case A:return"Profiler";case v:return"StrictMode";case tt:return"Suspense";case Z:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case j:return(t.displayName||"Context")+".Provider";case B:return(t._context.displayName||"Context")+".Consumer";case X:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case St:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case pt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,N,L;function w(t){if(N===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||"",L=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+t+L}var pe=!1;function oe(t,n){if(!t||pe)return"";pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(k){var q=k}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(k){q=k}t.call(Y.prototype)}}else{try{throw Error()}catch(k){q=k}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(k){if(k&&q&&typeof k.stack=="string")return[k.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var b=y.split(`
`),I=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===I.length)for(l=b.length-1,c=I.length-1;1<=l&&0<=c&&b[l]!==I[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==I[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==I[c]){var H=`
`+b[l].replace(" at new "," at ");return t.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",t.displayName)),H}while(1<=l&&0<=c);break}}}finally{pe=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?w(r):""}function W(t){switch(t.tag){case 26:case 27:case 5:return w(t.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return t=oe(t.type,!1),t;case 11:return t=oe(t.type.render,!1),t;case 1:return t=oe(t.type,!0),t;default:return""}}function mt(t){try{var n="";do n+=W(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ct(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,n.flags&4098&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function Pt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function C(t){if(ct(t)!==t)throw Error(a(188))}function K(t){var n=t.alternate;if(!n){if(n=ct(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===r)return C(c),t;if(h===l)return C(c),n;h=h.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=h;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=h;break}if(E===l){y=!0,l=c,r=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===r){y=!0,r=h,l=c;break}if(E===l){y=!0,l=h,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function lt(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=lt(t),n!==null)return n;t=t.sibling}return null}var et=Array.isArray,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,bt={pending:!1,data:null,method:null,action:null},Tt=[],ce=-1;function Lt(t){return{current:t}}function ee(t){0>ce||(t.current=Tt[ce],Tt[ce]=null,ce--)}function jt(t,n){ce++,Tt[ce]=t.current,t.current=n}var Fe=Lt(null),ri=Lt(null),dn=Lt(null),xi=Lt(null);function Li(t,n){switch(jt(dn,n),jt(ri,t),jt(Fe,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?ip(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=ip(t),n=rp(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ee(Fe),jt(Fe,n)}function ai(){ee(Fe),ee(ri),ee(dn)}function ws(t){t.memoizedState!==null&&jt(xi,t);var n=Fe.current,r=rp(n,t.type);n!==r&&(jt(ri,t),jt(Fe,r))}function ya(t){ri.current===t&&(ee(Fe),ee(ri)),xi.current===t&&(ee(xi),wl._currentValue=bt)}var _a=Object.prototype.hasOwnProperty,Nr=s.unstable_scheduleCallback,va=s.unstable_cancelCallback,uc=s.unstable_shouldYield,Ds=s.unstable_requestPaint,Je=s.unstable_now,tu=s.unstable_getCurrentPriorityLevel,ye=s.unstable_ImmediatePriority,Re=s.unstable_UserBlockingPriority,si=s.unstable_NormalPriority,eu=s.unstable_LowPriority,Cs=s.unstable_IdlePriority,oc=s.log,Or=s.unstable_setDisableYieldValue,zi=null,Pe=null;function Vs(t){if(Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(zi,t,void 0,(t.current.flags&128)===128)}catch{}}function Bn(t){if(typeof oc=="function"&&Or(t),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(zi,t)}catch{}}var Ye=Math.clz32?Math.clz32:iu,Is=Math.log,nu=Math.LN2;function iu(t){return t>>>=0,t===0?32:31-(Is(t)/nu|0)|0}var qn=128,Bi=4194304;function In(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function mn(t,n){var r=t.pendingLanes;if(r===0)return 0;var l=0,c=t.suspendedLanes,h=t.pingedLanes,y=t.warmLanes;t=t.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?l=In(r):(h&=E,h!==0?l=In(h):t||(y=E&~y,y!==0&&(l=In(y))))):(E=r&~c,E!==0?l=In(E):h!==0?l=In(h):t||(y=r&~y,y!==0&&(l=In(y)))),l===0?0:n!==0&&n!==l&&!(n&c)&&(c=l&-l,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:l}function qi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ea(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ns(){var t=qn;return qn<<=1,!(qn&4194176)&&(qn=128),t}function Pi(){var t=Bi;return Bi<<=1,!(Bi&62914560)&&(Bi=4194304),t}function Ta(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function se(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ru(t,n,r,l,c,h){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,I=t.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Ye(r),Y=1<<H;E[H]=0,b[H]=-1;var q=I[H];if(q!==null)for(I[H]=null,H=0;H<q.length;H++){var k=q[H];k!==null&&(k.lane&=-536870913)}r&=~Y}l!==0&&ki(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(y&~n))}function ki(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Ye(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194218}function Hi(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-Ye(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function au(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function su(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:Ap(t.type))}function ji(t,n){var r=nt.p;try{return nt.p=t,n()}finally{nt.p=r}}var Pn=Math.random().toString(36).slice(2),we="__reactFiber$"+Pn,_e="__reactProps$"+Pn,li="__reactContainer$"+Pn,Mr="__reactEvents$"+Pn,Aa="__reactListeners$"+Pn,kn="__reactHandles$"+Pn,Os="__reactResources$"+Pn,Gi="__reactMarker$"+Pn;function Ur(t){delete t[we],delete t[_e],delete t[Mr],delete t[Aa],delete t[kn]}function Nn(t){var n=t[we];if(n)return n;for(var r=t.parentNode;r;){if(n=r[li]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=lp(t);t!==null;){if(r=t[we])return r;t=lp(t)}return n}t=r,r=t.parentNode}return null}function ui(t){if(t=t[we]||t[li]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Qi(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Fi(t){var n=t[Os];return n||(n=t[Os]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Zt(t){t[Gi]=!0}var Ms=new Set,Sa={};function rn(t,n){We(t,n),We(t+"Capture",n)}function We(t,n){for(Sa[t]=n,t=0;t<n.length;t++)Ms.add(n[t])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Us={},xs={};function lu(t){return _a.call(xs,t)?!0:_a.call(Us,t)?!1:cc.test(t)?xs[t]=!0:(Us[t]=!0,!1)}function Yi(t,n,r){if(lu(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Ki(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function gn(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uu(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function fc(t){var n=uu(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,h=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,h.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function xr(t){t._valueTracker||(t._valueTracker=fc(t))}function Ls(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=uu(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var oi=/[\n"\\]/g;function ne(t){return t.replace(oi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Xi(t,n,r,l,c,h,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Ra(t,y,Ke(n)):r!=null?Ra(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Lr(t,n,r,l,c,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||r!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Ra(t,n,r){n==="number"&&ba(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function zt(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function zr(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function Zi(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(et(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zs(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||hc.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function ou(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&zs(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&zs(t,h,n[h])}function Bs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(t){return mc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yn=null;function wa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,fi=null;function hi(t){var n=ui(t);if(n&&(t=n.stateNode)){var r=t[_e]||null;t:switch(t=n.stateNode,n.type){case"input":if(Xi(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ne(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[_e]||null;if(!c)throw Error(a(90));Xi(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&Ls(l)}break t;case"textarea":zr(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&zt(t,!!r.multiple,n,!1)}}}var qs=!1;function cu(t,n,r){if(qs)return t(n,r);qs=!0;try{var l=t(n);return l}finally{if(qs=!1,(ci!==null||fi!==null)&&(eo(),ci&&(n=ci,t=fi,fi=ci=null,hi(n),t)))for(n=0;n<t.length;n++)hi(t[n])}}function Br(t,n){var r=t.stateNode;if(r===null)return null;var l=r[_e]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var _n=!1;if(an)try{var qr={};Object.defineProperty(qr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",qr,qr),window.removeEventListener("test",qr,qr)}catch{_n=!1}var jn=null,$i=null,di=null;function Ps(){if(di)return di;var t,n=$i,r=n.length,l,c="value"in jn?jn.value:jn.textContent,h=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[h-l];l++);return di=c.slice(t,1<l?1-l:void 0)}function Gn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Qn(){return!0}function ks(){return!1}function De(t){function n(r,l,c,h,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Qn:ks,this.isPropagationStopped=ks,this}return D(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Da=De(kt),Pr=D({},kt,{view:0,detail:0}),fu=De(Pr),Ca,Va,Fn,kr=D({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fn&&(Fn&&t.type==="mousemove"?(Ca=t.screenX-Fn.screenX,Va=t.screenY-Fn.screenY):Va=Ca=0,Fn=t),Ca)},movementY:function(t){return"movementY"in t?t.movementY:Va}}),vn=De(kr),hu=D({},kr,{dataTransfer:0}),gc=De(hu),Hr=D({},Pr,{relatedTarget:0}),Ia=De(Hr),Hs=D({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=De(Hs),du=D({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=De(du),pc=D({},kt,{data:0}),js=De(pc),jr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=gu[t])?!!n[t]:!1}function Gr(){return Gs}var pu=D({},Pr,{key:function(t){if(t.key){var n=jr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Gn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gr,charCode:function(t){return t.type==="keypress"?Gn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ma=De(pu),yu=D({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qs=De(yu),mi=D({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gr}),_u=De(mi),vu=D({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eu=De(vu),Tu=D({},kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ua=De(Tu),Xe=D({},kt,{newState:0,oldState:0}),Au=De(Xe),Su=[9,13,27,32],Yn=an&&"CompositionEvent"in window,o=null;an&&"documentMode"in document&&(o=document.documentMode);var m=an&&"TextEvent"in window&&!o,p=an&&(!Yn||o&&8<o&&11>=o),T=" ",x=!1;function P(t,n){switch(t){case"keyup":return Su.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function ve(t,n){switch(t){case"compositionend":return $(n);case"keypress":return n.which!==32?null:(x=!0,T);case"textInput":return t=n.data,t===T&&x?null:t;default:return null}}function Ot(t,n){if(Nt)return t==="compositionend"||!Yn&&P(t,n)?(t=Ps(),di=$i=jn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ce[t.type]:n==="textarea"}function gi(t,n,r,l){ci?fi?fi.push(l):fi=[l]:ci=l,n=so(n,"onChange"),0<n.length&&(r=new Da("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Kn=null;function Fs(t){Jg(t,0)}function bu(t){var n=Qi(t);if(Ls(n))return t}function Dd(t,n){if(t==="change")return n}var Cd=!1;if(an){var yc;if(an){var _c="oninput"in document;if(!_c){var Vd=document.createElement("div");Vd.setAttribute("oninput","return;"),_c=typeof Vd.oninput=="function"}yc=_c}else yc=!1;Cd=yc&&(!document.documentMode||9<document.documentMode)}function Id(){Me&&(Me.detachEvent("onpropertychange",Nd),Kn=Me=null)}function Nd(t){if(t.propertyName==="value"&&bu(Kn)){var n=[];gi(n,Kn,t,wa(t)),cu(Fs,n)}}function fv(t,n,r){t==="focusin"?(Id(),Me=n,Kn=r,Me.attachEvent("onpropertychange",Nd)):t==="focusout"&&Id()}function hv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bu(Kn)}function dv(t,n){if(t==="click")return bu(n)}function mv(t,n){if(t==="input"||t==="change")return bu(n)}function gv(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var sn=typeof Object.is=="function"?Object.is:gv;function Ys(t,n){if(sn(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!_a.call(n,c)||!sn(t[c],n[c]))return!1}return!0}function Od(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Md(t,n){var r=Od(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Od(r)}}function Ud(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Ud(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function xd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=ba(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=ba(t.document)}return n}function vc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function pv(t,n){var r=xd(n);n=t.focusedElem;var l=t.selectionRange;if(r!==n&&n&&n.ownerDocument&&Ud(n.ownerDocument.documentElement,n)){if(l!==null&&vc(n)){if(t=l.start,r=l.end,r===void 0&&(r=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(r,n.value.length);else if(r=(t=n.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,h=Math.min(l.start,c);l=l.end===void 0?h:Math.min(l.end,c),!r.extend&&h>l&&(c=l,l=h,h=c),c=Md(n,h);var y=Md(n,l);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),r.removeAllRanges(),h>l?(r.addRange(t),r.extend(y.node,y.offset)):(t.setEnd(y.node,y.offset),r.addRange(t)))}}for(t=[],r=n;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)r=t[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var yv=an&&"documentMode"in document&&11>=document.documentMode,xa=null,Ec=null,Ks=null,Tc=!1;function Ld(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Tc||xa==null||xa!==ba(l)||(l=xa,"selectionStart"in l&&vc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ks&&Ys(Ks,l)||(Ks=l,l=so(Ec,"onSelect"),0<l.length&&(n=new Da("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=xa)))}function Qr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var La={animationend:Qr("Animation","AnimationEnd"),animationiteration:Qr("Animation","AnimationIteration"),animationstart:Qr("Animation","AnimationStart"),transitionrun:Qr("Transition","TransitionRun"),transitionstart:Qr("Transition","TransitionStart"),transitioncancel:Qr("Transition","TransitionCancel"),transitionend:Qr("Transition","TransitionEnd")},Ac={},zd={};an&&(zd=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Fr(t){if(Ac[t])return Ac[t];if(!La[t])return t;var n=La[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in zd)return Ac[t]=n[r];return t}var Bd=Fr("animationend"),qd=Fr("animationiteration"),Pd=Fr("animationstart"),_v=Fr("transitionrun"),vv=Fr("transitionstart"),Ev=Fr("transitioncancel"),kd=Fr("transitionend"),Hd=new Map,jd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function On(t,n){Hd.set(t,n),rn(n,[t])}var En=[],za=0,Sc=0;function Ru(){for(var t=za,n=Sc=za=0;n<t;){var r=En[n];En[n++]=null;var l=En[n];En[n++]=null;var c=En[n];En[n++]=null;var h=En[n];if(En[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}h!==0&&Gd(r,c,h)}}function wu(t,n,r,l){En[za++]=t,En[za++]=n,En[za++]=r,En[za++]=l,Sc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function bc(t,n,r,l){return wu(t,n,r,l),Du(t)}function Ji(t,n){return wu(t,null,null,n),Du(t)}function Gd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,h=t.return;h!==null;)h.childLanes|=r,l=h.alternate,l!==null&&(l.childLanes|=r),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;c&&n!==null&&t.tag===3&&(h=t.stateNode,c=31-Ye(r),h=h.hiddenUpdates,t=h[c],t===null?h[c]=[n]:t.push(n),n.lane=r|536870912)}function Du(t){if(50<vl)throw vl=0,Nf=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ba={},Qd=new WeakMap;function Tn(t,n){if(typeof t=="object"&&t!==null){var r=Qd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:mt(n)},Qd.set(t,n),n)}return{value:t,source:n,stack:mt(n)}}var qa=[],Pa=0,Cu=null,Vu=0,An=[],Sn=0,Yr=null,pi=1,yi="";function Kr(t,n){qa[Pa++]=Vu,qa[Pa++]=Cu,Cu=t,Vu=n}function Fd(t,n,r){An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Yr,Yr=t;var l=pi;t=yi;var c=32-Ye(l)-1;l&=~(1<<c),r+=1;var h=32-Ye(n)+c;if(30<h){var y=c-c%5;h=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-Ye(n)+c|r<<c|l,yi=h+t}else pi=1<<h|r<<c|l,yi=t}function Rc(t){t.return!==null&&(Kr(t,1),Fd(t,1,0))}function wc(t){for(;t===Cu;)Cu=qa[--Pa],qa[Pa]=null,Vu=qa[--Pa],qa[Pa]=null;for(;t===Yr;)Yr=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null,pi=An[--Sn],An[Sn]=null}var Ze=null,Ue=null,Bt=!1,Mn=null,Xn=!1,Dc=Error(a(519));function Xr(t){var n=Error(a(418,""));throw $s(Tn(n,t)),Dc}function Yd(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[we]=t,n[_e]=l,r){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(r=0;r<Tl.length;r++)Vt(Tl[r],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Lr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xr(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Zi(n,l.value,l.defaultValue,l.children),xr(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||np(n.textContent,r)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=lo),n=!0):n=!1,n||Xr(t)}function Kd(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 3:case 27:Xn=!0;return;case 5:case 13:Xn=!1;return;default:Ze=Ze.return}}function Xs(t){if(t!==Ze)return!1;if(!Bt)return Kd(t),Bt=!0,!1;var n=!1,r;if((r=t.tag!==3&&t.tag!==27)&&((r=t.tag===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Kf(t.type,t.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&Xr(t),Kd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){Ue=xn(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}Ue=null}}else Ue=Ze?xn(t.stateNode.nextSibling):null;return!0}function Zs(){Ue=Ze=null,Bt=!1}function $s(t){Mn===null?Mn=[t]:Mn.push(t)}var Js=Error(a(460)),Xd=Error(a(474)),Cc={then:function(){}};function Zd(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Iu(){}function $d(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Iu,Iu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Js?Error(a(483)):t;default:if(typeof n.status=="string")n.then(Iu,Iu);else{if(t=Yt,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Js?Error(a(483)):t}throw Ws=n,Js}}var Ws=null;function Jd(){if(Ws===null)throw Error(a(459));var t=Ws;return Ws=null,t}var ka=null,tl=0;function Nu(t){var n=tl;return tl+=1,ka===null&&(ka=[]),$d(ka,t,n)}function el(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Ou(t,n){throw n.$$typeof===f?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Wd(t){var n=t._init;return n(t._payload)}function tm(t){function n(U,V){if(t){var z=U.deletions;z===null?(U.deletions=[V],U.flags|=16):z.push(V)}}function r(U,V){if(!t)return null;for(;V!==null;)n(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function c(U,V){return U=cr(U,V),U.index=0,U.sibling=null,U}function h(U,V,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<V?(U.flags|=33554434,V):z):(U.flags|=33554434,V)):(U.flags|=1048576,V)}function y(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function E(U,V,z,G){return V===null||V.tag!==6?(V=Sf(z,U.mode,G),V.return=U,V):(V=c(V,z),V.return=U,V)}function b(U,V,z,G){var at=z.type;return at===_?H(U,V,z.props.children,G,z.key):V!==null&&(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===pt&&Wd(at)===V.type)?(V=c(V,z.props),el(V,z),V.return=U,V):(V=Zu(z.type,z.key,z.props,null,U.mode,G),el(V,z),V.return=U,V)}function I(U,V,z,G){return V===null||V.tag!==4||V.stateNode.containerInfo!==z.containerInfo||V.stateNode.implementation!==z.implementation?(V=bf(z,U.mode,G),V.return=U,V):(V=c(V,z.children||[]),V.return=U,V)}function H(U,V,z,G,at){return V===null||V.tag!==7?(V=aa(z,U.mode,G,at),V.return=U,V):(V=c(V,z),V.return=U,V)}function Y(U,V,z){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Sf(""+V,U.mode,z),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case d:return z=Zu(V.type,V.key,V.props,null,U.mode,z),el(z,V),z.return=U,z;case g:return V=bf(V,U.mode,z),V.return=U,V;case pt:var G=V._init;return V=G(V._payload),Y(U,V,z)}if(et(V)||Et(V))return V=aa(V,U.mode,z,null),V.return=U,V;if(typeof V.then=="function")return Y(U,Nu(V),z);if(V.$$typeof===j)return Y(U,Yu(U,V),z);Ou(U,V)}return null}function q(U,V,z,G){var at=V!==null?V.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:E(U,V,""+z,G);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case d:return z.key===at?b(U,V,z,G):null;case g:return z.key===at?I(U,V,z,G):null;case pt:return at=z._init,z=at(z._payload),q(U,V,z,G)}if(et(z)||Et(z))return at!==null?null:H(U,V,z,G,null);if(typeof z.then=="function")return q(U,V,Nu(z),G);if(z.$$typeof===j)return q(U,V,Yu(U,z),G);Ou(U,z)}return null}function k(U,V,z,G,at){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return U=U.get(z)||null,E(V,U,""+G,at);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case d:return U=U.get(G.key===null?z:G.key)||null,b(V,U,G,at);case g:return U=U.get(G.key===null?z:G.key)||null,I(V,U,G,at);case pt:var wt=G._init;return G=wt(G._payload),k(U,V,z,G,at)}if(et(G)||Et(G))return U=U.get(z)||null,H(V,U,G,at,null);if(typeof G.then=="function")return k(U,V,z,Nu(G),at);if(G.$$typeof===j)return k(U,V,z,Yu(V,G),at);Ou(V,G)}return null}function st(U,V,z,G){for(var at=null,wt=null,ut=V,dt=V=0,Ne=null;ut!==null&&dt<z.length;dt++){ut.index>dt?(Ne=ut,ut=null):Ne=ut.sibling;var qt=q(U,ut,z[dt],G);if(qt===null){ut===null&&(ut=Ne);break}t&&ut&&qt.alternate===null&&n(U,ut),V=h(qt,V,dt),wt===null?at=qt:wt.sibling=qt,wt=qt,ut=Ne}if(dt===z.length)return r(U,ut),Bt&&Kr(U,dt),at;if(ut===null){for(;dt<z.length;dt++)ut=Y(U,z[dt],G),ut!==null&&(V=h(ut,V,dt),wt===null?at=ut:wt.sibling=ut,wt=ut);return Bt&&Kr(U,dt),at}for(ut=l(ut);dt<z.length;dt++)Ne=k(ut,U,dt,z[dt],G),Ne!==null&&(t&&Ne.alternate!==null&&ut.delete(Ne.key===null?dt:Ne.key),V=h(Ne,V,dt),wt===null?at=Ne:wt.sibling=Ne,wt=Ne);return t&&ut.forEach(function(yr){return n(U,yr)}),Bt&&Kr(U,dt),at}function _t(U,V,z,G){if(z==null)throw Error(a(151));for(var at=null,wt=null,ut=V,dt=V=0,Ne=null,qt=z.next();ut!==null&&!qt.done;dt++,qt=z.next()){ut.index>dt?(Ne=ut,ut=null):Ne=ut.sibling;var yr=q(U,ut,qt.value,G);if(yr===null){ut===null&&(ut=Ne);break}t&&ut&&yr.alternate===null&&n(U,ut),V=h(yr,V,dt),wt===null?at=yr:wt.sibling=yr,wt=yr,ut=Ne}if(qt.done)return r(U,ut),Bt&&Kr(U,dt),at;if(ut===null){for(;!qt.done;dt++,qt=z.next())qt=Y(U,qt.value,G),qt!==null&&(V=h(qt,V,dt),wt===null?at=qt:wt.sibling=qt,wt=qt);return Bt&&Kr(U,dt),at}for(ut=l(ut);!qt.done;dt++,qt=z.next())qt=k(ut,U,dt,qt.value,G),qt!==null&&(t&&qt.alternate!==null&&ut.delete(qt.key===null?dt:qt.key),V=h(qt,V,dt),wt===null?at=qt:wt.sibling=qt,wt=qt);return t&&ut.forEach(function(UE){return n(U,UE)}),Bt&&Kr(U,dt),at}function ae(U,V,z,G){if(typeof z=="object"&&z!==null&&z.type===_&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case d:t:{for(var at=z.key;V!==null;){if(V.key===at){if(at=z.type,at===_){if(V.tag===7){r(U,V.sibling),G=c(V,z.props.children),G.return=U,U=G;break t}}else if(V.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===pt&&Wd(at)===V.type){r(U,V.sibling),G=c(V,z.props),el(G,z),G.return=U,U=G;break t}r(U,V);break}else n(U,V);V=V.sibling}z.type===_?(G=aa(z.props.children,U.mode,G,z.key),G.return=U,U=G):(G=Zu(z.type,z.key,z.props,null,U.mode,G),el(G,z),G.return=U,U=G)}return y(U);case g:t:{for(at=z.key;V!==null;){if(V.key===at)if(V.tag===4&&V.stateNode.containerInfo===z.containerInfo&&V.stateNode.implementation===z.implementation){r(U,V.sibling),G=c(V,z.children||[]),G.return=U,U=G;break t}else{r(U,V);break}else n(U,V);V=V.sibling}G=bf(z,U.mode,G),G.return=U,U=G}return y(U);case pt:return at=z._init,z=at(z._payload),ae(U,V,z,G)}if(et(z))return st(U,V,z,G);if(Et(z)){if(at=Et(z),typeof at!="function")throw Error(a(150));return z=at.call(z),_t(U,V,z,G)}if(typeof z.then=="function")return ae(U,V,Nu(z),G);if(z.$$typeof===j)return ae(U,V,Yu(U,z),G);Ou(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,V!==null&&V.tag===6?(r(U,V.sibling),G=c(V,z),G.return=U,U=G):(r(U,V),G=Sf(z,U.mode,G),G.return=U,U=G),y(U)):r(U,V)}return function(U,V,z,G){try{tl=0;var at=ae(U,V,z,G);return ka=null,at}catch(ut){if(ut===Js)throw ut;var wt=Dn(29,ut,null,U.mode);return wt.lanes=G,wt.return=U,wt}finally{}}}var Zr=tm(!0),em=tm(!1),Ha=Lt(null),Mu=Lt(0);function nm(t,n){t=Ci,jt(Mu,t),jt(Ha,n),Ci=t|n.baseLanes}function Vc(){jt(Mu,Ci),jt(Ha,Ha.current)}function Ic(){Ci=Mu.current,ee(Ha),ee(Mu)}var bn=Lt(null),Zn=null;function Wi(t){var n=t.alternate;jt(Te,Te.current&1),jt(bn,t),Zn===null&&(n===null||Ha.current!==null||n.memoizedState!==null)&&(Zn=t)}function im(t){if(t.tag===22){if(jt(Te,Te.current),jt(bn,t),Zn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Zn=t)}}else tr()}function tr(){jt(Te,Te.current),jt(bn,bn.current)}function _i(t){ee(bn),Zn===t&&(Zn=null),ee(Te)}var Te=Lt(0);function Uu(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Tv=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},Av=s.unstable_scheduleCallback,Sv=s.unstable_NormalPriority,Ae={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nc(){return{controller:new Tv,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&Av(Sv,function(){t.controller.abort()})}var il=null,Oc=0,ja=0,Ga=null;function bv(t,n){if(il===null){var r=il=[];Oc=0,ja=qf(),Ga={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Oc++,n.then(rm,rm),n}function rm(){if(--Oc===0&&il!==null){Ga!==null&&(Ga.status="fulfilled");var t=il;il=null,ja=0,Ga=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function Rv(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var am=S.S;S.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&bv(t,n),am!==null&&am(t,n)};var $r=Lt(null);function Mc(){var t=$r.current;return t!==null?t:Yt.pooledCache}function xu(t,n){n===null?jt($r,$r.current):jt($r,n.pool)}function sm(){var t=Mc();return t===null?null:{parent:Ae._currentValue,pool:t}}var er=0,Rt=null,Gt=null,fe=null,Lu=!1,Qa=!1,Jr=!1,zu=0,rl=0,Fa=null,wv=0;function le(){throw Error(a(321))}function Uc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!sn(t[r],n[r]))return!1;return!0}function xc(t,n,r,l,c,h){return er=h,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=t===null||t.memoizedState===null?Wr:nr,Jr=!1,h=r(l,c),Jr=!1,Qa&&(h=um(n,r,l,c)),lm(t),h}function lm(t){S.H=$n;var n=Gt!==null&&Gt.next!==null;if(er=0,fe=Gt=Rt=null,Lu=!1,rl=0,Fa=null,n)throw Error(a(300));t===null||Ve||(t=t.dependencies,t!==null&&Fu(t)&&(Ve=!0))}function um(t,n,r,l){Rt=t;var c=0;do{if(Qa&&(Fa=null),rl=0,Qa=!1,25<=c)throw Error(a(301));if(c+=1,fe=Gt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}S.H=ta,h=n(r,l)}while(Qa);return h}function Dv(){var t=S.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Gt!==null?Gt.memoizedState:null)!==t&&(Rt.flags|=1024),n}function Lc(){var t=zu!==0;return zu=0,t}function zc(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function Bc(t){if(Lu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}Lu=!1}er=0,fe=Gt=Rt=null,Qa=!1,rl=zu=0,Fa=null}function tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?Rt.memoizedState=fe=t:fe=fe.next=t,fe}function he(){if(Gt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Gt.next;var n=fe===null?Rt.memoizedState:fe.next;if(n!==null)fe=n,Gt=t;else{if(t===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Gt=t,t={memoizedState:Gt.memoizedState,baseState:Gt.baseState,baseQueue:Gt.baseQueue,queue:Gt.queue,next:null},fe===null?Rt.memoizedState=fe=t:fe=fe.next=t}return fe}var Bu;Bu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function al(t){var n=rl;return rl+=1,Fa===null&&(Fa=[]),t=$d(Fa,t,n),n=Rt,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?Wr:nr),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===j)return ke(t)}throw Error(a(438,String(t)))}function qc(t){var n=null,r=Rt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Rt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Bu(),Rt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=ht;return n.index++,r}function vi(t,n){return typeof n=="function"?n(t):n}function Pu(t){var n=he();return Pc(n,Gt,t)}function Pc(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var y=c.next;c.next=h.next,h.next=y}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=y=null,b=null,I=n,H=!1;do{var Y=I.lane&-536870913;if(Y!==I.lane?(Mt&Y)===Y:(er&Y)===Y){var q=I.revertLane;if(q===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Y===ja&&(H=!0);else if((er&q)===q){I=I.next,q===ja&&(H=!0);continue}else Y={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},b===null?(E=b=Y,y=h):b=b.next=Y,Rt.lanes|=q,fr|=q;Y=I.action,Jr&&r(h,Y),h=I.hasEagerState?I.eagerState:r(h,Y)}else q={lane:Y,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},b===null?(E=b=q,y=h):b=b.next=q,Rt.lanes|=Y,fr|=Y;I=I.next}while(I!==null&&I!==n);if(b===null?y=h:b.next=E,!sn(h,t.memoizedState)&&(Ve=!0,H&&(r=Ga,r!==null)))throw r;t.memoizedState=h,t.baseState=y,t.baseQueue=b,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function kc(t){var n=he(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,h=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do h=t(h,y.action),y=y.next;while(y!==c);sn(h,n.memoizedState)||(Ve=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),r.lastRenderedState=h}return[h,l]}function om(t,n,r){var l=Rt,c=he(),h=Bt;if(h){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!sn((Gt||c).memoizedState,r);if(y&&(c.memoizedState=r,Ve=!0),c=c.queue,Gc(hm.bind(null,l,c,t),[t]),c.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(l.flags|=2048,Ya(9,fm.bind(null,l,c,r,n),{destroy:void 0},null),Yt===null)throw Error(a(349));h||er&60||cm(l,n,r)}return r}function cm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=Rt.updateQueue,n===null?(n=Bu(),Rt.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function fm(t,n,r,l){n.value=r,n.getSnapshot=l,dm(n)&&mm(t)}function hm(t,n,r){return r(function(){dm(n)&&mm(t)})}function dm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!sn(t,r)}catch{return!0}}function mm(t){var n=Ji(t,2);n!==null&&$e(n,t,2)}function Hc(t){var n=tn();if(typeof t=="function"){var r=t;if(t=r(),Jr){Bn(!0);try{r()}finally{Bn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:t},n}function gm(t,n,r,l){return t.baseState=r,Pc(t,Gt,typeof l=="function"?l:vi)}function Cv(t,n,r,l,c){if(ju(t))throw Error(a(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};S.T!==null?r(!0):h.isTransition=!1,l(h),r=n.pending,r===null?(h.next=n.pending=h,pm(n,h)):(h.next=r.next,n.pending=r.next=h)}}function pm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=S.T,y={};S.T=y;try{var E=r(c,l),b=S.S;b!==null&&b(y,E),ym(t,n,E)}catch(I){jc(t,n,I)}finally{S.T=h}}else try{h=r(c,l),ym(t,n,h)}catch(I){jc(t,n,I)}}function ym(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){_m(t,n,l)},function(l){return jc(t,n,l)}):_m(t,n,r)}function _m(t,n,r){n.status="fulfilled",n.value=r,vm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,pm(t,r)))}function jc(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,vm(n),n=n.next;while(n!==l)}t.action=null}function vm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Em(t,n){return n}function Tm(t,n){if(Bt){var r=Yt.formState;if(r!==null){t:{var l=Rt;if(Bt){if(Ue){e:{for(var c=Ue,h=Xn;c.nodeType!==8;){if(!h){c=null;break e}if(c=xn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){Ue=xn(c.nextSibling),l=c.data==="F!";break t}}Xr(l)}l=!1}l&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Em,lastRenderedState:n},r.queue=l,r=qm.bind(null,Rt,l),l.dispatch=r,l=Hc(!1),h=Xc.bind(null,Rt,!1,l.queue),l=tn(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=Cv.bind(null,Rt,c,h,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Am(t){var n=he();return Sm(n,Gt,t)}function Sm(t,n,r){n=Pc(t,n,Em)[0],t=Pu(vi)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?al(n):n;var l=he(),c=l.queue,h=c.dispatch;return r!==l.memoizedState&&(Rt.flags|=2048,Ya(9,Vv.bind(null,c,r),{destroy:void 0},null)),[n,h,t]}function Vv(t,n){t.action=n}function bm(t){var n=he(),r=Gt;if(r!==null)return Sm(n,r,t);he(),n=n.memoizedState,r=he();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function Ya(t,n,r,l){return t={tag:t,create:n,inst:r,deps:l,next:null},n=Rt.updateQueue,n===null&&(n=Bu(),Rt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function Rm(){return he().memoizedState}function ku(t,n,r,l){var c=tn();Rt.flags|=t,c.memoizedState=Ya(1|n,r,{destroy:void 0},l===void 0?null:l)}function Hu(t,n,r,l){var c=he();l=l===void 0?null:l;var h=c.memoizedState.inst;Gt!==null&&l!==null&&Uc(l,Gt.memoizedState.deps)?c.memoizedState=Ya(n,r,h,l):(Rt.flags|=t,c.memoizedState=Ya(1|n,r,h,l))}function wm(t,n){ku(8390656,8,t,n)}function Gc(t,n){Hu(2048,8,t,n)}function Dm(t,n){return Hu(4,2,t,n)}function Cm(t,n){return Hu(4,4,t,n)}function Vm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Im(t,n,r){r=r!=null?r.concat([t]):null,Hu(4,4,Vm.bind(null,n,t),r)}function Qc(){}function Nm(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Uc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Om(t,n){var r=he();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Uc(n,l[1]))return l[0];if(l=t(),Jr){Bn(!0);try{t()}finally{Bn(!1)}}return r.memoizedState=[l,n],l}function Fc(t,n,r){return r===void 0||er&1073741824?t.memoizedState=n:(t.memoizedState=r,t=Ug(),Rt.lanes|=t,fr|=t,r)}function Mm(t,n,r,l){return sn(r,n)?r:Ha.current!==null?(t=Fc(t,r,l),sn(t,n)||(Ve=!0),t):er&42?(t=Ug(),Rt.lanes|=t,fr|=t,n):(Ve=!0,t.memoizedState=r)}function Um(t,n,r,l,c){var h=nt.p;nt.p=h!==0&&8>h?h:8;var y=S.T,E={};S.T=E,Xc(t,!1,n,r);try{var b=c(),I=S.S;if(I!==null&&I(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=Rv(b,l);sl(t,n,H,cn(t))}else sl(t,n,l,cn(t))}catch(Y){sl(t,n,{then:function(){},status:"rejected",reason:Y},cn())}finally{nt.p=h,S.T=y}}function Iv(){}function Yc(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=xm(t).queue;Um(t,c,n,bt,r===null?Iv:function(){return Lm(t),r(l)})}function xm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:bt,baseState:bt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:bt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Lm(t){var n=xm(t).next.queue;sl(t,n,{},cn())}function Kc(){return ke(wl)}function zm(){return he().memoizedState}function Bm(){return he().memoizedState}function Nv(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=ar(r);var l=sr(n,t,r);l!==null&&($e(l,n,r),ol(l,n,r)),n={cache:Nc()},t.payload=n;return}n=n.return}}function Ov(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ju(t)?Pm(n,r):(r=bc(t,n,r,l),r!==null&&($e(r,t,l),km(r,n,l)))}function qm(t,n,r){var l=cn();sl(t,n,r,l)}function sl(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ju(t))Pm(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,E=h(y,r);if(c.hasEagerState=!0,c.eagerState=E,sn(E,y))return wu(t,n,c,0),Yt===null&&Ru(),!1}catch{}finally{}if(r=bc(t,n,c,l),r!==null)return $e(r,t,l),km(r,n,l),!0}return!1}function Xc(t,n,r,l){if(l={lane:2,revertLane:qf(),action:l,hasEagerState:!1,eagerState:null,next:null},ju(t)){if(n)throw Error(a(479))}else n=bc(t,r,l,2),n!==null&&$e(n,t,2)}function ju(t){var n=t.alternate;return t===Rt||n!==null&&n===Rt}function Pm(t,n){Qa=Lu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function km(t,n,r){if(r&4194176){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}var $n={readContext:ke,use:qu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le};$n.useCacheRefresh=le,$n.useMemoCache=le,$n.useHostTransitionStatus=le,$n.useFormState=le,$n.useActionState=le,$n.useOptimistic=le;var Wr={readContext:ke,use:qu,useCallback:function(t,n){return tn().memoizedState=[t,n===void 0?null:n],t},useContext:ke,useEffect:wm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,ku(4194308,4,Vm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return ku(4194308,4,t,n)},useInsertionEffect:function(t,n){ku(4,2,t,n)},useMemo:function(t,n){var r=tn();n=n===void 0?null:n;var l=t();if(Jr){Bn(!0);try{t()}finally{Bn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=tn();if(r!==void 0){var c=r(n);if(Jr){Bn(!0);try{r(n)}finally{Bn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=Ov.bind(null,Rt,t),[l.memoizedState,t]},useRef:function(t){var n=tn();return t={current:t},n.memoizedState=t},useState:function(t){t=Hc(t);var n=t.queue,r=qm.bind(null,Rt,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:Qc,useDeferredValue:function(t,n){var r=tn();return Fc(r,t,n)},useTransition:function(){var t=Hc(!1);return t=Um.bind(null,Rt,t.queue,!0,!1),tn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=Rt,c=tn();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Yt===null)throw Error(a(349));Mt&60||cm(l,n,r)}c.memoizedState=r;var h={value:r,getSnapshot:n};return c.queue=h,wm(hm.bind(null,l,h,t),[t]),l.flags|=2048,Ya(9,fm.bind(null,l,h,r,n),{destroy:void 0},null),r},useId:function(){var t=tn(),n=Yt.identifierPrefix;if(Bt){var r=yi,l=pi;r=(l&~(1<<32-Ye(l)-1)).toString(32)+r,n=":"+n+"R"+r,r=zu++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=wv++,n=":"+n+"r"+r.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return tn().memoizedState=Nv.bind(null,Rt)}};Wr.useMemoCache=qc,Wr.useHostTransitionStatus=Kc,Wr.useFormState=Tm,Wr.useActionState=Tm,Wr.useOptimistic=function(t){var n=tn();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Xc.bind(null,Rt,!0,r),r.dispatch=n,[t,n]};var nr={readContext:ke,use:qu,useCallback:Nm,useContext:ke,useEffect:Gc,useImperativeHandle:Im,useInsertionEffect:Dm,useLayoutEffect:Cm,useMemo:Om,useReducer:Pu,useRef:Rm,useState:function(){return Pu(vi)},useDebugValue:Qc,useDeferredValue:function(t,n){var r=he();return Mm(r,Gt.memoizedState,t,n)},useTransition:function(){var t=Pu(vi)[0],n=he().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:om,useId:zm};nr.useCacheRefresh=Bm,nr.useMemoCache=qc,nr.useHostTransitionStatus=Kc,nr.useFormState=Am,nr.useActionState=Am,nr.useOptimistic=function(t,n){var r=he();return gm(r,Gt,t,n)};var ta={readContext:ke,use:qu,useCallback:Nm,useContext:ke,useEffect:Gc,useImperativeHandle:Im,useInsertionEffect:Dm,useLayoutEffect:Cm,useMemo:Om,useReducer:kc,useRef:Rm,useState:function(){return kc(vi)},useDebugValue:Qc,useDeferredValue:function(t,n){var r=he();return Gt===null?Fc(r,t,n):Mm(r,Gt.memoizedState,t,n)},useTransition:function(){var t=kc(vi)[0],n=he().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:om,useId:zm};ta.useCacheRefresh=Bm,ta.useMemoCache=qc,ta.useHostTransitionStatus=Kc,ta.useFormState=bm,ta.useActionState=bm,ta.useOptimistic=function(t,n){var r=he();return Gt!==null?gm(r,Gt,t,n):(r.baseState=t,[t,r.queue.dispatch])};function Zc(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:D({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var $c={isMounted:function(t){return(t=t._reactInternals)?ct(t)===t:!1},enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ar(l);c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),ol(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ar(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=sr(t,c,l),n!==null&&($e(n,t,l),ol(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=ar(r);l.tag=2,n!=null&&(l.callback=n),n=sr(t,l,r),n!==null&&($e(n,t,r),ol(n,t,r))}};function Hm(t,n,r,l,c,h,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!Ys(r,l)||!Ys(c,h):!0}function jm(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&$c.enqueueReplaceState(n,n.state,null)}function ea(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=D({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Gm(t){Gu(t)}function Qm(t){console.error(t)}function Fm(t){Gu(t)}function Qu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Ym(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Jc(t,n,r){return r=ar(r),r.tag=3,r.payload={element:null},r.callback=function(){Qu(t,n)},r}function Km(t){return t=ar(t),t.tag=3,t}function Xm(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Ym(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){Ym(n,r,l),typeof c!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Mv(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&ul(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Zn===null?Uf():r.alternate===null&&re===0&&(re=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Cc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Lf(t,l,c)),!1;case 22:return r.flags|=65536,l===Cc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Lf(t,l,c)),!1}throw Error(a(435,r.tag))}return Lf(t,l,c),Uf(),!1}if(Bt)return n=bn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Dc&&(t=Error(a(422),{cause:l}),$s(Tn(t,r)))):(l!==Dc&&(n=Error(a(423),{cause:l}),$s(Tn(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Tn(l,r),c=Jc(t.stateNode,l,c),mf(t,c),re!==4&&(re=2)),!1;var h=Error(a(520),{cause:l});if(h=Tn(h,r),yl===null?yl=[h]:yl.push(h),re!==4&&(re=2),n===null)return!0;l=Tn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Jc(r.stateNode,l,t),mf(r,t),!1;case 1:if(n=r.type,h=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(hr===null||!hr.has(h))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Km(c),Xm(c,t,r,l),mf(r,c),!1}r=r.return}while(r!==null);return!1}var Zm=Error(a(461)),Ve=!1;function xe(t,n,r,l){n.child=t===null?em(n,null,r,l):Zr(n,t.child,r,l)}function $m(t,n,r,l,c){r=r.render;var h=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return ia(n),l=xc(t,n,r,y,h,c),E=Lc(),t!==null&&!Ve?(zc(t,n,c),Ei(t,n,c)):(Bt&&E&&Rc(n),n.flags|=1,xe(t,n,l,c),n.child)}function Jm(t,n,r,l,c){if(t===null){var h=r.type;return typeof h=="function"&&!Af(h)&&h.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=h,Wm(t,n,h,l,c)):(t=Zu(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!uf(t,c)){var y=h.memoizedProps;if(r=r.compare,r=r!==null?r:Ys,r(y,l)&&t.ref===n.ref)return Ei(t,n,c)}return n.flags|=1,t=cr(h,l),t.ref=n.ref,t.return=n,n.child=t}function Wm(t,n,r,l,c){if(t!==null){var h=t.memoizedProps;if(Ys(h,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=h,uf(t,c))t.flags&131072&&(Ve=!0);else return n.lanes=t.lanes,Ei(t,n,c)}return Wc(t,n,r,l,c)}function tg(t,n,r){var l=n.pendingProps,c=l.children,h=(n.stateNode._pendingVisibility&2)!==0,y=t!==null?t.memoizedState:null;if(ll(t,n),l.mode==="hidden"||h){if(n.flags&128){if(l=y!==null?y.baseLanes|r:r,t!==null){for(c=n.child=t.child,h=0;c!==null;)h=h|c.lanes|c.childLanes,c=c.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return eg(t,n,l,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&xu(n,y!==null?y.cachePool:null),y!==null?nm(n,y):Vc(),im(n);else return n.lanes=n.childLanes=536870912,eg(t,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(xu(n,y.cachePool),nm(n,y),tr(),n.memoizedState=null):(t!==null&&xu(n,null),Vc(),tr());return xe(t,n,c,r),n.child}function eg(t,n,r,l){var c=Mc();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&xu(n,null),Vc(),im(n),t!==null&&ul(t,n,l,!0),null}function ll(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=2097664)}}function Wc(t,n,r,l,c){return ia(n),r=xc(t,n,r,l,void 0,c),l=Lc(),t!==null&&!Ve?(zc(t,n,c),Ei(t,n,c)):(Bt&&l&&Rc(n),n.flags|=1,xe(t,n,r,c),n.child)}function ng(t,n,r,l,c,h){return ia(n),n.updateQueue=null,r=um(n,l,r,c),lm(t),l=Lc(),t!==null&&!Ve?(zc(t,n,h),Ei(t,n,h)):(Bt&&l&&Rc(n),n.flags|=1,xe(t,n,r,h),n.child)}function ig(t,n,r,l,c){if(ia(n),n.stateNode===null){var h=Ba,y=r.contextType;typeof y=="object"&&y!==null&&(h=ke(y)),h=new r(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=$c,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},hf(n),y=r.contextType,h.context=typeof y=="object"&&y!==null?ke(y):Ba,h.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(Zc(n,r,y,l),h.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&$c.enqueueReplaceState(h,h.state,null),fl(n,l,h,c),cl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,b=ea(r,E);h.props=b;var I=h.context,H=r.contextType;y=Ba,typeof H=="object"&&H!==null&&(y=ke(H));var Y=r.getDerivedStateFromProps;H=typeof Y=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||I!==y)&&jm(n,h,l,y),rr=!1;var q=n.memoizedState;h.state=q,fl(n,l,h,c),cl(),I=n.memoizedState,E||q!==I||rr?(typeof Y=="function"&&(Zc(n,r,Y,l),I=n.memoizedState),(b=rr||Hm(n,r,b,l,q,I,y))?(H||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=I),h.props=l,h.state=I,h.context=y,l=b):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,df(t,n),y=n.memoizedProps,H=ea(r,y),h.props=H,Y=n.pendingProps,q=h.context,I=r.contextType,b=Ba,typeof I=="object"&&I!==null&&(b=ke(I)),E=r.getDerivedStateFromProps,(I=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==Y||q!==b)&&jm(n,h,l,b),rr=!1,q=n.memoizedState,h.state=q,fl(n,l,h,c),cl();var k=n.memoizedState;y!==Y||q!==k||rr||t!==null&&t.dependencies!==null&&Fu(t.dependencies)?(typeof E=="function"&&(Zc(n,r,E,l),k=n.memoizedState),(H=rr||Hm(n,r,H,l,q,k,b)||t!==null&&t.dependencies!==null&&Fu(t.dependencies))?(I||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,k,b),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,k,b)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),h.props=l,h.state=k,h.context=b,l=H):(typeof h.componentDidUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,ll(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Zr(n,t.child,null,c),n.child=Zr(n,null,r,c)):xe(t,n,r,c),n.memoizedState=h.state,t=n.child):t=Ei(t,n,c),t}function rg(t,n,r,l){return Zs(),n.flags|=256,xe(t,n,r,l),n.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function ef(t){return{baseLanes:t,cachePool:sm()}}function nf(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Cn),t}function ag(t,n,r){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=t!==null&&t.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Wi(n):tr(),Bt){var E=Ue,b;if(b=E){t:{for(b=E,E=Xn;b.nodeType!==8;){if(!E){E=null;break t}if(b=xn(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Yr!==null?{id:pi,overflow:yi}:null,retryLane:536870912},b=Dn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,Ue=null,b=!0):b=!1}b||Xr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;_i(n)}return E=l.children,l=l.fallback,c?(tr(),c=n.mode,E=af({mode:"hidden",children:E},c),l=aa(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=ef(r),c.childLanes=nf(t,y,r),n.memoizedState=tf,l):(Wi(n),rf(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(h)n.flags&256?(Wi(n),n.flags&=-257,n=sf(t,n,r)):n.memoizedState!==null?(tr(),n.child=t.child,n.flags|=128,n=null):(tr(),c=l.fallback,E=n.mode,l=af({mode:"visible",children:l.children},E),c=aa(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Zr(n,t.child,null,r),l=n.child,l.memoizedState=ef(r),l.childLanes=nf(t,y,r),n.memoizedState=tf,n=c);else if(Wi(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var I=y.dgst;y=I,l=Error(a(419)),l.stack="",l.digest=y,$s({value:l,source:null,stack:null}),n=sf(t,n,r)}else if(Ve||ul(t,n,r,!1),y=(r&t.childLanes)!==0,Ve||y){if(y=Yt,y!==null){if(l=r&-r,l&42)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=l&(y.suspendedLanes|r)?0:l,l!==0&&l!==b.retryLane)throw b.retryLane=l,Ji(t,l),$e(y,t,l),Zm}E.data==="$?"||Uf(),n=sf(t,n,r)}else E.data==="$?"?(n.flags|=128,n.child=t.child,n=Kv.bind(null,t),E._reactRetry=n,n=null):(t=b.treeContext,Ue=xn(E.nextSibling),Ze=n,Bt=!0,Mn=null,Xn=!1,t!==null&&(An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Yr,pi=t.id,yi=t.overflow,Yr=n),n=rf(n,l.children),n.flags|=4096);return n}return c?(tr(),c=l.fallback,E=n.mode,b=t.child,I=b.sibling,l=cr(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&31457280,I!==null?c=cr(I,c):(c=aa(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=ef(r):(b=E.cachePool,b!==null?(I=Ae._currentValue,b=b.parent!==I?{parent:I,pool:I}:b):b=sm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=nf(t,y,r),n.memoizedState=tf,l):(Wi(n),r=t.child,t=r.sibling,r=cr(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function rf(t,n){return n=af({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function af(t,n){return Ng(t,n,0,null)}function sf(t,n,r){return Zr(n,t.child,null,r),t=rf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function sg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),cf(t.return,n,r)}function lf(t,n,r,l,c){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=r,h.tailMode=c)}function lg(t,n,r){var l=n.pendingProps,c=l.revealOrder,h=l.tail;if(xe(t,n,l.children,r),l=Te.current,l&2)l=l&1|2,n.flags|=128;else{if(t!==null&&t.flags&128)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sg(t,r,n);else if(t.tag===19)sg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(jt(Te,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Uu(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),lf(n,!1,c,r,h);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Uu(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}lf(n,!0,r,null,h);break;case"together":lf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ei(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),fr|=n.lanes,!(r&n.childLanes))if(t!==null){if(ul(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=cr(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=cr(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function uf(t,n){return t.lanes&n?!0:(t=t.dependencies,!!(t!==null&&Fu(t)))}function Uv(t,n,r){switch(n.tag){case 3:Li(n,n.stateNode.containerInfo),ir(n,Ae,t.memoizedState.cache),Zs();break;case 27:case 5:ws(n);break;case 4:Li(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Wi(n),n.flags|=128,null):r&n.child.childLanes?ag(t,n,r):(Wi(n),t=Ei(t,n,r),t!==null?t.sibling:null);Wi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(ul(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return lg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),jt(Te,Te.current),l)break;return null;case 22:case 23:return n.lanes=0,tg(t,n,r);case 24:ir(n,Ae,t.memoizedState.cache)}return Ei(t,n,r)}function ug(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!uf(t,r)&&!(n.flags&128))return Ve=!1,Uv(t,n,r);Ve=!!(t.flags&131072)}else Ve=!1,Bt&&n.flags&1048576&&Fd(n,Vu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")Af(l)?(t=ea(l,t),n.tag=1,n=ig(null,n,l,t,r)):(n.tag=0,n=Wc(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===X){n.tag=11,n=$m(null,n,l,t,r);break t}else if(c===St){n.tag=14,n=Jm(null,n,l,t,r);break t}}throw n=R(l)||l,Error(a(306,n,""))}}return n;case 0:return Wc(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ea(l,n.pendingProps),ig(t,n,l,c,r);case 3:t:{if(Li(n,n.stateNode.containerInfo),t===null)throw Error(a(387));var h=n.pendingProps;c=n.memoizedState,l=c.element,df(t,n),fl(n,h,null,r);var y=n.memoizedState;if(h=y.cache,ir(n,Ae,h),h!==c.cache&&ff(n,[Ae],r,!0),cl(),h=y.element,c.isDehydrated)if(c={element:h,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=rg(t,n,h,r);break t}else if(h!==l){l=Tn(Error(a(424)),n),$s(l),n=rg(t,n,h,r);break t}else for(Ue=xn(n.stateNode.containerInfo.firstChild),Ze=n,Bt=!0,Mn=null,Xn=!0,r=em(n,null,h,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Zs(),h===l){n=Ei(t,n,r);break t}xe(t,n,h,r)}n=n.child}return n;case 26:return ll(t,n),t===null?(r=fp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=uo(dn.current).createElement(r),l[we]=n,l[_e]=t,Le(l,r,t),Zt(l),n.stateNode=l):n.memoizedState=fp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ws(n),t===null&&Bt&&(l=n.stateNode=up(n.type,n.pendingProps,dn.current),Ze=n,Xn=!0,Ue=xn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?xe(t,n,l,r):n.child=Zr(n,null,l,r),ll(t,n),n.child;case 5:return t===null&&Bt&&((c=l=Ue)&&(l=cE(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,Ze=n,Ue=xn(l.firstChild),Xn=!1,c=!0):c=!1),c||Xr(n)),ws(n),c=n.type,h=n.pendingProps,y=t!==null?t.memoizedProps:null,l=h.children,Kf(c,h)?l=null:y!==null&&Kf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=xc(t,n,Dv,null,null,r),wl._currentValue=c),ll(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=Ue)&&(r=fE(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,Ze=n,Ue=null,t=!0):t=!1),t||Xr(n)),null;case 13:return ag(t,n,r);case 4:return Li(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Zr(n,null,l,r):xe(t,n,l,r),n.child;case 11:return $m(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ir(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,ia(n),c=ke(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return Jm(t,n,n.type,n.pendingProps,r);case 15:return Wm(t,n,n.type,n.pendingProps,r);case 19:return lg(t,n,r);case 22:return tg(t,n,r);case 24:return ia(n),l=ke(Ae),t===null?(c=Mc(),c===null&&(c=Yt,h=Nc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=r),c=h),n.memoizedState={parent:l,cache:c},hf(n),ir(n,Ae,c)):(t.lanes&r&&(df(t,n),fl(n,null,null,r),cl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ir(n,Ae,l)):(l=h.cache,ir(n,Ae,l),l!==c.cache&&ff(n,[Ae],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}var of=Lt(null),na=null,Ti=null;function ir(t,n,r){jt(of,n._currentValue),n._currentValue=r}function Ai(t){t._currentValue=of.current,ee(of)}function cf(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function ff(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var y=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){h.lanes|=r,E=h.alternate,E!==null&&(E.lanes|=r),cf(h.return,r,t),l||(y=null);break t}h=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,h=y.alternate,h!==null&&(h.lanes|=r),cf(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function ul(t,n,r,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if(c.flags&524288)h=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;sn(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===xi.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}c=c.return}t!==null&&ff(n,t,r,l),n.flags|=262144}function Fu(t){for(t=t.firstContext;t!==null;){if(!sn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ia(t){na=t,Ti=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ke(t){return og(na,t)}function Yu(t,n){return na===null&&ia(t),og(t,n)}function og(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Ti===null){if(t===null)throw Error(a(308));Ti=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ti=Ti.next=n;return r}var rr=!1;function hf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ar(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function sr(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,Jt&2){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Du(t),Gd(t,null,r),n}return wu(t,l,n,r),Du(t)}function ol(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Hi(t,r)}}function mf(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};h===null?c=h=y:h=h.next=y,r=r.next}while(r!==null);h===null?c=h=n:h=h.next=n}else c=h=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var gf=!1;function cl(){if(gf){var t=Ga;if(t!==null)throw t}}function fl(t,n,r,l){gf=!1;var c=t.updateQueue;rr=!1;var h=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,I=b.next;b.next=null,y===null?h=I:y.next=I,y=b;var H=t.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=I:E.next=I,H.lastBaseUpdate=b))}if(h!==null){var Y=c.baseState;y=0,H=I=b=null,E=h;do{var q=E.lane&-536870913,k=q!==E.lane;if(k?(Mt&q)===q:(l&q)===q){q!==0&&q===ja&&(gf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=t,_t=E;q=n;var ae=r;switch(_t.tag){case 1:if(st=_t.payload,typeof st=="function"){Y=st.call(ae,Y,q);break t}Y=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=_t.payload,q=typeof st=="function"?st.call(ae,Y,q):st,q==null)break t;Y=D({},Y,q);break t;case 2:rr=!0}}q=E.callback,q!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[q]:k.push(q))}else k={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(I=H=k,b=Y):H=H.next=k,y|=q;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);H===null&&(b=Y),c.baseState=b,c.firstBaseUpdate=I,c.lastBaseUpdate=H,h===null&&(c.shared.lanes=0),fr|=y,t.lanes=y,t.memoizedState=Y}}function cg(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function fg(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)cg(r[t],n)}function hl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var h=r.create,y=r.inst;l=h(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Ft(n,n.return,E)}}function lr(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r;try{E()}catch(I){Ft(c,b,I)}}}l=l.next}while(l!==h)}}catch(I){Ft(n,n.return,I)}}function hg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{fg(n,r)}catch(l){Ft(t,t.return,l)}}}function dg(t,n,r){r.props=ea(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Ft(t,n,l)}}function ra(t,n){try{var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var c=l;break;default:c=l}typeof r=="function"?t.refCleanup=r(c):r.current=c}}catch(h){Ft(t,n,h)}}function ln(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Ft(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Ft(t,n,c)}else r.current=null}function mg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Ft(t,t.return,c)}}function gg(t,n,r){try{var l=t.stateNode;aE(l,t.type,r,n),l[_e]=n}catch(c){Ft(t,t.return,c)}}function pg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function pf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||pg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function yf(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(t,r)):(n=r,n.appendChild(t)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=lo));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(yf(t,n,r),t=t.sibling;t!==null;)yf(t,n,r),t=t.sibling}function Ku(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Ku(t,n,r),t=t.sibling;t!==null;)Ku(t,n,r),t=t.sibling}var Si=!1,ie=!1,_f=!1,yg=typeof WeakSet=="function"?WeakSet:Set,Ie=null,_g=!1;function xv(t,n){if(t=t.containerInfo,Ff=go,t=xd(t),vc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,I=0,H=0,Y=t,q=null;e:for(;;){for(var k;Y!==r||c!==0&&Y.nodeType!==3||(E=y+c),Y!==h||l!==0&&Y.nodeType!==3||(b=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(k=Y.firstChild)!==null;)q=Y,Y=k;for(;;){if(Y===t)break e;if(q===r&&++I===c&&(E=y),q===h&&++H===l&&(b=y),(k=Y.nextSibling)!==null)break;Y=q,q=Y.parentNode}Y=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yf={focusedElem:t,selectionRange:r},go=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&h!==null){t=void 0,r=n,c=h.memoizedProps,h=h.memoizedState,l=r.stateNode;try{var st=ea(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(st,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(_t){Ft(r,r.return,_t)}}break;case 3:if(t&1024){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)$f(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$f(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}return st=_g,_g=!1,st}function vg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ri(t,r),l&4&&hl(5,r);break;case 1:if(Ri(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(E){Ft(r,r.return,E)}else{var c=ea(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(E){Ft(r,r.return,E)}}l&64&&hg(r),l&512&&ra(r,r.return);break;case 3:if(Ri(t,r),l&64&&(l=r.updateQueue,l!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{fg(l,t)}catch(E){Ft(r,r.return,E)}}break;case 26:Ri(t,r),l&512&&ra(r,r.return);break;case 27:case 5:Ri(t,r),n===null&&l&4&&mg(r),l&512&&ra(r,r.return);break;case 12:Ri(t,r);break;case 13:Ri(t,r),l&4&&Ag(t,r);break;case 22:if(c=r.memoizedState!==null||Si,!c){n=n!==null&&n.memoizedState!==null||ie;var h=Si,y=ie;Si=c,(ie=n)&&!y?ur(t,r,(r.subtreeFlags&8772)!==0):Ri(t,r),Si=h,ie=y}l&512&&(r.memoizedProps.mode==="manual"?ra(r,r.return):ln(r,r.return));break;default:Ri(t,r)}}function Eg(t){var n=t.alternate;n!==null&&(t.alternate=null,Eg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ur(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var de=null,un=!1;function bi(t,n,r){for(r=r.child;r!==null;)Tg(t,n,r),r=r.sibling}function Tg(t,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(zi,r)}catch{}switch(r.tag){case 26:ie||ln(r,n),bi(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ie||ln(r,n);var l=de,c=un;for(de=r.stateNode,bi(t,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Ur(r),de=l,un=c;break;case 5:ie||ln(r,n);case 6:c=de;var h=un;if(de=null,bi(t,n,r),de=c,un=h,de!==null)if(un)try{t=de,l=r.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(y){Ft(r,n,y)}else try{de.removeChild(r.stateNode)}catch(y){Ft(r,n,y)}break;case 18:de!==null&&(un?(n=de,r=r.stateNode,n.nodeType===8?Zf(n.parentNode,r):n.nodeType===1&&Zf(n,r),Il(n)):Zf(de,r.stateNode));break;case 4:l=de,c=un,de=r.stateNode.containerInfo,un=!0,bi(t,n,r),de=l,un=c;break;case 0:case 11:case 14:case 15:ie||lr(2,r,n),ie||lr(4,r,n),bi(t,n,r);break;case 1:ie||(ln(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&dg(r,n,l)),bi(t,n,r);break;case 21:bi(t,n,r);break;case 22:ie||ln(r,n),ie=(l=ie)||r.memoizedState!==null,bi(t,n,r),ie=l;break;default:bi(t,n,r)}}function Ag(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(r){Ft(n,n.return,r)}}function Lv(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new yg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new yg),n;default:throw Error(a(435,t.tag))}}function vf(t,n){var r=Lv(t);n.forEach(function(l){var c=Xv.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function Rn(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],h=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:de=E.stateNode,un=!1;break t;case 3:de=E.stateNode.containerInfo,un=!0;break t;case 4:de=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(de===null)throw Error(a(160));Tg(h,y,c),de=null,un=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Sg(n,t),n=n.sibling}var Un=null;function Sg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(n,t),wn(t),l&4&&(lr(3,t,t.return),hl(3,t),lr(5,t,t.return));break;case 1:Rn(n,t),wn(t),l&512&&(ie||r===null||ln(r,r.return)),l&64&&Si&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Un;if(Rn(n,t),wn(t),l&512&&(ie||r===null||ln(r,r.return)),l&4){var h=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[Gi]||h[we]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),Le(h,l,r),h[we]=t,Zt(h),l=h;break t;case"link":var y=mp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(r.href==null?null:r.href)&&h.getAttribute("rel")===(r.rel==null?null:r.rel)&&h.getAttribute("title")===(r.title==null?null:r.title)&&h.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,r),c.head.appendChild(h);break;case"meta":if(y=mp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(r.content==null?null:""+r.content)&&h.getAttribute("name")===(r.name==null?null:r.name)&&h.getAttribute("property")===(r.property==null?null:r.property)&&h.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&h.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}h=c.createElement(l),Le(h,l,r),c.head.appendChild(h);break;default:throw Error(a(468,l))}h[we]=t,Zt(h),l=h}t.stateNode=l}else gp(c,t.type,t.stateNode);else t.stateNode=dp(c,l,t.memoizedProps);else h!==l?(h===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):h.count--,l===null?gp(c,t.type,t.stateNode):dp(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&gg(t,t.memoizedProps,r.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){c=t.stateNode,h=t.memoizedProps;try{for(var b=c.firstChild;b;){var I=b.nextSibling,H=b.nodeName;b[Gi]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=I}for(var Y=t.type,q=c.attributes;q.length;)c.removeAttributeNode(q[0]);Le(c,Y,h),c[we]=t,c[_e]=h}catch(st){Ft(t,t.return,st)}}case 5:if(Rn(n,t),wn(t),l&512&&(ie||r===null||ln(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(st){Ft(t,t.return,st)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,gg(t,c,r!==null?r.memoizedProps:c)),l&1024&&(_f=!0);break;case 6:if(Rn(n,t),wn(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(st){Ft(t,t.return,st)}}break;case 3:if(fo=null,c=Un,Un=oo(n.containerInfo),Rn(n,t),Un=c,wn(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Il(n.containerInfo)}catch(st){Ft(t,t.return,st)}_f&&(_f=!1,bg(t));break;case 4:l=Un,Un=oo(t.stateNode.containerInfo),Rn(n,t),wn(t),Un=l;break;case 12:Rn(n,t),wn(t);break;case 13:Rn(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Cf=Je()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vf(t,l)));break;case 22:if(l&512&&(ie||r===null||ln(r,r.return)),b=t.memoizedState!==null,I=r!==null&&r.memoizedState!==null,H=Si,Y=ie,Si=H||b,ie=Y||I,Rn(n,t),ie=Y,Si=H,wn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=Si||ie,r===null||I||n||Ka(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(r=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){I=r=n;try{if(c=I.stateNode,b)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{y=I.stateNode,E=I.memoizedProps.style;var k=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(st){Ft(I,I.return,st)}}}else if(n.tag===6){if(r===null){I=n;try{I.stateNode.nodeValue=b?"":I.memoizedProps}catch(st){Ft(I,I.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,vf(t,r))));break;case 19:Rn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,vf(t,l)));break;case 21:break;default:Rn(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var r=t.return;r!==null;){if(pg(r)){var l=r;break t}r=r.return}throw Error(a(160))}switch(l.tag){case 27:var c=l.stateNode,h=pf(t);Ku(t,h,c);break;case 5:var y=l.stateNode;l.flags&32&&(pn(y,""),l.flags&=-33);var E=pf(t);Ku(t,E,y);break;case 3:case 4:var b=l.stateNode.containerInfo,I=pf(t);yf(t,I,b);break;default:throw Error(a(161))}}}catch(H){Ft(t,t.return,H)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function bg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;bg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ri(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vg(t,n.alternate,n),n=n.sibling}function Ka(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:lr(4,n,n.return),Ka(n);break;case 1:ln(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&dg(n,n.return,r),Ka(n);break;case 26:case 27:case 5:ln(n,n.return),Ka(n);break;case 22:ln(n,n.return),n.memoizedState===null&&Ka(n);break;default:Ka(n)}t=t.sibling}}function ur(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:ur(c,h,r),hl(4,h);break;case 1:if(ur(c,h,r),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(I){Ft(l,l.return,I)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)cg(b[c],E)}catch(I){Ft(l,l.return,I)}}r&&y&64&&hg(h),ra(h,h.return);break;case 26:case 27:case 5:ur(c,h,r),r&&l===null&&y&4&&mg(h),ra(h,h.return);break;case 12:ur(c,h,r);break;case 13:ur(c,h,r),r&&y&4&&Ag(c,h);break;case 22:h.memoizedState===null&&ur(c,h,r),ra(h,h.return);break;default:ur(c,h,r)}n=n.sibling}}function Ef(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&nl(r))}function Tf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t))}function or(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rg(t,n,r,l),n=n.sibling}function Rg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:or(t,n,r,l),c&2048&&hl(9,n);break;case 3:or(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&nl(t)));break;case 12:if(c&2048){or(t,n,r,l),t=n.stateNode;try{var h=n.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Ft(n,n.return,b)}}else or(t,n,r,l);break;case 23:break;case 22:h=n.stateNode,n.memoizedState!==null?h._visibility&4?or(t,n,r,l):dl(t,n):h._visibility&4?or(t,n,r,l):(h._visibility|=4,Xa(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Ef(n.alternate,n);break;case 24:or(t,n,r,l),c&2048&&Tf(n.alternate,n);break;default:or(t,n,r,l)}}function Xa(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,y=n,E=r,b=l,I=y.flags;switch(y.tag){case 0:case 11:case 15:Xa(h,y,E,b,c),hl(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?Xa(h,y,E,b,c):dl(h,y):(H._visibility|=4,Xa(h,y,E,b,c)),c&&I&2048&&Ef(y.alternate,y);break;case 24:Xa(h,y,E,b,c),c&&I&2048&&Tf(y.alternate,y);break;default:Xa(h,y,E,b,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&Ef(l.alternate,l);break;case 24:dl(r,l),c&2048&&Tf(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function Za(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)wg(t),t=t.sibling}function wg(t){switch(t.tag){case 26:Za(t),t.flags&ml&&t.memoizedState!==null&&bE(Un,t.memoizedState,t.memoizedProps);break;case 5:Za(t);break;case 3:case 4:var n=Un;Un=oo(t.stateNode.containerInfo),Za(t),Un=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,Za(t),ml=n):Za(t));break;default:Za(t)}}function Dg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Vg(l,t)}Dg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Cg(t),t=t.sibling}function Cg(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&lr(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Xu(t)):gl(t);break;default:gl(t)}}function Xu(t){var n=t.deletions;if(t.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ie=l,Vg(l,t)}Dg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:lr(8,n,n.return),Xu(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,Xu(n));break;default:Xu(n)}t=t.sibling}}function Vg(t,n){for(;Ie!==null;){var r=Ie;switch(r.tag){case 0:case 11:case 15:lr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ie=l;else t:for(r=t;Ie!==null;){l=Ie;var c=l.sibling,h=l.return;if(Eg(l),l===r){Ie=null;break t}if(c!==null){c.return=h,Ie=c;break t}Ie=h}}}function zv(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,n,r,l){return new zv(t,n,r,l)}function Af(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cr(t,n){var r=t.alternate;return r===null?(r=Dn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&31457280,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Ig(t,n){t.flags&=31457282;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Zu(t,n,r,l,c,h){var y=0;if(l=t,typeof t=="function")Af(t)&&(y=1);else if(typeof t=="string")y=AE(t,r,Fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case _:return aa(r.children,c,h,n);case v:y=8,c|=24;break;case A:return t=Dn(12,r,n,c|2),t.elementType=A,t.lanes=h,t;case tt:return t=Dn(13,r,n,c),t.elementType=tt,t.lanes=h,t;case Z:return t=Dn(19,r,n,c),t.elementType=Z,t.lanes=h,t;case J:return Ng(r,c,h,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O:case j:y=10;break t;case B:y=9;break t;case X:y=11;break t;case St:y=14;break t;case pt:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=Dn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function aa(t,n,r,l){return t=Dn(7,t,l,n),t.lanes=r,t}function Ng(t,n,r,l){t=Dn(22,t,l,n),t.elementType=J,t.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var h=c._current;if(h===null)throw Error(a(456));if(!(c._pendingVisibility&2)){var y=Ji(h,2);y!==null&&(c._pendingVisibility|=2,$e(y,h,2))}},attach:function(){var h=c._current;if(h===null)throw Error(a(456));if(c._pendingVisibility&2){var y=Ji(h,2);y!==null&&(c._pendingVisibility&=-3,$e(y,h,2))}}};return t.stateNode=c,t}function Sf(t,n,r){return t=Dn(6,t,null,n),t.lanes=r,t}function bf(t,n,r){return n=Dn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function wi(t){t.flags|=4}function Og(t,n){if(n.type!=="stylesheet"||n.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!pp(n)){if(n=bn.current,n!==null&&((Mt&4194176)===Mt?Zn!==null:(Mt&62914560)!==Mt&&!(Mt&536870912)||n!==Zn))throw Ws=Cc,Xd;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Pi():536870912,t.lanes|=n,Ja|=n)}function pl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function $t(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&31457280,l|=c.flags&31457280,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function Bv(t,n,r){var l=n.pendingProps;switch(wc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(n),null;case 1:return $t(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ai(Ae),ai(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xs(n)?wi(n):t===null||t.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Mn!==null&&(Of(Mn),Mn=null))),$t(n),null;case 26:return r=n.memoizedState,t===null?(wi(n),r!==null?($t(n),Og(n,r)):($t(n),n.flags&=-16777217)):r?r!==t.memoizedState?(wi(n),$t(n),Og(n,r)):($t(n),n.flags&=-16777217):(t.memoizedProps!==l&&wi(n),$t(n),n.flags&=-16777217),null;case 27:ya(n),r=dn.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}t=Fe.current,Xs(n)?Yd(n):(t=up(c,l,r),n.stateNode=t,wi(n))}return $t(n),null;case 5:if(ya(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return $t(n),null}if(t=Fe.current,Xs(n))Yd(n);else{switch(c=uo(dn.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[we]=n,t[_e]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(Le(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&wi(n)}}return $t(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&wi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=dn.current,Xs(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[we]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||np(t.nodeValue,r)),t||Xr(n)}else t=uo(t).createTextNode(l),t[we]=n,n.stateNode=t}return $t(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Xs(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[we]=n}else Zs(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;$t(n),c=!1}else Mn!==null&&(Of(Mn),Mn=null),c=!0;if(!c)return n.flags&256?(_i(n),n):(_i(n),null)}if(_i(n),n.flags&128)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),$t(n),null;case 4:return ai(),t===null&&jf(n.stateNode.containerInfo),$t(n),null;case 10:return Ai(n.type),$t(n),null;case 19:if(ee(Te),c=n.memoizedState,c===null)return $t(n),null;if(l=(n.flags&128)!==0,h=c.rendering,h===null)if(l)pl(c,!1);else{if(re!==0||t!==null&&t.flags&128)for(t=n.child;t!==null;){if(h=Uu(t),h!==null){for(n.flags|=128,pl(c,!1),t=h.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)Ig(r,t),r=r.sibling;return jt(Te,Te.current&1|2),n.child}t=t.sibling}c.tail!==null&&Je()>Ju&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Uu(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),pl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!h.alternate&&!Bt)return $t(n),null}else 2*Je()-c.renderingStartTime>Ju&&r!==536870912&&(n.flags|=128,l=!0,pl(c,!1),n.lanes=4194304);c.isBackwards?(h.sibling=n.child,n.child=h):(t=c.last,t!==null?t.sibling=h:n.child=h,c.last=h)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Je(),n.sibling=null,t=Te.current,jt(Te,l?t&1|2:t&1),n):($t(n),null);case 22:case 23:return _i(n),Ic(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?r&536870912&&!(n.flags&128)&&($t(n),n.subtreeFlags&6&&(n.flags|=8192)):$t(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&ee($r),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ai(Ae),$t(n),null;case 25:return null}throw Error(a(156,n.tag))}function qv(t,n){switch(wc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ai(Ae),ai(),t=n.flags,t&65536&&!(t&128)?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ya(n),null;case 13:if(_i(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Zs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ee(Te),null;case 4:return ai(),null;case 10:return Ai(n.type),null;case 22:case 23:return _i(n),Ic(),t!==null&&ee($r),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ai(Ae),null;case 25:return null;default:return null}}function Mg(t,n){switch(wc(n),n.tag){case 3:Ai(Ae),ai();break;case 26:case 27:case 5:ya(n);break;case 4:ai();break;case 13:_i(n);break;case 19:ee(Te);break;case 10:Ai(n.type);break;case 22:case 23:_i(n),Ic(),t!==null&&ee($r);break;case 24:Ai(Ae)}}var Pv={getCacheForType:function(t){var n=ke(Ae),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},kv=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Yt=null,Dt=null,Mt=0,Kt=0,on=null,Di=!1,$a=!1,Rf=!1,Ci=0,re=0,fr=0,sa=0,wf=0,Cn=0,Ja=0,yl=null,Jn=null,Df=!1,Cf=0,Ju=1/0,Wu=null,hr=null,to=!1,la=null,_l=0,Vf=0,If=null,vl=0,Nf=null;function cn(){if(Jt&2&&Mt!==0)return Mt&-Mt;if(S.T!==null){var t=ja;return t!==0?t:qf()}return su()}function Ug(){Cn===0&&(Cn=!(Mt&536870912)||Bt?Ns():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Cn}function $e(t,n,r){(t===Yt&&Kt===2||t.cancelPendingCommit!==null)&&(Wa(t,0),Vi(t,Mt,Cn,!1)),se(t,r),(!(Jt&2)||t!==Yt)&&(t===Yt&&(!(Jt&2)&&(sa|=r),re===4&&Vi(t,Mt,Cn,!1)),Wn(t))}function xg(t,n,r){if(Jt&6)throw Error(a(327));var l=!r&&(n&60)===0&&(n&t.expiredLanes)===0||qi(t,n),c=l?Gv(t,n):xf(t,n,!0),h=l;do{if(c===0){$a&&!l&&Vi(t,n,0,!1);break}else if(c===6)Vi(t,n,0,!Di);else{if(r=t.current.alternate,h&&!Hv(r)){c=xf(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=yl;var b=E.current.memoizedState.isDehydrated;if(b&&(Wa(E,y).flags|=256),y=xf(E,y,!1),y!==2){if(Rf&&!b){E.errorRecoveryDisabledLanes|=h,sa|=h,c=4;break t}h=Jn,Jn=c,h!==null&&Of(h)}c=y}if(h=!1,c!==2)continue}}if(c===1){Wa(t,0),Vi(t,n,0,!0);break}t:{switch(l=t,c){case 0:case 1:throw Error(a(345));case 4:if((n&4194176)===n){Vi(l,n,Cn,!Di);break t}break;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(a(329))}if(l.finishedWork=r,l.finishedLanes=n,(n&62914560)===n&&(h=Cf+300-Je(),10<h)){if(Vi(l,n,Cn,!Di),mn(l,0)!==0)break t;l.timeoutHandle=ap(Lg.bind(null,l,r,Jn,Wu,Df,n,Cn,sa,Ja,Di,2,-0,0),h);break t}Lg(l,r,Jn,Wu,Df,n,Cn,sa,Ja,Di,0,-0,0)}}break}while(!0);Wn(t)}function Of(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function Lg(t,n,r,l,c,h,y,E,b,I,H,Y,q){var k=n.subtreeFlags;if((k&8192||(k&16785408)===16785408)&&(Rl={stylesheets:null,count:0,unsuspend:SE},wg(n),n=RE(),n!==null)){t.cancelPendingCommit=n(jg.bind(null,t,r,l,c,y,E,b,1,Y,q)),Vi(t,h,y,!I);return}jg(t,r,l,c,y,E,b,H,Y,q)}function Hv(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],h=c.getSnapshot;c=c.value;try{if(!sn(h(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vi(t,n,r,l){n&=~wf,n&=~sa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-Ye(c),y=1<<h;l[h]=-1,c&=~y}r!==0&&ki(t,r,n)}function eo(){return Jt&6?!0:(El(0),!1)}function Mf(){if(Dt!==null){if(Kt===0)var t=Dt.return;else t=Dt,Ti=na=null,Bc(t),ka=null,tl=0,t=Dt;for(;t!==null;)Mg(t.alternate,t),t=t.return;Dt=null}}function Wa(t,n){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,lE(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Mf(),Yt=t,Dt=r=cr(t.current,null),Mt=n,Kt=0,on=null,Di=!1,$a=qi(t,n),Rf=!1,Ja=Cn=wf=sa=fr=re=0,Jn=yl=null,Df=!1,n&8&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Ye(l),h=1<<c;n|=t[c],l&=~h}return Ci=n,Ru(),r}function zg(t,n){Rt=null,S.H=$n,n===Js?(n=Jd(),Kt=3):n===Xd?(n=Jd(),Kt=4):Kt=n===Zm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Dt===null&&(re=1,Qu(t,Tn(n,t.current)))}function Bg(){var t=S.H;return S.H=$n,t===null?$n:t}function qg(){var t=S.A;return S.A=Pv,t}function Uf(){re=4,Di||(Mt&4194176)!==Mt&&bn.current!==null||($a=!0),!(fr&134217727)&&!(sa&134217727)||Yt===null||Vi(Yt,Mt,Cn,!1)}function xf(t,n,r){var l=Jt;Jt|=2;var c=Bg(),h=qg();(Yt!==t||Mt!==n)&&(Wu=null,Wa(t,n)),n=!1;var y=re;t:do try{if(Kt!==0&&Dt!==null){var E=Dt,b=on;switch(Kt){case 8:Mf(),y=6;break t;case 3:case 2:case 6:bn.current===null&&(n=!0);var I=Kt;if(Kt=0,on=null,ts(t,E,b,I),r&&$a){y=0;break t}break;default:I=Kt,Kt=0,on=null,ts(t,E,b,I)}}jv(),y=re;break}catch(H){zg(t,H)}while(!0);return n&&t.shellSuspendCounter++,Ti=na=null,Jt=l,S.H=c,S.A=h,Dt===null&&(Yt=null,Mt=0,Ru()),y}function jv(){for(;Dt!==null;)Pg(Dt)}function Gv(t,n){var r=Jt;Jt|=2;var l=Bg(),c=qg();Yt!==t||Mt!==n?(Wu=null,Ju=Je()+500,Wa(t,n)):$a=qi(t,n);t:do try{if(Kt!==0&&Dt!==null){n=Dt;var h=on;e:switch(Kt){case 1:Kt=0,on=null,ts(t,n,h,1);break;case 2:if(Zd(h)){Kt=0,on=null,kg(n);break}n=function(){Kt===2&&Yt===t&&(Kt=7),Wn(t)},h.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Zd(h)?(Kt=0,on=null,kg(n)):(Kt=0,on=null,ts(t,n,h,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||pp(y)){Kt=0,on=null;var b=E.sibling;if(b!==null)Dt=b;else{var I=E.return;I!==null?(Dt=I,no(I)):Dt=null}break e}}Kt=0,on=null,ts(t,n,h,5);break;case 6:Kt=0,on=null,ts(t,n,h,6);break;case 8:Mf(),re=6;break t;default:throw Error(a(462))}}Qv();break}catch(H){zg(t,H)}while(!0);return Ti=na=null,S.H=l,S.A=c,Jt=r,Dt!==null?0:(Yt=null,Mt=0,Ru(),re)}function Qv(){for(;Dt!==null&&!uc();)Pg(Dt)}function Pg(t){var n=ug(t.alternate,t,Ci);t.memoizedProps=t.pendingProps,n===null?no(t):Dt=n}function kg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=ng(r,n,n.pendingProps,n.type,void 0,Mt);break;case 11:n=ng(r,n,n.pendingProps,n.type.render,n.ref,Mt);break;case 5:Bc(n);default:Mg(r,n),n=Dt=Ig(n,Ci),n=ug(r,n,Ci)}t.memoizedProps=t.pendingProps,n===null?no(t):Dt=n}function ts(t,n,r,l){Ti=na=null,Bc(n),ka=null,tl=0;var c=n.return;try{if(Mv(t,c,n,r,Mt)){re=1,Qu(t,Tn(r,t.current)),Dt=null;return}}catch(h){if(c!==null)throw Dt=c,h;re=1,Qu(t,Tn(r,t.current)),Dt=null;return}n.flags&32768?(Bt||l===1?t=!0:$a||Mt&536870912?t=!1:(Di=t=!0,(l===2||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Hg(n,t)):no(n)}function no(t){var n=t;do{if(n.flags&32768){Hg(n,Di);return}t=n.return;var r=Bv(n.alternate,n,Ci);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);re===0&&(re=5)}function Hg(t,n){do{var r=qv(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);re=6,Dt=null}function jg(t,n,r,l,c,h,y,E,b,I){var H=S.T,Y=nt.p;try{nt.p=2,S.T=null,Fv(t,n,r,l,Y,c,h,y,E,b,I)}finally{S.T=H,nt.p=Y}}function Fv(t,n,r,l,c,h,y,E){do es();while(la!==null);if(Jt&6)throw Error(a(327));var b=t.finishedWork;if(l=t.finishedLanes,b===null)return null;if(t.finishedWork=null,t.finishedLanes=0,b===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var I=b.lanes|b.childLanes;if(I|=Sc,ru(t,l,I,h,y,E),t===Yt&&(Dt=Yt=null,Mt=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||to||(to=!0,Vf=I,If=r,Zv(si,function(){return es(),null})),r=(b.flags&15990)!==0,b.subtreeFlags&15990||r?(r=S.T,S.T=null,h=nt.p,nt.p=2,y=Jt,Jt|=4,xv(t,b),Sg(b,t),pv(Yf,t.containerInfo),go=!!Ff,Yf=Ff=null,t.current=b,vg(t,b.alternate,b),Ds(),Jt=y,nt.p=h,S.T=r):t.current=b,to?(to=!1,la=t,_l=l):Gg(t,I),I=t.pendingLanes,I===0&&(hr=null),Vs(b.stateNode),Wn(t),n!==null)for(c=t.onRecoverableError,b=0;b<n.length;b++)I=n[b],c(I.value,{componentStack:I.stack});return _l&3&&es(),I=t.pendingLanes,l&4194218&&I&42?t===Nf?vl++:(vl=0,Nf=t):vl=0,El(0),null}function Gg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,nl(n)))}function es(){if(la!==null){var t=la,n=Vf;Vf=0;var r=au(_l),l=S.T,c=nt.p;try{if(nt.p=32>r?32:r,S.T=null,la===null)var h=!1;else{r=If,If=null;var y=la,E=_l;if(la=null,_l=0,Jt&6)throw Error(a(331));var b=Jt;if(Jt|=4,Cg(y.current),Rg(y,y.current,E,r),Jt=b,El(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(zi,y)}catch{}h=!0}return h}finally{nt.p=c,S.T=l,Gg(t,n)}}return!1}function Qg(t,n,r){n=Tn(r,n),n=Jc(t.stateNode,n,2),t=sr(t,n,2),t!==null&&(se(t,2),Wn(t))}function Ft(t,n,r){if(t.tag===3)Qg(t,t,r);else for(;n!==null;){if(n.tag===3){Qg(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(hr===null||!hr.has(l))){t=Tn(r,t),r=Km(2),l=sr(n,r,2),l!==null&&(Xm(r,l,n,t),se(l,2),Wn(l));break}}n=n.return}}function Lf(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new kv;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Rf=!0,c.add(r),t=Yv.bind(null,t,n,r),n.then(t,t))}function Yv(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,Yt===t&&(Mt&r)===r&&(re===4||re===3&&(Mt&62914560)===Mt&&300>Je()-Cf?!(Jt&2)&&Wa(t,0):wf|=r,Ja===Mt&&(Ja=0)),Wn(t)}function Fg(t,n){n===0&&(n=Pi()),t=Ji(t,n),t!==null&&(se(t,n),Wn(t))}function Kv(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),Fg(t,r)}function Xv(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Fg(t,r)}function Zv(t,n){return Nr(t,n)}var io=null,ns=null,zf=!1,ro=!1,Bf=!1,ua=0;function Wn(t){t!==ns&&t.next===null&&(ns===null?io=ns=t:ns=ns.next=t),ro=!0,zf||(zf=!0,Jv($v))}function El(t,n){if(!Bf&&ro){Bf=!0;do for(var r=!1,l=io;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-Ye(42|t)+1)-1,h&=c&~(y&~E),h=h&201326677?h&201326677|1:h?h|2:0}h!==0&&(r=!0,Xg(l,h))}else h=Mt,h=mn(l,l===Yt?h:0),!(h&3)||qi(l,h)||(r=!0,Xg(l,h));l=l.next}while(r);Bf=!1}}function $v(){ro=zf=!1;var t=0;ua!==0&&(sE()&&(t=ua),ua=0);for(var n=Je(),r=null,l=io;l!==null;){var c=l.next,h=Yg(l,n);h===0?(l.next=null,r===null?io=c:r.next=c,c===null&&(ns=r)):(r=l,(t!==0||h&3)&&(ro=!0)),l=c}El(t)}function Yg(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var y=31-Ye(h),E=1<<y,b=c[y];b===-1?(!(E&r)||E&l)&&(c[y]=Ea(E,n)):b<=n&&(t.expiredLanes|=E),h&=~E}if(n=Yt,r=Mt,r=mn(t,t===n?r:0),l=t.callbackNode,r===0||t===n&&Kt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&va(l),t.callbackNode=null,t.callbackPriority=0;if(!(r&3)||qi(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&va(l),au(r)){case 2:case 8:r=Re;break;case 32:r=si;break;case 268435456:r=Cs;break;default:r=si}return l=Kg.bind(null,t),r=Nr(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&va(l),t.callbackPriority=2,t.callbackNode=null,2}function Kg(t,n){var r=t.callbackNode;if(es()&&t.callbackNode!==r)return null;var l=Mt;return l=mn(t,t===Yt?l:0),l===0?null:(xg(t,l,n),Yg(t,Je()),t.callbackNode!=null&&t.callbackNode===r?Kg.bind(null,t):null)}function Xg(t,n){if(es())return null;xg(t,n,!0)}function Jv(t){uE(function(){Jt&6?Nr(ye,t):t()})}function qf(){return ua===0&&(ua=Ns()),ua}function Zg(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Hn(""+t)}function $g(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function Wv(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var h=Zg((c[_e]||null).action),y=l.submitter;y&&(n=(n=y[_e]||null)?Zg(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var E=new Da("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ua!==0){var b=y?$g(c,y):new FormData(c);Yc(r,{pending:!0,data:b,method:c.method,action:h},null,b)}}else typeof h=="function"&&(E.preventDefault(),b=y?$g(c,y):new FormData(c),Yc(r,{pending:!0,data:b,method:c.method,action:h},h,b))},currentTarget:c}]})}}for(var Pf=0;Pf<jd.length;Pf++){var kf=jd[Pf],tE=kf.toLowerCase(),eE=kf[0].toUpperCase()+kf.slice(1);On(tE,"on"+eE)}On(Bd,"onAnimationEnd"),On(qd,"onAnimationIteration"),On(Pd,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(_v,"onTransitionRun"),On(vv,"onTransitionStart"),On(Ev,"onTransitionCancel"),On(kd,"onTransitionEnd"),We("onMouseEnter",["mouseout","mouseover"]),We("onMouseLeave",["mouseout","mouseover"]),We("onPointerEnter",["pointerout","pointerover"]),We("onPointerLeave",["pointerout","pointerover"]),rn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rn("onBeforeInput",["compositionend","keypress","textInput","paste"]),rn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function Jg(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,I=E.currentTarget;if(E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=I;try{h(c)}catch(H){Gu(H)}c.currentTarget=null,h=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,I=E.currentTarget,E=E.listener,b!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=I;try{h(c)}catch(H){Gu(H)}c.currentTarget=null,h=b}}}}function Vt(t,n){var r=n[Mr];r===void 0&&(r=n[Mr]=new Set);var l=t+"__bubble";r.has(l)||(Wg(n,t,2,!1),r.add(l))}function Hf(t,n,r){var l=0;n&&(l|=4),Wg(r,t,l,n)}var ao="_reactListening"+Math.random().toString(36).slice(2);function jf(t){if(!t[ao]){t[ao]=!0,Ms.forEach(function(r){r!=="selectionchange"&&(nE.has(r)||Hf(r,!1,t),Hf(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ao]||(n[ao]=!0,Hf("selectionchange",!1,n))}}function Wg(t,n,r,l){switch(Ap(n)){case 2:var c=CE;break;case 8:c=VE;break;default:c=nh}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function Gf(t,n,r,l,c){var h=l;if(!(n&1)&&!(n&2)&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Nn(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=h=y;continue t}E=E.parentNode}}l=l.return}cu(function(){var I=h,H=wa(r),Y=[];t:{var q=Hd.get(t);if(q!==void 0){var k=Da,st=t;switch(t){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":k=Ma;break;case"focusin":st="focus",k=Ia;break;case"focusout":st="blur",k=Ia;break;case"beforeblur":case"afterblur":k=Ia;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=gc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=_u;break;case Bd:case qd:case Pd:k=Na;break;case kd:k=Eu;break;case"scroll":case"scrollend":k=fu;break;case"wheel":k=Ua;break;case"copy":case"cut":case"paste":k=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Qs;break;case"toggle":case"beforetoggle":k=Au}var _t=(n&4)!==0,ae=!_t&&(t==="scroll"||t==="scrollend"),U=_t?q!==null?q+"Capture":null:q;_t=[];for(var V=I,z;V!==null;){var G=V;if(z=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||z===null||U===null||(G=Br(V,U),G!=null&&_t.push(Al(V,G,z))),ae)break;V=V.return}0<_t.length&&(q=new k(q,st,null,r,H),Y.push({event:q,listeners:_t}))}}if(!(n&7)){t:{if(q=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",q&&r!==yn&&(st=r.relatedTarget||r.fromElement)&&(Nn(st)||st[li]))break t;if((k||q)&&(q=H.window===H?H:(q=H.ownerDocument)?q.defaultView||q.parentWindow:window,k?(st=r.relatedTarget||r.toElement,k=I,st=st?Nn(st):null,st!==null&&(ae=ct(st),_t=st.tag,st!==ae||_t!==5&&_t!==27&&_t!==6)&&(st=null)):(k=null,st=I),k!==st)){if(_t=vn,G="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_t=Qs,G="onPointerLeave",U="onPointerEnter",V="pointer"),ae=k==null?q:Qi(k),z=st==null?q:Qi(st),q=new _t(G,V+"leave",k,r,H),q.target=ae,q.relatedTarget=z,G=null,Nn(H)===I&&(_t=new _t(U,V+"enter",st,r,H),_t.target=z,_t.relatedTarget=ae,G=_t),ae=G,k&&st)e:{for(_t=k,U=st,V=0,z=_t;z;z=is(z))V++;for(z=0,G=U;G;G=is(G))z++;for(;0<V-z;)_t=is(_t),V--;for(;0<z-V;)U=is(U),z--;for(;V--;){if(_t===U||U!==null&&_t===U.alternate)break e;_t=is(_t),U=is(U)}_t=null}else _t=null;k!==null&&tp(Y,q,k,_t,!1),st!==null&&ae!==null&&tp(Y,ae,st,_t,!0)}}t:{if(q=I?Qi(I):window,k=q.nodeName&&q.nodeName.toLowerCase(),k==="select"||k==="input"&&q.type==="file")var at=Dd;else if(Ee(q))if(Cd)at=mv;else{at=hv;var wt=fv}else k=q.nodeName,!k||k.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?I&&Bs(I.elementType)&&(at=Dd):at=dv;if(at&&(at=at(t,I))){gi(Y,at,r,H);break t}wt&&wt(t,q,I),t==="focusout"&&I&&q.type==="number"&&I.memoizedProps.value!=null&&Ra(q,"number",q.value)}switch(wt=I?Qi(I):window,t){case"focusin":(Ee(wt)||wt.contentEditable==="true")&&(xa=wt,Ec=I,Ks=null);break;case"focusout":Ks=Ec=xa=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,Ld(Y,r,H);break;case"selectionchange":if(yv)break;case"keydown":case"keyup":Ld(Y,r,H)}var ut;if(Yn)t:{switch(t){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Nt?P(t,r)&&(dt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(p&&r.locale!=="ko"&&(Nt||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Nt&&(ut=Ps()):(jn=H,$i="value"in jn?jn.value:jn.textContent,Nt=!0)),wt=so(I,dt),0<wt.length&&(dt=new js(dt,t,null,r,H),Y.push({event:dt,listeners:wt}),ut?dt.data=ut:(ut=$(r),ut!==null&&(dt.data=ut)))),(ut=m?ve(t,r):Ot(t,r))&&(dt=so(I,"onBeforeInput"),0<dt.length&&(wt=new js("onBeforeInput","beforeinput",null,r,H),Y.push({event:wt,listeners:dt}),wt.data=ut)),Wv(Y,t,I,r,H)}Jg(Y,n)})}function Al(t,n,r){return{instance:t,listener:n,currentTarget:r}}function so(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=Br(t,r),c!=null&&l.unshift(Al(t,c,h)),c=Br(t,n),c!=null&&l.push(Al(t,c,h))),t=t.return}return l}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function tp(t,n,r,l,c){for(var h=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,I=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||I===null||(b=I,c?(I=Br(r,h),I!=null&&y.unshift(Al(r,I,b))):c||(I=Br(r,h),I!=null&&y.push(Al(r,I,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var iE=/\r\n?/g,rE=/\u0000|\uFFFD/g;function ep(t){return(typeof t=="string"?t:""+t).replace(iE,`
`).replace(rE,"")}function np(t,n){return n=ep(n),ep(t)===n}function lo(){}function Qt(t,n,r,l,c,h){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Ki(t,"class",l);break;case"tabIndex":Ki(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ki(t,r,l);break;case"style":ou(t,l,h);break;case"data":if(n!=="object"){Ki(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Hn(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(r==="formAction"?(n!=="input"&&Qt(t,n,"name",c.name,c,null),Qt(t,n,"formEncType",c.formEncType,c,null),Qt(t,n,"formMethod",c.formMethod,c,null),Qt(t,n,"formTarget",c.formTarget,c,null)):(Qt(t,n,"encType",c.encType,c,null),Qt(t,n,"method",c.method,c,null),Qt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Hn(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=lo);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Hn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Yi(t,"popover",l);break;case"xlinkActuate":gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":gn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":gn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":gn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":gn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=dc.get(r)||r,Yi(t,r,l))}}function Qf(t,n,r,l,c,h){switch(r){case"style":ou(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=lo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),h=t[_e]||null,h=h!=null?h[r]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Yi(t,r,l)}}}function Le(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,c=!1,h;for(h in r)if(r.hasOwnProperty(h)){var y=r[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,h,y,r,null)}}c&&Qt(t,n,"srcSet",r.srcSet,r,null),l&&Qt(t,n,"src",r.src,r,null);return;case"input":Vt("invalid",t);var E=h=y=c=null,b=null,I=null;for(l in r)if(r.hasOwnProperty(l)){var H=r[l];if(H!=null)switch(l){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":I=H;break;case"value":h=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Qt(t,n,l,H,r,null)}}Lr(t,h,E,b,I,y,c,!1),xr(t);return;case"select":Vt("invalid",t),l=y=h=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Qt(t,n,c,E,r,null)}n=h,r=y,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):r!=null&&zt(t,!!l,r,!0);return;case"textarea":Vt("invalid",t),h=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Qt(t,n,y,E,r,null)}Zi(t,l,c,h),xr(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,b,l,r,null)}return;case"dialog":Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)Vt(Tl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in r)if(r.hasOwnProperty(I)&&(l=r[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Qt(t,n,I,l,r,null)}return;default:if(Bs(n)){for(H in r)r.hasOwnProperty(H)&&(l=r[H],l!==void 0&&Qf(t,n,H,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Qt(t,n,E,l,r,null))}function aE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,y=null,E=null,b=null,I=null,H=null;for(k in r){var Y=r[k];if(r.hasOwnProperty(k)&&Y!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=Y;default:l.hasOwnProperty(k)||Qt(t,n,k,null,l,Y)}}for(var q in l){var k=l[q];if(Y=r[q],l.hasOwnProperty(q)&&(k!=null||Y!=null))switch(q){case"type":h=k;break;case"name":c=k;break;case"checked":I=k;break;case"defaultChecked":H=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==Y&&Qt(t,n,q,k,l,Y)}}Xi(t,y,E,b,I,H,h,c);return;case"select":k=y=E=q=null;for(h in r)if(b=r[h],r.hasOwnProperty(h)&&b!=null)switch(h){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(h)||Qt(t,n,h,null,l,b)}for(c in l)if(h=l[c],b=r[c],l.hasOwnProperty(c)&&(h!=null||b!=null))switch(c){case"value":q=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==b&&Qt(t,n,c,h,l,b)}n=E,r=y,l=k,q!=null?zt(t,!!r,q,!1):!!l!=!!r&&(n!=null?zt(t,!!r,n,!0):zt(t,!!r,r?[]:"",!1));return;case"textarea":k=q=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(t,n,E,null,l,c)}for(y in l)if(c=l[y],h=r[y],l.hasOwnProperty(y)&&(c!=null||h!=null))switch(y){case"value":q=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==h&&Qt(t,n,y,c,l,h)}zr(t,q,k);return;case"option":for(var st in r)if(q=r[st],r.hasOwnProperty(st)&&q!=null&&!l.hasOwnProperty(st))switch(st){case"selected":t.selected=!1;break;default:Qt(t,n,st,null,l,q)}for(b in l)if(q=l[b],k=r[b],l.hasOwnProperty(b)&&q!==k&&(q!=null||k!=null))switch(b){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Qt(t,n,b,q,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in r)q=r[_t],r.hasOwnProperty(_t)&&q!=null&&!l.hasOwnProperty(_t)&&Qt(t,n,_t,null,l,q);for(I in l)if(q=l[I],k=r[I],l.hasOwnProperty(I)&&q!==k&&(q!=null||k!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:Qt(t,n,I,q,l,k)}return;default:if(Bs(n)){for(var ae in r)q=r[ae],r.hasOwnProperty(ae)&&q!==void 0&&!l.hasOwnProperty(ae)&&Qf(t,n,ae,void 0,l,q);for(H in l)q=l[H],k=r[H],!l.hasOwnProperty(H)||q===k||q===void 0&&k===void 0||Qf(t,n,H,q,l,k);return}}for(var U in r)q=r[U],r.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&Qt(t,n,U,null,l,q);for(Y in l)q=l[Y],k=r[Y],!l.hasOwnProperty(Y)||q===k||q==null&&k==null||Qt(t,n,Y,q,l,k)}var Ff=null,Yf=null;function uo(t){return t.nodeType===9?t:t.ownerDocument}function ip(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Kf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Xf=null;function sE(){var t=window.event;return t&&t.type==="popstate"?t===Xf?!1:(Xf=t,!0):(Xf=null,!1)}var ap=typeof setTimeout=="function"?setTimeout:void 0,lE=typeof clearTimeout=="function"?clearTimeout:void 0,sp=typeof Promise=="function"?Promise:void 0,uE=typeof queueMicrotask=="function"?queueMicrotask:typeof sp<"u"?function(t){return sp.resolve(null).then(t).catch(oE)}:ap;function oE(t){setTimeout(function(){throw t})}function Zf(t,n){var r=n,l=0;do{var c=r.nextSibling;if(t.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(l===0){t.removeChild(c),Il(n);return}l--}else r!=="$"&&r!=="$?"&&r!=="$!"||l++;r=c}while(r);Il(n)}function $f(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":$f(r),Ur(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function cE(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Gi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=xn(t.nextSibling),t===null)break}return null}function fE(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=xn(t.nextSibling),t===null))return null;return t}function xn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function lp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function up(t,n,r){switch(n=uo(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}var Vn=new Map,op=new Set;function oo(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Ii=nt.d;nt.d={f:hE,r:dE,D:mE,C:gE,L:pE,m:yE,X:vE,S:_E,M:EE};function hE(){var t=Ii.f(),n=eo();return t||n}function dE(t){var n=ui(t);n!==null&&n.tag===5&&n.type==="form"?Lm(n):Ii.r(t)}var rs=typeof document>"u"?null:document;function cp(t,n,r){var l=rs;if(l&&typeof n=="string"&&n){var c=ne(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),op.has(c)||(op.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),Le(n,"link",t),Zt(n),l.head.appendChild(n)))}}function mE(t){Ii.D(t),cp("dns-prefetch",t,null)}function gE(t,n){Ii.C(t,n),cp("preconnect",t,n)}function pE(t,n,r){Ii.L(t,n,r);var l=rs;if(l&&t&&n){var c='link[rel="preload"][as="'+ne(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ne(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ne(r.imageSizes)+'"]')):c+='[href="'+ne(t)+'"]';var h=c;switch(n){case"style":h=as(t);break;case"script":h=ss(t)}Vn.has(h)||(t=D({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),Vn.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Sl(h))||n==="script"&&l.querySelector(bl(h))||(n=l.createElement("link"),Le(n,"link",t),Zt(n),l.head.appendChild(n)))}}function yE(t,n){Ii.m(t,n);var r=rs;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ne(l)+'"][href="'+ne(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ss(t)}if(!Vn.has(h)&&(t=D({rel:"modulepreload",href:t},n),Vn.set(h,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(bl(h)))return}l=r.createElement("link"),Le(l,"link",t),Zt(l),r.head.appendChild(l)}}}function _E(t,n,r){Ii.S(t,n,r);var l=rs;if(l&&t){var c=Fi(l).hoistableStyles,h=as(t);n=n||"default";var y=c.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Sl(h)))E.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":n},r),(r=Vn.get(h))&&Jf(t,r);var b=y=l.createElement("link");Zt(b),Le(b,"link",t),b._p=new Promise(function(I,H){b.onload=I,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,co(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(h,y)}}}function vE(t,n){Ii.X(t,n);var r=rs;if(r&&t){var l=Fi(r).hoistableScripts,c=ss(t),h=l.get(c);h||(h=r.querySelector(bl(c)),h||(t=D({src:t,async:!0},n),(n=Vn.get(c))&&Wf(t,n),h=r.createElement("script"),Zt(h),Le(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function EE(t,n){Ii.M(t,n);var r=rs;if(r&&t){var l=Fi(r).hoistableScripts,c=ss(t),h=l.get(c);h||(h=r.querySelector(bl(c)),h||(t=D({src:t,async:!0,type:"module"},n),(n=Vn.get(c))&&Wf(t,n),h=r.createElement("script"),Zt(h),Le(h,"link",t),r.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function fp(t,n,r,l){var c=(c=dn.current)?oo(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=as(r.href),r=Fi(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=as(r.href);var h=Fi(c).hoistableStyles,y=h.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,y),(h=c.querySelector(Sl(t)))&&!h._p&&(y.instance=h,y.state.loading=5),Vn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Vn.set(t,r),h||TE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ss(r),r=Fi(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function as(t){return'href="'+ne(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function hp(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function TE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Le(n,"link",r),Zt(n),t.head.appendChild(n))}function ss(t){return'[src="'+ne(t)+'"]'}function bl(t){return"script[async]"+t}function dp(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+ne(r.href)+'"]');if(l)return n.instance=l,Zt(l),l;var c=D({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Zt(l),Le(l,"style",c),co(l,r.precedence,t),n.instance=l;case"stylesheet":c=as(r.href);var h=t.querySelector(Sl(c));if(h)return n.state.loading|=4,n.instance=h,Zt(h),h;l=hp(r),(c=Vn.get(c))&&Jf(l,c),h=(t.ownerDocument||t).createElement("link"),Zt(h);var y=h;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(h,"link",l),n.state.loading|=4,co(h,r.precedence,t),n.instance=h;case"script":return h=ss(r.src),(c=t.querySelector(bl(h)))?(n.instance=c,Zt(c),c):(l=r,(c=Vn.get(h))&&(l=D({},r),Wf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Zt(c),Le(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(l=n.instance,n.state.loading|=4,co(l,r.precedence,t));return n.instance}function co(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function Jf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Wf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var fo=null;function mp(t,n,r){if(fo===null){var l=new Map,c=fo=new Map;c.set(r,l)}else c=fo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var h=r[c];if(!(h[Gi]||h[we]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function gp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function AE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function pp(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var Rl=null;function SE(){}function bE(t,n,r){if(Rl===null)throw Error(a(475));var l=Rl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=as(r.href),h=t.querySelector(Sl(c));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=ho.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,Zt(h);return}h=t.ownerDocument||t,r=hp(r),(c=Vn.get(c))&&Jf(r,c),h=h.createElement("link"),Zt(h);var y=h;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),Le(h,"link",r),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(l.count++,n=ho.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function RE(){if(Rl===null)throw Error(a(475));var t=Rl;return t.stylesheets&&t.count===0&&th(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&th(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function ho(){if(this.count--,this.count===0){if(this.stylesheets)th(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var mo=null;function th(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,mo=new Map,n.forEach(wE,t),mo=null,ho.call(t))}function wE(t,n){if(!(n.state.loading&4)){var r=mo.get(t);if(r)var l=r.get(null);else{r=new Map,mo.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var y=c[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),h=r.get(y)||l,h===l&&r.set(null,c),r.set(y,c),this.count++,l=ho.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var wl={$$typeof:j,Provider:null,Consumer:null,_currentValue:bt,_currentValue2:bt,_threadCount:0};function DE(t,n,r,l,c,h,y,E){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function yp(t,n,r,l,c,h,y,E,b,I,H,Y){return t=new DE(t,n,r,y,E,b,I,Y),n=1,h===!0&&(n|=24),h=Dn(3,null,null,n),t.current=h,h.stateNode=t,n=Nc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:r,cache:n},hf(h),t}function _p(t){return t?(t=Ba,t):Ba}function vp(t,n,r,l,c,h){c=_p(c),l.context===null?l.context=c:l.pendingContext=c,l=ar(n),l.payload={element:r},h=h===void 0?null:h,h!==null&&(l.callback=h),r=sr(t,l,n),r!==null&&($e(r,t,n),ol(r,t,n))}function Ep(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function eh(t,n){Ep(t,n),(t=t.alternate)&&Ep(t,n)}function Tp(t){if(t.tag===13){var n=Ji(t,67108864);n!==null&&$e(n,t,67108864),eh(t,67108864)}}var go=!0;function CE(t,n,r,l){var c=S.T;S.T=null;var h=nt.p;try{nt.p=2,nh(t,n,r,l)}finally{nt.p=h,S.T=c}}function VE(t,n,r,l){var c=S.T;S.T=null;var h=nt.p;try{nt.p=8,nh(t,n,r,l)}finally{nt.p=h,S.T=c}}function nh(t,n,r,l){if(go){var c=ih(l);if(c===null)Gf(t,n,l,po,r),Sp(t,l);else if(NE(c,t,n,r,l))l.stopPropagation();else if(Sp(t,l),n&4&&-1<IE.indexOf(t)){for(;c!==null;){var h=ui(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=In(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ye(y);E.entanglements[1]|=b,y&=~b}Wn(h),!(Jt&6)&&(Ju=Je()+500,El(0))}}break;case 13:E=Ji(h,2),E!==null&&$e(E,h,2),eo(),eh(h,2)}if(h=ih(l),h===null&&Gf(t,n,l,po,r),h===c)break;c=h}c!==null&&l.stopPropagation()}else Gf(t,n,l,null,r)}}function ih(t){return t=wa(t),rh(t)}var po=null;function rh(t){if(po=null,t=Nn(t),t!==null){var n=ct(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=Pt(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return po=t,null}function Ap(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(tu()){case ye:return 2;case Re:return 8;case si:case eu:return 32;case Cs:return 268435456;default:return 32}default:return 32}}var ah=!1,dr=null,mr=null,gr=null,Dl=new Map,Cl=new Map,pr=[],IE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sp(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":Dl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(n.pointerId)}}function Vl(t,n,r,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=ui(n),n!==null&&Tp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function NE(t,n,r,l,c){switch(n){case"focusin":return dr=Vl(dr,t,n,r,l,c),!0;case"dragenter":return mr=Vl(mr,t,n,r,l,c),!0;case"mouseover":return gr=Vl(gr,t,n,r,l,c),!0;case"pointerover":var h=c.pointerId;return Dl.set(h,Vl(Dl.get(h)||null,t,n,r,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Cl.set(h,Vl(Cl.get(h)||null,t,n,r,l,c)),!0}return!1}function bp(t){var n=Nn(t.target);if(n!==null){var r=ct(n);if(r!==null){if(n=r.tag,n===13){if(n=Pt(r),n!==null){t.blockedOn=n,ji(t.priority,function(){if(r.tag===13){var l=cn(),c=Ji(r,l);c!==null&&$e(c,r,l),eh(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function yo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=ih(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);yn=l,r.target.dispatchEvent(l),yn=null}else return n=ui(r),n!==null&&Tp(n),t.blockedOn=r,!1;n.shift()}return!0}function Rp(t,n,r){yo(t)&&r.delete(n)}function OE(){ah=!1,dr!==null&&yo(dr)&&(dr=null),mr!==null&&yo(mr)&&(mr=null),gr!==null&&yo(gr)&&(gr=null),Dl.forEach(Rp),Cl.forEach(Rp)}function _o(t,n){t.blockedOn===n&&(t.blockedOn=null,ah||(ah=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,OE)))}var vo=null;function wp(t){vo!==t&&(vo=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){vo===t&&(vo=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(rh(l||r)===null)continue;break}var h=ui(r);h!==null&&(t.splice(n,3),n-=3,Yc(h,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Il(t){function n(b){return _o(b,t)}dr!==null&&_o(dr,t),mr!==null&&_o(mr,t),gr!==null&&_o(gr,t),Dl.forEach(n),Cl.forEach(n);for(var r=0;r<pr.length;r++){var l=pr[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(r=pr[0],r.blockedOn===null);)bp(r),r.blockedOn===null&&pr.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],h=r[l+1],y=c[_e]||null;if(typeof h=="function")y||wp(r);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,y=h[_e]||null)E=y.formAction;else if(rh(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),wp(r)}}}function sh(t){this._internalRoot=t}Eo.prototype.render=sh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();vp(r,l,t,n,null,null)},Eo.prototype.unmount=sh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&es(),vp(t.current,2,null,t,null,null),eo(),n[li]=null}};function Eo(t){this._internalRoot=t}Eo.prototype.unstable_scheduleHydration=function(t){if(t){var n=su();t={blockedOn:null,target:t,priority:n};for(var r=0;r<pr.length&&n!==0&&n<pr[r].priority;r++);pr.splice(r,0,t),r===0&&bp(t)}};var Dp=e.version;if(Dp!=="19.0.0")throw Error(a(527,Dp,"19.0.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=K(n),t=t!==null?lt(t):null,t=t===null?null:t.stateNode,t};var ME={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Nn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var To=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!To.isDisabled&&To.supportsFiber)try{zi=To.inject(ME),Pe=To}catch{}}return Ol.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=Gm,h=Qm,y=Fm,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=yp(t,1,!1,null,null,r,l,c,h,y,E,null),t[li]=n.current,jf(t.nodeType===8?t.parentNode:t),new sh(n)},Ol.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",h=Gm,y=Qm,E=Fm,b=null,I=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(I=r.formState)),n=yp(t,1,!0,n,r??null,l,c,h,y,E,b,I),n.context=_p(null),r=n.current,l=cn(),c=ar(l),c.callback=null,sr(r,c,l),n.current.lanes=l,se(n,l),Wn(n),t[li]=n.current,jf(t),new Eo(n)},Ol.version="19.0.0",Ol}var zp;function jE(){if(zp)return oh.exports;zp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),oh.exports=HE(),oh.exports}var GE=jE(),Bp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},QE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const f=s[i++];e[a++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=s[i++],d=s[i++],g=s[i++],_=((u&7)<<18|(f&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const f=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(f&63)<<6|d&63)}}return e.join("")},By={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const f=s[u],d=u+1<s.length,g=d?s[u+1]:0,_=u+2<s.length,v=_?s[u+2]:0,A=f>>2,O=(f&3)<<4|g>>4;let B=(g&15)<<2|v>>6,j=v&63;_||(j=64,d||(B=64)),a.push(i[A],i[O],i[B],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(zy(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):QE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const f=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const v=u<s.length?i[s.charAt(u)]:64;++u;const O=u<s.length?i[s.charAt(u)]:64;if(++u,f==null||g==null||v==null||O==null)throw new FE;const B=f<<2|g>>4;if(a.push(B),v!==64){const j=g<<4&240|v>>2;if(a.push(j),O!==64){const X=v<<6&192|O;a.push(X)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class FE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YE=function(s){const e=zy(s);return By.encodeByteArray(e,!0)},xo=function(s){return YE(s).replace(/\./g,"")},KE=function(s){try{return By.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=()=>XE().__FIREBASE_DEFAULTS__,$E=()=>{if(typeof process>"u"||typeof Bp>"u")return;const s=Bp.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},JE=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&KE(s[1]);return e&&JSON.parse(e)},Qh=()=>{try{return ZE()||$E()||JE()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},WE=s=>{var e,i;return(i=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},tT=s=>{const e=WE(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},qy=()=>{var s;return(s=Qh())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},s);return[xo(JSON.stringify(i)),xo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rT(){var s;const e=(s=Qh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aT(){return!rT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sT(){try{return typeof indexedDB=="object"}catch{return!1}}function lT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var f;e(((f=u.error)===null||f===void 0?void 0:f.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="FirebaseError";class Es extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=uT,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Py.prototype.create)}}class Py{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,f=this.errors[e],d=f?oT(f,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new Es(u,g,a)}}function oT(s,e){return s.replace(cT,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const cT=/\{\$([^}]+)}/g;function Th(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const f=s[u],d=e[u];if(qp(f)&&qp(d)){if(!Th(f,d))return!1}else if(f!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function qp(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(s){return s&&s._delegate?s._delegate:s}class Pl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new eT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(f){if(u)return null;throw f}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dT(e))try{this.getOrInitializeService({instanceIdentifier:ca})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:u});a.resolve(f)}catch{}}}}clearInstance(e=ca){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ca){return this.instances.has(e)}getOptions(e=ca){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[f,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(f);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),f=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;f.add(e),this.onInitCallbacks.set(u,f);const d=this.instances.get(u);return d&&e(d,u),()=>{f.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:hT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ca){return this.component?this.component.multipleInstances?e:ca:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function hT(s){return s===ca?void 0:s}function dT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new fT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const gT={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},pT=xt.INFO,yT={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},_T=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=yT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ky{constructor(e){this.name=e,this._logLevel=pT,this._logHandler=_T,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const vT=(s,e)=>e.some(i=>s instanceof i);let Pp,kp;function ET(){return Pp||(Pp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TT(){return kp||(kp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hy=new WeakMap,Ah=new WeakMap,jy=new WeakMap,dh=new WeakMap,Fh=new WeakMap;function AT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",f),s.removeEventListener("error",d)},f=()=>{i(vr(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",f),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&Hy.set(i,s)}).catch(()=>{}),Fh.set(e,s),e}function ST(s){if(Ah.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",d),s.removeEventListener("abort",d)},f=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",f),s.addEventListener("error",d),s.addEventListener("abort",d)});Ah.set(s,e)}let Sh={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Ah.get(s);if(e==="objectStoreNames")return s.objectStoreNames||jy.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function bT(s){Sh=s(Sh)}function RT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(mh(this),e,...i);return jy.set(a,e.sort?e.sort():[e]),vr(a)}:TT().includes(s)?function(...e){return s.apply(mh(this),e),vr(Hy.get(this))}:function(...e){return vr(s.apply(mh(this),e))}}function wT(s){return typeof s=="function"?RT(s):(s instanceof IDBTransaction&&ST(s),vT(s,ET())?new Proxy(s,Sh):s)}function vr(s){if(s instanceof IDBRequest)return AT(s);if(dh.has(s))return dh.get(s);const e=wT(s);return e!==s&&(dh.set(s,e),Fh.set(e,s)),e}const mh=s=>Fh.get(s);function DT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:f}={}){const d=indexedDB.open(s,e),g=vr(d);return a&&d.addEventListener("upgradeneeded",_=>{a(vr(d.result),_.oldVersion,_.newVersion,vr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{f&&_.addEventListener("close",()=>f()),u&&_.addEventListener("versionchange",v=>u(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const CT=["get","getKey","getAll","getAllKeys","count"],VT=["put","add","delete","clear"],gh=new Map;function Hp(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(gh.get(e))return gh.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=VT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||CT.includes(i)))return;const f=async function(d,...g){const _=this.transaction(d,u?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),u&&_.done]))[0]};return gh.set(e,f),f}bT(s=>({...s,get:(e,i,a)=>Hp(e,i)||s.get(e,i,a),has:(e,i)=>!!Hp(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function NT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bh="@firebase/app",jp="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new ky("@firebase/app"),OT="@firebase/app-compat",MT="@firebase/analytics-compat",UT="@firebase/analytics",xT="@firebase/app-check-compat",LT="@firebase/app-check",zT="@firebase/auth",BT="@firebase/auth-compat",qT="@firebase/database",PT="@firebase/data-connect",kT="@firebase/database-compat",HT="@firebase/functions",jT="@firebase/functions-compat",GT="@firebase/installations",QT="@firebase/installations-compat",FT="@firebase/messaging",YT="@firebase/messaging-compat",KT="@firebase/performance",XT="@firebase/performance-compat",ZT="@firebase/remote-config",$T="@firebase/remote-config-compat",JT="@firebase/storage",WT="@firebase/storage-compat",t0="@firebase/firestore",e0="@firebase/vertexai",n0="@firebase/firestore-compat",i0="firebase",r0="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh="[DEFAULT]",a0={[bh]:"fire-core",[OT]:"fire-core-compat",[UT]:"fire-analytics",[MT]:"fire-analytics-compat",[LT]:"fire-app-check",[xT]:"fire-app-check-compat",[zT]:"fire-auth",[BT]:"fire-auth-compat",[qT]:"fire-rtdb",[PT]:"fire-data-connect",[kT]:"fire-rtdb-compat",[HT]:"fire-fn",[jT]:"fire-fn-compat",[GT]:"fire-iid",[QT]:"fire-iid-compat",[FT]:"fire-fcm",[YT]:"fire-fcm-compat",[KT]:"fire-perf",[XT]:"fire-perf-compat",[ZT]:"fire-rc",[$T]:"fire-rc-compat",[JT]:"fire-gcs",[WT]:"fire-gcs-compat",[t0]:"fire-fst",[n0]:"fire-fst-compat",[e0]:"fire-vertex","fire-js":"fire-js",[i0]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new Map,s0=new Map,wh=new Map;function Gp(s,e){try{s.container.addComponent(e)}catch(i){Oi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function zo(s){const e=s.name;if(wh.has(e))return Oi.debug(`There were multiple attempts to register component ${e}.`),!1;wh.set(e,s);for(const i of Lo.values())Gp(i,s);for(const i of s0.values())Gp(i,s);return!0}function l0(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new Py("app","Firebase",u0);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=r0;function Gy(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Rh,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw Er.create("bad-app-name",{appName:String(u)});if(i||(i=qy()),!i)throw Er.create("no-options");const f=Lo.get(u);if(f){if(Th(i,f.options)&&Th(a,f.config))return f;throw Er.create("duplicate-app",{appName:u})}const d=new mT(u);for(const _ of wh.values())d.addComponent(_);const g=new o0(i,a,d);return Lo.set(u,g),g}function f0(s=Rh){const e=Lo.get(s);if(!e&&s===Rh&&qy())return Gy();if(!e)throw Er.create("no-app",{appName:s});return e}function fs(s,e,i){var a;let u=(a=a0[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const f=u.match(/\s|\//),d=e.match(/\s|\//);if(f||d){const g=[`Unable to register library "${u}" with version "${e}":`];f&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),f&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Oi.warn(g.join(" "));return}zo(new Pl(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0="firebase-heartbeat-database",d0=1,kl="firebase-heartbeat-store";let ph=null;function Qy(){return ph||(ph=DT(h0,d0,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Er.create("idb-open",{originalErrorMessage:s.message})})),ph}async function m0(s){try{const i=(await Qy()).transaction(kl),a=await i.objectStore(kl).get(Fy(s));return await i.done,a}catch(e){if(e instanceof Es)Oi.warn(e.message);else{const i=Er.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Oi.warn(i.message)}}}async function Qp(s,e){try{const a=(await Qy()).transaction(kl,"readwrite");await a.objectStore(kl).put(e,Fy(s)),await a.done}catch(i){if(i instanceof Es)Oi.warn(i.message);else{const a=Er.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Oi.warn(a.message)}}}function Fy(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=1024,p0=30*24*60*60*1e3;class y0{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new v0(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Fp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(d=>d.date===f)?void 0:(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const g=new Date(d.date).valueOf();return Date.now()-g<=p0}),this._storage.overwrite(this._heartbeatsCache))}catch(a){Oi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Fp(),{heartbeatsToSend:a,unsentEntries:u}=_0(this._heartbeatsCache.heartbeats),f=xo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(i){return Oi.warn(i),""}}}function Fp(){return new Date().toISOString().substring(0,10)}function _0(s,e=g0){const i=[];let a=s.slice();for(const u of s){const f=i.find(d=>d.agent===u.agent);if(f){if(f.dates.push(u.date),Yp(i)>e){f.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Yp(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class v0{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sT()?lT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await m0(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return Qp(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function Yp(s){return xo(JSON.stringify({version:2,heartbeats:s})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(s){zo(new Pl("platform-logger",e=>new IT(e),"PRIVATE")),zo(new Pl("heartbeat",e=>new y0(e),"PRIVATE")),fs(bh,jp,s),fs(bh,jp,"esm2017"),fs("fire-js","")}E0("");var T0="firebase",A0="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(T0,A0,"app");var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tr,Yy;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function S(){}S.prototype=R.prototype,M.D=R.prototype,M.prototype=new S,M.prototype.constructor=M,M.C=function(D,N,L){for(var w=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)w[pe-2]=arguments[pe];return R.prototype[N].apply(D,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(M,R,S){S||(S=0);var D=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)D[N]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(N=0;16>N;++N)D[N]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=M.g[0],S=M.g[1],N=M.g[2];var L=M.g[3],w=R+(L^S&(N^L))+D[0]+3614090360&4294967295;R=S+(w<<7&4294967295|w>>>25),w=L+(N^R&(S^N))+D[1]+3905402710&4294967295,L=R+(w<<12&4294967295|w>>>20),w=N+(S^L&(R^S))+D[2]+606105819&4294967295,N=L+(w<<17&4294967295|w>>>15),w=S+(R^N&(L^R))+D[3]+3250441966&4294967295,S=N+(w<<22&4294967295|w>>>10),w=R+(L^S&(N^L))+D[4]+4118548399&4294967295,R=S+(w<<7&4294967295|w>>>25),w=L+(N^R&(S^N))+D[5]+1200080426&4294967295,L=R+(w<<12&4294967295|w>>>20),w=N+(S^L&(R^S))+D[6]+2821735955&4294967295,N=L+(w<<17&4294967295|w>>>15),w=S+(R^N&(L^R))+D[7]+4249261313&4294967295,S=N+(w<<22&4294967295|w>>>10),w=R+(L^S&(N^L))+D[8]+1770035416&4294967295,R=S+(w<<7&4294967295|w>>>25),w=L+(N^R&(S^N))+D[9]+2336552879&4294967295,L=R+(w<<12&4294967295|w>>>20),w=N+(S^L&(R^S))+D[10]+4294925233&4294967295,N=L+(w<<17&4294967295|w>>>15),w=S+(R^N&(L^R))+D[11]+2304563134&4294967295,S=N+(w<<22&4294967295|w>>>10),w=R+(L^S&(N^L))+D[12]+1804603682&4294967295,R=S+(w<<7&4294967295|w>>>25),w=L+(N^R&(S^N))+D[13]+4254626195&4294967295,L=R+(w<<12&4294967295|w>>>20),w=N+(S^L&(R^S))+D[14]+2792965006&4294967295,N=L+(w<<17&4294967295|w>>>15),w=S+(R^N&(L^R))+D[15]+1236535329&4294967295,S=N+(w<<22&4294967295|w>>>10),w=R+(N^L&(S^N))+D[1]+4129170786&4294967295,R=S+(w<<5&4294967295|w>>>27),w=L+(S^N&(R^S))+D[6]+3225465664&4294967295,L=R+(w<<9&4294967295|w>>>23),w=N+(R^S&(L^R))+D[11]+643717713&4294967295,N=L+(w<<14&4294967295|w>>>18),w=S+(L^R&(N^L))+D[0]+3921069994&4294967295,S=N+(w<<20&4294967295|w>>>12),w=R+(N^L&(S^N))+D[5]+3593408605&4294967295,R=S+(w<<5&4294967295|w>>>27),w=L+(S^N&(R^S))+D[10]+38016083&4294967295,L=R+(w<<9&4294967295|w>>>23),w=N+(R^S&(L^R))+D[15]+3634488961&4294967295,N=L+(w<<14&4294967295|w>>>18),w=S+(L^R&(N^L))+D[4]+3889429448&4294967295,S=N+(w<<20&4294967295|w>>>12),w=R+(N^L&(S^N))+D[9]+568446438&4294967295,R=S+(w<<5&4294967295|w>>>27),w=L+(S^N&(R^S))+D[14]+3275163606&4294967295,L=R+(w<<9&4294967295|w>>>23),w=N+(R^S&(L^R))+D[3]+4107603335&4294967295,N=L+(w<<14&4294967295|w>>>18),w=S+(L^R&(N^L))+D[8]+1163531501&4294967295,S=N+(w<<20&4294967295|w>>>12),w=R+(N^L&(S^N))+D[13]+2850285829&4294967295,R=S+(w<<5&4294967295|w>>>27),w=L+(S^N&(R^S))+D[2]+4243563512&4294967295,L=R+(w<<9&4294967295|w>>>23),w=N+(R^S&(L^R))+D[7]+1735328473&4294967295,N=L+(w<<14&4294967295|w>>>18),w=S+(L^R&(N^L))+D[12]+2368359562&4294967295,S=N+(w<<20&4294967295|w>>>12),w=R+(S^N^L)+D[5]+4294588738&4294967295,R=S+(w<<4&4294967295|w>>>28),w=L+(R^S^N)+D[8]+2272392833&4294967295,L=R+(w<<11&4294967295|w>>>21),w=N+(L^R^S)+D[11]+1839030562&4294967295,N=L+(w<<16&4294967295|w>>>16),w=S+(N^L^R)+D[14]+4259657740&4294967295,S=N+(w<<23&4294967295|w>>>9),w=R+(S^N^L)+D[1]+2763975236&4294967295,R=S+(w<<4&4294967295|w>>>28),w=L+(R^S^N)+D[4]+1272893353&4294967295,L=R+(w<<11&4294967295|w>>>21),w=N+(L^R^S)+D[7]+4139469664&4294967295,N=L+(w<<16&4294967295|w>>>16),w=S+(N^L^R)+D[10]+3200236656&4294967295,S=N+(w<<23&4294967295|w>>>9),w=R+(S^N^L)+D[13]+681279174&4294967295,R=S+(w<<4&4294967295|w>>>28),w=L+(R^S^N)+D[0]+3936430074&4294967295,L=R+(w<<11&4294967295|w>>>21),w=N+(L^R^S)+D[3]+3572445317&4294967295,N=L+(w<<16&4294967295|w>>>16),w=S+(N^L^R)+D[6]+76029189&4294967295,S=N+(w<<23&4294967295|w>>>9),w=R+(S^N^L)+D[9]+3654602809&4294967295,R=S+(w<<4&4294967295|w>>>28),w=L+(R^S^N)+D[12]+3873151461&4294967295,L=R+(w<<11&4294967295|w>>>21),w=N+(L^R^S)+D[15]+530742520&4294967295,N=L+(w<<16&4294967295|w>>>16),w=S+(N^L^R)+D[2]+3299628645&4294967295,S=N+(w<<23&4294967295|w>>>9),w=R+(N^(S|~L))+D[0]+4096336452&4294967295,R=S+(w<<6&4294967295|w>>>26),w=L+(S^(R|~N))+D[7]+1126891415&4294967295,L=R+(w<<10&4294967295|w>>>22),w=N+(R^(L|~S))+D[14]+2878612391&4294967295,N=L+(w<<15&4294967295|w>>>17),w=S+(L^(N|~R))+D[5]+4237533241&4294967295,S=N+(w<<21&4294967295|w>>>11),w=R+(N^(S|~L))+D[12]+1700485571&4294967295,R=S+(w<<6&4294967295|w>>>26),w=L+(S^(R|~N))+D[3]+2399980690&4294967295,L=R+(w<<10&4294967295|w>>>22),w=N+(R^(L|~S))+D[10]+4293915773&4294967295,N=L+(w<<15&4294967295|w>>>17),w=S+(L^(N|~R))+D[1]+2240044497&4294967295,S=N+(w<<21&4294967295|w>>>11),w=R+(N^(S|~L))+D[8]+1873313359&4294967295,R=S+(w<<6&4294967295|w>>>26),w=L+(S^(R|~N))+D[15]+4264355552&4294967295,L=R+(w<<10&4294967295|w>>>22),w=N+(R^(L|~S))+D[6]+2734768916&4294967295,N=L+(w<<15&4294967295|w>>>17),w=S+(L^(N|~R))+D[13]+1309151649&4294967295,S=N+(w<<21&4294967295|w>>>11),w=R+(N^(S|~L))+D[4]+4149444226&4294967295,R=S+(w<<6&4294967295|w>>>26),w=L+(S^(R|~N))+D[11]+3174756917&4294967295,L=R+(w<<10&4294967295|w>>>22),w=N+(R^(L|~S))+D[2]+718787259&4294967295,N=L+(w<<15&4294967295|w>>>17),w=S+(L^(N|~R))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+N&4294967295,M.g[3]=M.g[3]+L&4294967295}a.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var S=R-this.blockSize,D=this.B,N=this.h,L=0;L<R;){if(N==0)for(;L<=S;)u(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<R;)if(D[N++]=M.charCodeAt(L++),N==this.blockSize){u(this,D),N=0;break}}else for(;L<R;)if(D[N++]=M[L++],N==this.blockSize){u(this,D),N=0;break}}this.h=N,this.o+=R},a.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var S=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=S&255,S/=256;for(this.u(M),M=Array(16),R=S=0;4>R;++R)for(var D=0;32>D;D+=8)M[S++]=this.g[R]>>>D&255;return M};function f(M,R){var S=g;return Object.prototype.hasOwnProperty.call(S,M)?S[M]:S[M]=R(M)}function d(M,R){this.h=R;for(var S=[],D=!0,N=M.length-1;0<=N;N--){var L=M[N]|0;D&&L==R||(S[N]=L,D=!1)}this.g=S}var g={};function _(M){return-128<=M&&128>M?f(M,function(R){return new d([R|0],0>R?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return O;if(0>M)return Z(v(-M));for(var R=[],S=1,D=0;M>=S;D++)R[D]=M/S|0,S*=4294967296;return new d(R,0)}function A(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return Z(A(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(R,8)),D=O,N=0;N<M.length;N+=8){var L=Math.min(8,M.length-N),w=parseInt(M.substring(N,N+L),R);8>L?(L=v(Math.pow(R,L)),D=D.j(L).add(v(w))):(D=D.j(S),D=D.add(v(w)))}return D}var O=_(0),B=_(1),j=_(16777216);s=d.prototype,s.m=function(){if(tt(this))return-Z(this).m();for(var M=0,R=1,S=0;S<this.g.length;S++){var D=this.i(S);M+=(0<=D?D:4294967296+D)*R,R*=4294967296}return M},s.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(X(this))return"0";if(tt(this))return"-"+Z(this).toString(M);for(var R=v(Math.pow(M,6)),S=this,D="";;){var N=ht(S,R).g;S=St(S,N.j(R));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(M);if(S=N,X(S))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},s.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function X(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function tt(M){return M.h==-1}s.l=function(M){return M=St(this,M),tt(M)?-1:X(M)?0:1};function Z(M){for(var R=M.g.length,S=[],D=0;D<R;D++)S[D]=~M.g[D];return new d(S,~M.h).add(B)}s.abs=function(){return tt(this)?Z(this):this},s.add=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],D=0,N=0;N<=R;N++){var L=D+(this.i(N)&65535)+(M.i(N)&65535),w=(L>>>16)+(this.i(N)>>>16)+(M.i(N)>>>16);D=w>>>16,L&=65535,w&=65535,S[N]=w<<16|L}return new d(S,S[S.length-1]&-2147483648?-1:0)};function St(M,R){return M.add(Z(R))}s.j=function(M){if(X(this)||X(M))return O;if(tt(this))return tt(M)?Z(this).j(Z(M)):Z(Z(this).j(M));if(tt(M))return Z(this.j(Z(M)));if(0>this.l(j)&&0>M.l(j))return v(this.m()*M.m());for(var R=this.g.length+M.g.length,S=[],D=0;D<2*R;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<M.g.length;N++){var L=this.i(D)>>>16,w=this.i(D)&65535,pe=M.i(N)>>>16,oe=M.i(N)&65535;S[2*D+2*N]+=w*oe,pt(S,2*D+2*N),S[2*D+2*N+1]+=L*oe,pt(S,2*D+2*N+1),S[2*D+2*N+1]+=w*pe,pt(S,2*D+2*N+1),S[2*D+2*N+2]+=L*pe,pt(S,2*D+2*N+2)}for(D=0;D<R;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=R;D<2*R;D++)S[D]=0;return new d(S,0)};function pt(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function J(M,R){this.g=M,this.h=R}function ht(M,R){if(X(R))throw Error("division by zero");if(X(M))return new J(O,O);if(tt(M))return R=ht(Z(M),R),new J(Z(R.g),Z(R.h));if(tt(R))return R=ht(M,Z(R)),new J(Z(R.g),R.h);if(30<M.g.length){if(tt(M)||tt(R))throw Error("slowDivide_ only works with positive integers.");for(var S=B,D=R;0>=D.l(M);)S=ot(S),D=ot(D);var N=Et(S,1),L=Et(D,1);for(D=Et(D,2),S=Et(S,2);!X(D);){var w=L.add(D);0>=w.l(M)&&(N=N.add(S),L=w),D=Et(D,1),S=Et(S,1)}return R=St(M,N.j(R)),new J(N,R)}for(N=O;0<=M.l(R);){for(S=Math.max(1,Math.floor(M.m()/R.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=v(S),w=L.j(R);tt(w)||0<w.l(M);)S-=D,L=v(S),w=L.j(R);X(L)&&(L=B),N=N.add(L),M=St(M,w)}return new J(N,M)}s.A=function(M){return ht(this,M).h},s.and=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)&M.i(D);return new d(S,this.h&M.h)},s.or=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)|M.i(D);return new d(S,this.h|M.h)},s.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)^M.i(D);return new d(S,this.h^M.h)};function ot(M){for(var R=M.g.length+1,S=[],D=0;D<R;D++)S[D]=M.i(D)<<1|M.i(D-1)>>>31;return new d(S,M.h)}function Et(M,R){var S=R>>5;R%=32;for(var D=M.g.length-S,N=[],L=0;L<D;L++)N[L]=0<R?M.i(L+S)>>>R|M.i(L+S+1)<<32-R:M.i(L+S);return new d(N,M.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Yy=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,Tr=d}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});var Ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ky,Ml,Xy,Vo,Dh,Zy,$y,Jy;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ao=="object"&&Ao];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var x=o[T];if(!(x in p))break t;p=p[x]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function f(o,m){o instanceof String&&(o+="");var p=0,T=!1,x={next:function(){if(!T&&p<o.length){var P=p++;return{value:m(P,o[P]),done:!1}}return T=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}u("Array.prototype.values",function(o){return o||function(){return f(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function v(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function O(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,T),o.apply(m,x)}}return function(){return o.apply(m,arguments)}}function B(o,m,p){return B=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:O,B.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function X(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,x,P){for(var $=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)$[Nt-2]=arguments[Nt];return m.prototype[x].apply(T,$)}}function tt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function Z(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const x=o.length||0,P=T.length||0;o.length=x+P;for(let $=0;$<P;$++)o[x+$]=T[$]}else o.push(T)}}class St{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(o){return/^[\s\xa0]*$/.test(o)}function J(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function ht(o){return ht[" "](o),o}ht[" "]=function(){};var ot=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Et(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function M(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function R(o){const m={};for(const p in o)m[p]=o[p];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(o,m){let p,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(p in T)o[p]=T[p];for(let P=0;P<S.length;P++)p=S[P],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function N(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function L(o){g.setTimeout(()=>{throw o},0)}function w(){var o=Pt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,p){const T=oe.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var oe=new St(()=>new W,o=>o.reset());class W{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let mt,ct=!1,Pt=new pe,C=()=>{const o=g.Promise.resolve(void 0);mt=()=>{o.then(K)}};var K=()=>{for(var o;o=w();){try{o.h.call(o.g)}catch(p){L(p)}var m=oe;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}ct=!1};function lt(){this.s=this.s,this.C=this.C}lt.prototype.s=!1,lt.prototype.ma=function(){this.s||(this.s=!0,this.N())},lt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var nt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function bt(o,m){if(et.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(ot){t:{try{ht(m.nodeName);var x=!0;break t}catch{}x=!1}x||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Tt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&bt.aa.h.call(this)}}X(bt,et);var Tt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Lt=0;function ee(o,m,p,T,x){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=x,this.key=++Lt,this.da=this.fa=!1}function jt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Fe(o){this.src=o,this.g={},this.h=0}Fe.prototype.add=function(o,m,p,T,x){var P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);var $=dn(o,m,T,x);return-1<$?(m=o[$],p||(m.fa=!1)):(m=new ee(m,this.src,P,!!T,x),m.fa=p,o.push(m)),m};function ri(o,m){var p=m.type;if(p in o.g){var T=o.g[p],x=Array.prototype.indexOf.call(T,m,void 0),P;(P=0<=x)&&Array.prototype.splice.call(T,x,1),P&&(jt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function dn(o,m,p,T){for(var x=0;x<o.length;++x){var P=o[x];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return x}return-1}var xi="closure_lm_"+(1e6*Math.random()|0),Li={};function ai(o,m,p,T,x){if(Array.isArray(m)){for(var P=0;P<m.length;P++)ai(o,m[P],p,T,x);return null}return p=tu(p),o&&o[ce]?o.K(m,p,v(T)?!!T.capture:!1,x):ws(o,m,p,!1,T,x)}function ws(o,m,p,T,x,P){if(!m)throw Error("Invalid event type");var $=v(x)?!!x.capture:!!x,Nt=Ds(o);if(Nt||(o[xi]=Nt=new Fe(o)),p=Nt.add(m,p,T,$,P),p.proxy)return p;if(T=ya(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)nt||(x=$),x===void 0&&(x=!1),o.addEventListener(m.toString(),T,x);else if(o.attachEvent)o.attachEvent(va(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function ya(){function o(p){return m.call(o.src,o.listener,p)}const m=uc;return o}function _a(o,m,p,T,x){if(Array.isArray(m))for(var P=0;P<m.length;P++)_a(o,m[P],p,T,x);else T=v(T)?!!T.capture:!!T,p=tu(p),o&&o[ce]?(o=o.i,m=String(m).toString(),m in o.g&&(P=o.g[m],p=dn(P,p,T,x),-1<p&&(jt(P[p]),Array.prototype.splice.call(P,p,1),P.length==0&&(delete o.g[m],o.h--)))):o&&(o=Ds(o))&&(m=o.g[m.toString()],o=-1,m&&(o=dn(m,p,T,x)),(p=-1<o?m[o]:null)&&Nr(p))}function Nr(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[ce])ri(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(va(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ds(m))?(ri(p,o),p.h==0&&(p.src=null,m[xi]=null)):jt(o)}}}function va(o){return o in Li?Li[o]:Li[o]="on"+o}function uc(o,m){if(o.da)o=!0;else{m=new bt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&Nr(o),o=p.call(T,m)}return o}function Ds(o){return o=o[xi],o instanceof Fe?o:null}var Je="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(o){return typeof o=="function"?o:(o[Je]||(o[Je]=function(m){return o.handleEvent(m)}),o[Je])}function ye(){lt.call(this),this.i=new Fe(this),this.M=this,this.F=null}X(ye,lt),ye.prototype[ce]=!0,ye.prototype.removeEventListener=function(o,m,p,T){_a(this,o,m,p,T)};function Re(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new et(m,o);else if(m instanceof et)m.target=m.target||o;else{var x=m;m=new et(T,o),D(m,x)}if(x=!0,p)for(var P=p.length-1;0<=P;P--){var $=m.g=p[P];x=si($,T,!0,m)&&x}if($=m.g=o,x=si($,T,!0,m)&&x,x=si($,T,!1,m)&&x,p)for(P=0;P<p.length;P++)$=m.g=p[P],x=si($,T,!1,m)&&x}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)jt(p[T]);delete o.g[m],o.h--}}this.F=null},ye.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ye.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function si(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var x=!0,P=0;P<m.length;++P){var $=m[P];if($&&!$.da&&$.capture==p){var Nt=$.listener,ve=$.ha||$.src;$.fa&&ri(o.i,$),x=Nt.call(ve,T)!==!1&&x}}return x&&!T.defaultPrevented}function eu(o,m,p){if(typeof o=="function")p&&(o=B(o,p));else if(o&&typeof o.handleEvent=="function")o=B(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function Cs(o){o.g=eu(()=>{o.g=null,o.i&&(o.i=!1,Cs(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class oc extends lt{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Or(o){lt.call(this),this.h=o,this.g={}}X(Or,lt);var zi=[];function Pe(o){Et(o.g,function(m,p){this.g.hasOwnProperty(p)&&Nr(m)},o),o.g={}}Or.prototype.N=function(){Or.aa.N.call(this),Pe(this)},Or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vs=g.JSON.stringify,Bn=g.JSON.parse,Ye=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Is(){}Is.prototype.h=null;function nu(o){return o.h||(o.h=o.i())}function iu(){}var qn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bi(){et.call(this,"d")}X(Bi,et);function In(){et.call(this,"c")}X(In,et);var mn={},qi=null;function Ea(){return qi=qi||new ye}mn.La="serverreachability";function Ns(o){et.call(this,mn.La,o)}X(Ns,et);function Pi(o){const m=Ea();Re(m,new Ns(m))}mn.STAT_EVENT="statevent";function Ta(o,m){et.call(this,mn.STAT_EVENT,o),this.stat=m}X(Ta,et);function se(o){const m=Ea();Re(m,new Ta(m,o))}mn.Ma="timingevent";function ru(o,m){et.call(this,mn.Ma,o),this.size=m}X(ru,et);function ki(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function Hi(){this.g=!0}Hi.prototype.xa=function(){this.g=!1};function au(o,m,p,T,x,P){o.info(function(){if(o.g)if(P)for(var $="",Nt=P.split("&"),ve=0;ve<Nt.length;ve++){var Ot=Nt[ve].split("=");if(1<Ot.length){var Ce=Ot[0];Ot=Ot[1];var Ee=Ce.split("_");$=2<=Ee.length&&Ee[1]=="type"?$+(Ce+"="+Ot+"&"):$+(Ce+"=redacted&")}}else $=null;else $=P;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+p+`
`+$})}function su(o,m,p,T,x,P,$){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+p+`
`+P+" "+$})}function ji(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(o,p)+(T?" "+T:"")})}function Pn(o,m){o.info(function(){return"TIMEOUT: "+m})}Hi.prototype.info=function(){};function we(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var x=T[1];if(Array.isArray(x)&&!(1>x.length)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(var $=1;$<x.length;$++)x[$]=""}}}}return Vs(p)}catch{return m}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},li={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mr;function Aa(){}X(Aa,Is),Aa.prototype.g=function(){return new XMLHttpRequest},Aa.prototype.i=function(){return{}},Mr=new Aa;function kn(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Or(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Os}function Os(){this.i=null,this.g="",this.h=!1}var Gi={},Ur={};function Nn(o,m,p){o.L=1,o.v=zr(ne(m)),o.m=p,o.P=!0,ui(o,null)}function ui(o,m){o.F=Date.now(),Zt(o),o.A=ne(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),fi(p.i,"t",T),o.C=0,p=o.j.J,o.h=new Os,o.g=Eu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new oc(B(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var x="readystatechange";Array.isArray(x)||(x&&(zi[0]=x.toString()),x=zi);for(var P=0;P<x.length;P++){var $=ai(p,x[P],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=o.H?R(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),Pi(),au(o.i,o.u,o.A,o.l,o.R,o.m)}kn.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},kn.prototype.Y=function(o){try{if(o==this.g)t:{const Ee=vn(this.g);var m=this.g.Ba();const gi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=gi?Pi(3):Pi(2)),Sa(this);var p=this.g.Z();this.X=p;e:if(Qi(this)){var T=hu(this.g);o="";var x=T.length,P=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){We(this),rn(this);var $="";break e}this.h.i=new g.TextDecoder}for(m=0;m<x;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(P&&m==x-1)});T.length=0,this.h.g+=o,this.C=0,$=this.h.g}else $=this.g.oa();if(this.o=p==200,su(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,ve=this.g;if((Nt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Nt)){var Ot=Nt;break e}}Ot=null}if(p=Ot)ji(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,p);else{this.o=!1,this.s=3,se(12),We(this),rn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<$.length;)if(Me=Fi(this,$),Me==Ur){Ee==4&&(this.s=4,se(14),p=!1),ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Gi){this.s=4,se(15),ji(this.i,this.l,$,"[Invalid Chunk]"),p=!1;break}else ji(this.i,this.l,Me,null),an(this,Me);if(Qi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||$.length!=0||this.h.h||(this.s=1,se(16),p=!1),this.o=this.o&&p,!p)ji(this.i,this.l,$,"[Invalid Chunked Response]"),We(this),rn(this);else if(0<$.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+$.length),Gr(Ce),Ce.M=!0,se(11))}}else ji(this.i,this.l,$,null),an(this,$);Ee==4&&We(this),this.o&&!this.J&&(Ee==4?yu(this.j,this):(this.o=!1,Zt(this)))}else gc(this.g),p==400&&0<$.indexOf("Unknown SID")?(this.s=3,se(12)):(this.s=0,se(13)),We(this),rn(this)}}}catch{}finally{}};function Qi(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Fi(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?Ur:(p=Number(m.substring(p,T)),isNaN(p)?Gi:(T+=1,T+p>m.length?Ur:(m=m.slice(T,T+p),o.C=T+p,m)))}kn.prototype.cancel=function(){this.J=!0,We(this)};function Zt(o){o.S=Date.now()+o.I,Ms(o,o.I)}function Ms(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ki(B(o.ba,o),m)}function Sa(o){o.B&&(g.clearTimeout(o.B),o.B=null)}kn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Pn(this.i,this.A),this.L!=2&&(Pi(),se(17)),We(this),this.s=2,rn(this)):Ms(this,this.S-o)};function rn(o){o.j.G==0||o.J||yu(o.j,o)}function We(o){Sa(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Pe(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function an(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Yi(p.h,o))){if(!o.K&&Yi(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ma(p),Na(p);else break t;Gs(p),se(18)}}else p.za=x[1],0<p.za-p.T&&37500>x[2]&&p.F&&p.v==0&&!p.C&&(p.C=ki(B(p.Za,p),6e3));if(1>=lu(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else mi(p,11)}else if((o.K||p.g==o)&&Ma(p),!pt(m))for(x=p.Da.g.parse(m),m=0;m<x.length;m++){let Ot=x[m];if(p.T=Ot[0],Ot=Ot[1],p.G==2)if(Ot[0]=="c"){p.K=Ot[1],p.ia=Ot[2];const Ce=Ot[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const Ee=Ot[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const gi=Ot[5];gi!=null&&typeof gi=="number"&&0<gi&&(T=1.5*gi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Kn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kn){var P=T.h;P.g||Kn.indexOf("spdy")==-1&&Kn.indexOf("quic")==-1&&Kn.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Ki(P,P.h),P.h=null))}if(T.D){const Fs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(T.ya=Fs,zt(T.I,T.D,Fs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var $=o;if(T.qa=vu(T,T.J?T.ia:null,T.W),$.K){gn(T.h,$);var Nt=$,ve=T.L;ve&&(Nt.I=ve),Nt.B&&(Sa(Nt),Zt(Nt)),T.g=$}else gu(T);0<p.i.length&&Oa(p)}else Ot[0]!="stop"&&Ot[0]!="close"||mi(p,7);else p.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?mi(p,7):Hs(p):Ot[0]!="noop"&&p.l&&p.l.ta(Ot),p.v=0)}}Pi(4)}catch{}}var cc=class{constructor(o,m){this.g=o,this.map=m}};function Us(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xs(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function lu(o){return o.h?1:o.g?o.g.size:0}function Yi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ki(o,m){o.g?o.g.add(m):o.h=m}function gn(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Us.prototype.cancel=function(){if(this.i=Ke(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ke(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return tt(o.i)}function uu(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function fc(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function xr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=fc(o),T=uu(o),x=T.length,P=0;P<x;P++)m.call(void 0,T[P],p&&p[P],o)}var Ls=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),x=null;if(0<=T){var P=o[p].substring(0,T);x=o[p].substring(T+1)}else P=o[p];m(P,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function oi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof oi){this.h=o.h,Xi(this,o.j),this.o=o.o,this.g=o.g,Lr(this,o.s),this.l=o.l;var m=o.i,p=new Hn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Ra(this,p),this.m=o.m}else o&&(m=String(o).match(Ls))?(this.h=!1,Xi(this,m[1]||"",!0),this.o=Zi(m[2]||""),this.g=Zi(m[3]||"",!0),Lr(this,m[4]),this.l=Zi(m[5]||"",!0),Ra(this,m[6]||"",!0),this.m=Zi(m[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}oi.prototype.toString=function(){var o=[],m=this.j;m&&o.push(pn(m,zs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(pn(m,zs,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(pn(p,p.charAt(0)=="/"?Bs:ou,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",pn(p,mc)),o.join("")};function ne(o){return new oi(o)}function Xi(o,m,p){o.j=p?Zi(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Lr(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function Ra(o,m,p){m instanceof Hn?(o.i=m,qs(o.i,o.h)):(p||(m=pn(m,dc)),o.i=new Hn(m,o.h))}function zt(o,m,p){o.i.set(m,p)}function zr(o){return zt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Zi(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function pn(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,hc),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function hc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var zs=/[#\/\?@]/g,ou=/[#\?:]/g,Bs=/[#\?]/g,dc=/[#\?@]/g,mc=/#/g;function Hn(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&ba(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=Hn.prototype,s.add=function(o,m){yn(this),this.i=null,o=hi(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function wa(o,m){yn(o),m=hi(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function ci(o,m){return yn(o),m=hi(o,m),o.g.has(m)}s.forEach=function(o,m){yn(this),this.g.forEach(function(p,T){p.forEach(function(x){o.call(m,x,T,this)},this)},this)},s.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const x=o[T];for(let P=0;P<x.length;P++)p.push(m[T])}return p},s.V=function(o){yn(this);let m=[];if(typeof o=="string")ci(this,o)&&(m=m.concat(this.g.get(hi(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return yn(this),this.i=null,o=hi(this,o),ci(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function fi(o,m,p){wa(o,m),0<p.length&&(o.i=null,o.g.set(hi(o,m),tt(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const P=encodeURIComponent(String(T)),$=this.V(T);for(T=0;T<$.length;T++){var x=P;$[T]!==""&&(x+="="+encodeURIComponent(String($[T]))),o.push(x)}}return this.i=o.join("&")};function hi(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function qs(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(p,T){var x=T.toLowerCase();T!=x&&(wa(this,T),fi(this,x,p))},o)),o.j=m}function cu(o,m){const p=new Hi;if(g.Image){const T=new Image;T.onload=j(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=j(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(_n,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Br(o,m){const p=new Hi,T=new AbortController,x=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(x),P.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),_n(p,"TestPingServer: error",!1,m)})}function _n(o,m,p,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(p)}catch{}}function qr(){this.g=new Ye}function jn(o,m,p){const T=p||"";try{xr(o,function(x,P){let $=x;v(x)&&($=Vs(x)),m.push(T+P+"="+encodeURIComponent($))})}catch(x){throw m.push(T+"type="+encodeURIComponent("_badmap")),x}}function $i(o){this.l=o.Ub||null,this.j=o.eb||!1}X($i,Is),$i.prototype.g=function(){return new di(this.l,this.j)},$i.prototype.i=function(o){return function(){return o}}({});function di(o,m){ye.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}X(di,ye),s=di.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Qn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Gn(this):Qn(this),this.readyState==3&&Ps(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,Gn(this))},s.Qa=function(o){this.g&&(this.response=o,Gn(this))},s.ga=function(){this.g&&Gn(this)};function Gn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Qn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Qn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function ks(o){let m="";return Et(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function De(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=ks(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):zt(o,m,p))}function kt(o){ye.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}X(kt,ye);var Da=/^https?$/i,Pr=["POST","PUT"];s=kt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mr.g(),this.v=this.o?nu(this.o):nu(Mr),this.g.onreadystatechange=B(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){fu(this,P);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)p.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),x=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Pr,m,void 0))||T||x||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,$]of p)this.g.setRequestHeader(P,$);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{kr(this),this.u=!0,this.g.send(o),this.u=!1}catch(P){fu(this,P)}};function fu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ca(o),Fn(o)}function Ca(o){o.A||(o.A=!0,Re(o,"complete"),Re(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Re(this,"complete"),Re(this,"abort"),Fn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},s.bb=function(){Va(this)};function Va(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)eu(o.Ea,0,o);else if(Re(o,"readystatechange"),vn(o)==4){o.h=!1;try{const $=o.Z();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=$===0){var x=String(o.D).match(Ls)[1]||null;!x&&g.self&&g.self.location&&(x=g.self.location.protocol.slice(0,-1)),T=!Da.test(x?x.toLowerCase():"")}p=T}if(p)Re(o,"complete"),Re(o,"success");else{o.m=6;try{var P=2<vn(o)?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.Z()+"]",Ca(o)}}finally{Fn(o)}}}}function Fn(o,m){if(o.g){kr(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Re(o,"ready");try{p.onreadystatechange=T}catch{}}}function kr(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Bn(m)}};function hu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function gc(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(pt(o[T]))continue;var p=N(o[T]);const x=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[x]||[];m[x]=P,P.push(p)}M(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Hr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ia(o){this.Aa=0,this.i=[],this.j=new Hi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Hr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Hr("baseRetryDelayMs",5e3,o),this.cb=Hr("retryDelaySeedMs",1e4,o),this.Wa=Hr("forwardChannelMaxRetries",2,o),this.wa=Hr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Us(o&&o.concurrentRequestLimit),this.Da=new qr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Ia.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){se(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=vu(this,null,this.W),Oa(this)};function Hs(o){if(du(o),o.G==3){var m=o.U++,p=ne(o.I);if(zt(p,"SID",o.K),zt(p,"RID",m),zt(p,"TYPE","terminate"),jr(o,p),m=new kn(o,o.j,m),m.L=2,m.v=zr(ne(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Eu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Zt(m)}_u(o)}function Na(o){o.g&&(Gr(o),o.g.cancel(),o.g=null)}function du(o){Na(o),o.u&&(g.clearTimeout(o.u),o.u=null),Ma(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function Oa(o){if(!xs(o.h)&&!o.s){o.s=!0;var m=o.Ga;mt||C(),ct||(mt(),ct=!0),Pt.add(m,o),o.B=0}}function pc(o,m){return lu(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ki(B(o.Ga,o,m),Qs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const x=new kn(this,this.j,o);let P=this.o;if(this.S&&(P?(P=R(P),D(P,this.S)):P=this.S),this.m!==null||this.O||(x.H=P,P=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=mu(this,x,m),p=ne(this.I),zt(p,"RID",o),zt(p,"CVER",22),this.D&&zt(p,"X-HTTP-Session-Id",this.D),jr(this,p),P&&(this.O?m="headers="+encodeURIComponent(String(ks(P)))+"&"+m:this.m&&De(p,this.m,P)),Ki(this.h,x),this.Ua&&zt(p,"TYPE","init"),this.P?(zt(p,"$req",m),zt(p,"SID","null"),x.T=!0,Nn(x,p,null)):Nn(x,p,m),this.G=2}}else this.G==3&&(o?js(this,o):this.i.length==0||xs(this.h)||js(this))};function js(o,m){var p;m?p=m.l:p=o.U++;const T=ne(o.I);zt(T,"SID",o.K),zt(T,"RID",p),zt(T,"AID",o.T),jr(o,T),o.m&&o.o&&De(T,o.m,o.o),p=new kn(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=mu(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ki(o.h,p),Nn(p,T,m)}function jr(o,m){o.H&&Et(o.H,function(p,T){zt(m,T,p)}),o.l&&xr({},function(p,T){zt(m,T,p)})}function mu(o,m,p){p=Math.min(o.i.length,p);var T=o.l?B(o.l.Na,o.l,o):null;t:{var x=o.i;let P=-1;for(;;){const $=["count="+p];P==-1?0<p?(P=x[0].g,$.push("ofs="+P)):P=0:$.push("ofs="+P);let Nt=!0;for(let ve=0;ve<p;ve++){let Ot=x[ve].g;const Ce=x[ve].map;if(Ot-=P,0>Ot)P=Math.max(0,x[ve].g-100),Nt=!1;else try{jn(Ce,$,"req"+Ot+"_")}catch{T&&T(Ce)}}if(Nt){T=$.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function gu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;mt||C(),ct||(mt(),ct=!0),Pt.add(m,o),o.v=0}}function Gs(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ki(B(o.Fa,o),Qs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,pu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ki(B(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,se(10),Na(this),pu(this))};function Gr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function pu(o){o.g=new kn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=ne(o.qa);zt(m,"RID","rpc"),zt(m,"SID",o.K),zt(m,"AID",o.T),zt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&zt(m,"TO",o.ja),zt(m,"TYPE","xmlhttp"),jr(o,m),o.m&&o.o&&De(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=zr(ne(m)),p.m=null,p.P=!0,ui(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Na(this),Gs(this),se(19))};function Ma(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function yu(o,m){var p=null;if(o.g==m){Ma(o),Gr(o),o.g=null;var T=2}else if(Yi(o.h,m))p=m.D,gn(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var x=o.B;T=Ea(),Re(T,new ru(T,p)),Oa(o)}else gu(o);else if(x=m.s,x==3||x==0&&0<m.X||!(T==1&&pc(o,m)||T==2&&Gs(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),x){case 1:mi(o,5);break;case 4:mi(o,10);break;case 3:mi(o,6);break;default:mi(o,2)}}}function Qs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function mi(o,m){if(o.j.info("Error code "+m),m==2){var p=B(o.fb,o),T=o.Xa;const x=!T;T=new oi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Xi(T,"https"),zr(T),x?cu(T.toString(),p):Br(T.toString(),p)}else se(2);o.G=0,o.l&&o.l.sa(m),_u(o),du(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),se(2)):(this.j.info("Failed to ping google.com"),se(1))};function _u(o){if(o.G=0,o.ka=[],o.l){const m=Ke(o.h);(m.length!=0||o.i.length!=0)&&(Z(o.ka,m),Z(o.ka,o.i),o.h.i.length=0,tt(o.i),o.i.length=0),o.l.ra()}}function vu(o,m,p){var T=p instanceof oi?ne(p):new oi(p);if(T.g!="")m&&(T.g=m+"."+T.g),Lr(T,T.s);else{var x=g.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;var P=new oi(null);T&&Xi(P,T),m&&(P.g=m),x&&Lr(P,x),p&&(P.l=p),T=P}return p=o.D,m=o.ya,p&&m&&zt(T,p,m),zt(T,"VER",o.la),jr(o,T),T}function Eu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new $i({eb:p})):new kt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ua(){}Ua.prototype.g=function(o,m){return new Xe(o,m)};function Xe(o,m){ye.call(this),this.g=new Ia(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!pt(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Yn(this)}X(Xe,ye),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){Hs(this.g)},Xe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Vs(o),o=p);m.i.push(new cc(m.Ya++,o)),m.G==3&&Oa(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,Hs(this.g),delete this.g,Xe.aa.N.call(this)};function Au(o){Bi.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}X(Au,Bi);function Su(){In.call(this),this.status=1}X(Su,In);function Yn(o){this.g=o}X(Yn,Tu),Yn.prototype.ua=function(){Re(this.g,"a")},Yn.prototype.ta=function(o){Re(this.g,new Au(o))},Yn.prototype.sa=function(o){Re(this.g,new Su)},Yn.prototype.ra=function(){Re(this.g,"b")},Ua.prototype.createWebChannel=Ua.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,Jy=function(){return new Ua},$y=function(){return Ea()},Zy=mn,Dh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Vo=_e,li.COMPLETE="complete",Xy=li,iu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,Ml=iu,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,Ky=kt}).apply(typeof Ao<"u"?Ao:typeof self<"u"?self:typeof window<"u"?window:{});const Xp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ts="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=new ky("@firebase/firestore");function ls(){return ha.logLevel}function it(s,...e){if(ha.logLevel<=xt.DEBUG){const i=e.map(Yh);ha.debug(`Firestore (${Ts}): ${s}`,...i)}}function Mi(s,...e){if(ha.logLevel<=xt.ERROR){const i=e.map(Yh);ha.error(`Firestore (${Ts}): ${s}`,...i)}}function ds(s,...e){if(ha.logLevel<=xt.WARN){const i=e.map(Yh);ha.warn(`Firestore (${Ts}): ${s}`,...i)}}function Yh(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s="Unexpected state"){const e=`FIRESTORE (${Ts}) INTERNAL ASSERTION FAILED: `+s;throw Mi(e),new Error(e)}function Ht(s,e){s||gt()}function vt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Es{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class S0{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class b0{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class R0{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0);let a=this.i;const u=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let f=new Ar;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ar,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const _=f;e.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ar)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string"),new Wy(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new Ge(e)}}class w0{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class D0{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new w0(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class C0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V0{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,i){Ht(this.o===void 0);const a=f=>{f.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.R;return this.R=f.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>a(f))};const u=f=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string"),this.R=i.token,new C0(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/e.length)*e.length;let a="";for(;a.length<20;){const u=I0(40);for(let f=0;f<u.length;++f)a.length<20&&u[f]<i&&(a+=e.charAt(u[f]%e.length))}return a}}function It(s,e){return s<e?-1:s>e?1:0}function ms(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor(1e6*(e-1e3*i));return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new rt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new rt(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<-62135596800)throw new rt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rt(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?It(this.nanoseconds,e.nanoseconds):It(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{static fromTimestamp(e){return new yt(e)}static min(){return new yt(new Se(0,0))}static max(){return new yt(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,i,a){i===void 0?i=0:i>e.length&&gt(),a===void 0?a=e.length-i:a>e.length-i&&gt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const f=ti.compareSegments(e.get(u),i.get(u));if(f!==0)return f}return Math.sign(e.length-i.length)}static compareSegments(e,i){const a=ti.isNumericId(e),u=ti.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?ti.extractNumericId(e).compare(ti.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Tr.fromString(e.substring(4,e.length-2))}}class Xt extends ti{construct(e,i,a){return new Xt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new rt(F.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new Xt(i)}static emptyPath(){return new Xt([])}}const N0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ti{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return N0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Be(["__name__"])}static fromServerFormat(e){const i=[];let a="",u=0;const f=()=>{if(a.length===0)throw new rt(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new rt(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(f(),u++)}if(f(),d)throw new rt(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Xt.fromString(e))}static fromName(e){return new ft(Xt.fromString(e).popFirst(5))}static empty(){return new ft(Xt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Xt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Xt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Xt(e.slice()))}}function O0(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=yt.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new br(u,ft.empty(),e)}function M0(s){return new br(s.readTime,s.key,-1)}class br{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new br(yt.min(),ft.empty(),-1)}static max(){return new br(yt.max(),ft.empty(),-1)}}function U0(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(s.documentKey,e.documentKey),i!==0?i:It(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(s){if(s.code!==F.FAILED_PRECONDITION||s.message!==x0)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Q((a,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(a,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Q?i:Q.resolve(i)}catch(i){return Q.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Q.reject(i)}static resolve(e){return new Q((i,a)=>{i(e)})}static reject(e){return new Q((i,a)=>{a(e)})}static waitFor(e){return new Q((i,a)=>{let u=0,f=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++f,d&&f===u&&i()},_=>a(_))}),d=!0,f===u&&i()})}static or(e){let i=Q.resolve(!1);for(const a of e)i=i.next(u=>u?Q.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,f)=>{a.push(i.call(this,u,f))}),this.waitFor(a)}static mapArray(e,i){return new Q((a,u)=>{const f=e.length,d=new Array(f);let g=0;for(let _=0;_<f;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===f&&a(d)},A=>u(A))}})}static doWhile(e,i){return new Q((a,u)=>{const f=()=>{e()===!0?i().next(()=>{f()},u):a()};f()})}}function z0(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ss(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.ie(a),this.se=a=>i.writeSequenceNumber(a))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Yo.oe=-1;function Ko(s){return s==null}function Bo(s){return s===0&&1/s==-1/0}function B0(s){return typeof s=="number"&&Number.isInteger(s)&&!Bo(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Zp(e)),e=P0(s.get(i),e);return Zp(e)}function P0(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const f=s.charAt(u);switch(f){case"\0":i+="";break;case"":i+="";break;default:i+=f}}return i}function Zp(s){return s+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function Vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function e_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new te(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new te(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new So(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new So(this.root,e,this.comparator,!1)}getReverseIterator(){return new So(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new So(this.root,e,this.comparator,!0)}}class So{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?a(e.key,i):1,i&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,a,u,f){this.key=e,this.value=i,this.color=a??ze.RED,this.left=u??ze.EMPTY,this.right=f??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,f){return new ze(e??this.key,i??this.value,a??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const f=a(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,i,a),null):f===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return ze.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,i,a,u,f){return this}insert(e,i,a){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new te(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Jp(this.data.getIterator())}getIteratorFrom(e){return new Jp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=a.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class Jp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new fn([])}unionWith(e){let i=new be(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new n_("Invalid base64 string: "+f):f}}(e);return new qe(i)}static fromUint8Array(e){const i=function(u){let f="";for(let d=0;d<u.length;++d)f+=String.fromCharCode(u[d]);return f}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return It(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const k0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(s){if(Ht(!!s),typeof s=="string"){let e=0;const i=k0.exec(s);if(Ht(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ue(s.seconds),nanos:ue(s.nanos)}}function ue(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function wr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="server_timestamp"}function Xo(s){const e=s.mapValue.fields.__previous_value__;return Kh(e)?Xo(e):e}function Hl(s){const e=Rr(s.mapValue.fields.__local_write_time__.timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(e,i,a,u,f,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}class jl{constructor(e,i){this.projectId=e,this.database=i||"(default)"}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo={mapValue:{}};function Dr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Kh(s)?4:G0(s)?9007199254740991:j0(s)?10:11:gt()}function ii(s,e){if(s===e)return!0;const i=Dr(s);if(i!==Dr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Hl(s).isEqual(Hl(e));case 3:return function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const d=Rr(u.timestampValue),g=Rr(f.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,f){return wr(u.bytesValue).isEqual(wr(f.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,f){return ue(u.geoPointValue.latitude)===ue(f.geoPointValue.latitude)&&ue(u.geoPointValue.longitude)===ue(f.geoPointValue.longitude)}(s,e);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return ue(u.integerValue)===ue(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const d=ue(u.doubleValue),g=ue(f.doubleValue);return d===g?Bo(d)===Bo(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return ms(s.arrayValue.values||[],e.arrayValue.values||[],ii);case 10:case 11:return function(u,f){const d=u.mapValue.fields||{},g=f.mapValue.fields||{};if($p(d)!==$p(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ii(d[_],g[_])))return!1;return!0}(s,e);default:return gt()}}function Gl(s,e){return(s.values||[]).find(i=>ii(i,e))!==void 0}function gs(s,e){if(s===e)return 0;const i=Dr(s),a=Dr(e);if(i!==a)return It(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return It(s.booleanValue,e.booleanValue);case 2:return function(f,d){const g=ue(f.integerValue||f.doubleValue),_=ue(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return Wp(s.timestampValue,e.timestampValue);case 4:return Wp(Hl(s),Hl(e));case 5:return It(s.stringValue,e.stringValue);case 6:return function(f,d){const g=wr(f),_=wr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(f,d){const g=f.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=It(g[v],_[v]);if(A!==0)return A}return It(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(f,d){const g=It(ue(f.latitude),ue(d.latitude));return g!==0?g:It(ue(f.longitude),ue(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return ty(s.arrayValue,e.arrayValue);case 10:return function(f,d){var g,_,v,A;const O=f.fields||{},B=d.fields||{},j=(g=O.value)===null||g===void 0?void 0:g.arrayValue,X=(_=B.value)===null||_===void 0?void 0:_.arrayValue,tt=It(((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0,((A=X==null?void 0:X.values)===null||A===void 0?void 0:A.length)||0);return tt!==0?tt:ty(j,X)}(s.mapValue,e.mapValue);case 11:return function(f,d){if(f===bo.mapValue&&d===bo.mapValue)return 0;if(f===bo.mapValue)return 1;if(d===bo.mapValue)return-1;const g=f.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let O=0;O<_.length&&O<A.length;++O){const B=It(_[O],A[O]);if(B!==0)return B;const j=gs(g[_[O]],v[A[O]]);if(j!==0)return j}return It(_.length,A.length)}(s.mapValue,e.mapValue);default:throw gt()}}function Wp(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return It(s,e);const i=Rr(s),a=Rr(e),u=It(i.seconds,a.seconds);return u!==0?u:It(i.nanos,a.nanos)}function ty(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const f=gs(i[u],a[u]);if(f)return f}return It(i.length,a.length)}function ps(s){return Ch(s)}function Ch(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=Rr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return wr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ft.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const f of i.values||[])u?u=!1:a+=",",a+=Ch(f);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const d of a)f?f=!1:u+=",",u+=`${d}:${Ch(i.fields[d])}`;return u+"}"}(s.mapValue):gt()}function Io(s){switch(Dr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xo(s);return e?16+Io(e):16;case 5:return 2*s.stringValue.length;case 6:return wr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,f)=>u+Io(f),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return Vr(a.fields,(f,d)=>{u+=f.length+Io(d)}),u}(s.mapValue);default:throw gt()}}function ey(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Vh(s){return!!s&&"integerValue"in s}function Xh(s){return!!s&&"arrayValue"in s}function ny(s){return!!s&&"nullValue"in s}function iy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function No(s){return!!s&&"mapValue"in s}function j0(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||i===void 0?void 0:i.stringValue)==="__vector__"}function Ll(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return Vr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ll(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ll(s.arrayValue.values[i]);return e}return Object.assign({},s)}function G0(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.value=e}static empty(){return new nn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!No(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(i)}setAll(e){let i=Be.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=Ll(d):u.push(g.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,a,u)}delete(e){const i=this.field(e.popLast());No(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ii(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];No(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){Vr(i,(u,f)=>e[u]=f);for(const u of a)delete e[u]}clone(){return new nn(Ll(this.value))}}function i_(s){const e=[];return Vr(s.fields,(i,a)=>{const u=new Be([i]);if(No(a)){const f=i_(a.mapValue).fields;if(f.length===0)e.push(u);else for(const d of f)e.push(u.child(d))}else e.push(u)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,f,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=f,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,yt.min(),yt.min(),yt.min(),nn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,yt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,yt.min(),yt.min(),nn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,yt.min(),yt.min(),nn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,i){this.position=e,this.inclusive=i}}function ry(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const f=e[u],d=s.position[u];if(f.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=gs(d,i.data.field(f.field)),f.dir==="desc"&&(a*=-1),a!==0)break}return a}function ay(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ii(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,i="asc"){this.field=e,this.dir=i}}function Q0(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{}class ge extends r_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new Y0(e,i,a):i==="array-contains"?new Z0(e,a):i==="in"?new $0(e,a):i==="not-in"?new J0(e,a):i==="array-contains-any"?new W0(e,a):new ge(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new K0(e,a):new X0(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(gs(i,this.value)):i!==null&&Dr(this.value)===Dr(i)&&this.matchesComparison(gs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zn extends r_{constructor(e,i){super(),this.filters=e,this.op=i,this.ae=null}static create(e,i){return new zn(e,i)}matches(e){return a_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function a_(s){return s.op==="and"}function s_(s){return F0(s)&&a_(s)}function F0(s){for(const e of s.filters)if(e instanceof zn)return!1;return!0}function Ih(s){if(s instanceof ge)return s.field.canonicalString()+s.op.toString()+ps(s.value);if(s_(s))return s.filters.map(e=>Ih(e)).join(",");{const e=s.filters.map(i=>Ih(i)).join(",");return`${s.op}(${e})`}}function l_(s,e){return s instanceof ge?function(a,u){return u instanceof ge&&a.op===u.op&&a.field.isEqual(u.field)&&ii(a.value,u.value)}(s,e):s instanceof zn?function(a,u){return u instanceof zn&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((f,d,g)=>f&&l_(d,u.filters[g]),!0):!1}(s,e):void gt()}function u_(s){return s instanceof ge?function(i){return`${i.field.canonicalString()} ${i.op} ${ps(i.value)}`}(s):s instanceof zn?function(i){return i.op.toString()+" {"+i.getFilters().map(u_).join(" ,")+"}"}(s):"Filter"}class Y0 extends ge{constructor(e,i,a){super(e,i,a),this.key=ft.fromName(a.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class K0 extends ge{constructor(e,i){super(e,"in",i),this.keys=o_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class X0 extends ge{constructor(e,i){super(e,"not-in",i),this.keys=o_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function o_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ft.fromName(a.referenceValue))}class Z0 extends ge{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Xh(i)&&Gl(i.arrayValue,this.value)}}class $0 extends ge{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class J0 extends ge{constructor(e,i){super(e,"not-in",i)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Gl(this.value.arrayValue,i)}}class W0 extends ge{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Xh(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Gl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,i=null,a=[],u=[],f=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=f,this.startAt=d,this.endAt=g,this.ue=null}}function sy(s,e=null,i=[],a=[],u=null,f=null,d=null){return new tA(s,e,i,a,u,f,d)}function Zh(s){const e=vt(s);if(e.ue===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Ih(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(f){return f.field.canonicalString()+f.dir}(a)).join(","),Ko(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>ps(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>ps(a)).join(",")),e.ue=i}return e.ue}function $h(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!Q0(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!l_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!ay(s.startAt,e.startAt)&&ay(s.endAt,e.endAt)}function Nh(s){return ft.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,i=null,a=[],u=[],f=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=f,this.limitType=d,this.startAt=g,this.endAt=_,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function eA(s,e,i,a,u,f,d,g){return new bs(s,e,i,a,u,f,d,g)}function c_(s){return new bs(s)}function ly(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function f_(s){return s.collectionGroup!==null}function zl(s){const e=vt(s);if(e.ce===null){e.ce=[];const i=new Set;for(const f of e.explicitOrderBy)e.ce.push(f),i.add(f.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||e.ce.push(new Ql(f,a))}),i.has(Be.keyField().canonicalString())||e.ce.push(new Ql(Be.keyField(),a))}return e.ce}function ei(s){const e=vt(s);return e.le||(e.le=nA(e,zl(s))),e.le}function nA(s,e){if(s.limitType==="F")return sy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const f=u.dir==="desc"?"asc":"desc";return new Ql(u.field,f)});const i=s.endAt?new qo(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new qo(s.startAt.position,s.startAt.inclusive):null;return sy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Oh(s,e){const i=s.filters.concat([e]);return new bs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Mh(s,e,i){return new bs(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function Zo(s,e){return $h(ei(s),ei(e))&&s.limitType===e.limitType}function h_(s){return`${Zh(ei(s))}|lt:${s.limitType}`}function us(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>u_(u)).join(", ")}]`),Ko(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>ps(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>ps(u)).join(",")),`Target(${a})`}(ei(s))}; limitType=${s.limitType})`}function $o(s,e){return e.isFoundDocument()&&function(a,u){const f=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(f):ft.isDocumentKey(a.path)?a.path.isEqual(f):a.path.isImmediateParentOf(f)}(s,e)&&function(a,u){for(const f of zl(a))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const f of a.filters)if(!f.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,_){const v=ry(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,zl(a),u)||a.endAt&&!function(d,g,_){const v=ry(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,zl(a),u))}(s,e)}function iA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function d_(s){return(e,i)=>{let a=!1;for(const u of zl(s)){const f=rA(u,e,i);if(f!==0)return f;a=a||u.field.isKeyField()}return 0}}function rA(s,e,i){const a=s.field.isKeyField()?ft.comparator(e.key,i.key):function(f,d,g){const _=d.data.field(f),v=g.data.field(f);return _!==null&&v!==null?gs(_,v):gt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,f]of a)if(this.equalsFn(u,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Vr(this.inner,(i,a)=>{for(const[u,f]of a)e(u,f)})}isEmpty(){return e_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new te(ft.comparator);function Ui(){return aA}const m_=new te(ft.comparator);function Ul(...s){let e=m_;for(const i of s)e=e.insert(i.key,i);return e}function g_(s){let e=m_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function fa(){return Bl()}function p_(){return Bl()}function Bl(){return new ma(s=>s.toString(),(s,e)=>s.isEqual(e))}const sA=new te(ft.comparator),lA=new be(ft.comparator);function Ct(...s){let e=lA;for(const i of s)e=e.add(i);return e}const uA=new be(It);function oA(){return uA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bo(e)?"-0":e}}function y_(s){return{integerValue:""+s}}function cA(s,e){return B0(e)?y_(e):Jh(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(){this._=void 0}}function fA(s,e,i){return s instanceof Po?function(u,f){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&Kh(f)&&(f=Xo(f)),f&&(d.fields.__previous_value__=f),{mapValue:d}}(i,e):s instanceof Fl?v_(s,e):s instanceof Yl?E_(s,e):function(u,f){const d=__(u,f),g=uy(d)+uy(u.Pe);return Vh(d)&&Vh(u.Pe)?y_(g):Jh(u.serializer,g)}(s,e)}function hA(s,e,i){return s instanceof Fl?v_(s,e):s instanceof Yl?E_(s,e):i}function __(s,e){return s instanceof ko?function(a){return Vh(a)||function(f){return!!f&&"doubleValue"in f}(a)}(e)?e:{integerValue:0}:null}class Po extends Jo{}class Fl extends Jo{constructor(e){super(),this.elements=e}}function v_(s,e){const i=T_(e);for(const a of s.elements)i.some(u=>ii(u,a))||i.push(a);return{arrayValue:{values:i}}}class Yl extends Jo{constructor(e){super(),this.elements=e}}function E_(s,e){let i=T_(e);for(const a of s.elements)i=i.filter(u=>!ii(u,a));return{arrayValue:{values:i}}}class ko extends Jo{constructor(e,i){super(),this.serializer=e,this.Pe=i}}function uy(s){return ue(s.integerValue||s.doubleValue)}function T_(s){return Xh(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function dA(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Fl&&u instanceof Fl||a instanceof Yl&&u instanceof Yl?ms(a.elements,u.elements,ii):a instanceof ko&&u instanceof ko?ii(a.Pe,u.Pe):a instanceof Po&&u instanceof Po}(s.transform,e.transform)}class mA{constructor(e,i){this.version=e,this.transformResults=i}}class Ln{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Wo{}function A_(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Wh(s.key,Ln.none()):new Kl(s.key,s.data,Ln.none());{const i=s.data,a=nn.empty();let u=new be(Be.comparator);for(let f of e.fields)if(!u.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?a.delete(f):a.set(f,d),u=u.add(f)}return new Ir(s.key,a,new fn(u.toArray()),Ln.none())}}function gA(s,e,i){s instanceof Kl?function(u,f,d){const g=u.value.clone(),_=cy(u.fieldTransforms,f,d.transformResults);g.setAll(_),f.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Ir?function(u,f,d){if(!Oo(u.precondition,f))return void f.convertToUnknownDocument(d.version);const g=cy(u.fieldTransforms,f,d.transformResults),_=f.data;_.setAll(S_(u)),_.setAll(g),f.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(u,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function ql(s,e,i,a){return s instanceof Kl?function(f,d,g,_){if(!Oo(f.precondition,d))return g;const v=f.value.clone(),A=fy(f.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Ir?function(f,d,g,_){if(!Oo(f.precondition,d))return g;const v=fy(f.fieldTransforms,_,d),A=d.data;return A.setAll(S_(f)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(O=>O.field))}(s,e,i,a):function(f,d,g){return Oo(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function pA(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),f=__(a.transform,u||null);f!=null&&(i===null&&(i=nn.empty()),i.set(a.field,f))}return i||null}function oy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&ms(a,u,(f,d)=>dA(f,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends Wo{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Ir extends Wo{constructor(e,i,a,u,f=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function S_(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function cy(s,e,i){const a=new Map;Ht(s.length===i.length);for(let u=0;u<i.length;u++){const f=s[u],d=f.transform,g=e.data.field(f.field);a.set(f.field,hA(d,g,i[u]))}return a}function fy(s,e,i){const a=new Map;for(const u of s){const f=u.transform,d=i.data.field(u.field);a.set(u.field,fA(f,d,e))}return a}class Wh extends Wo{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yA extends Wo{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&gA(f,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=ql(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=ql(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=p_();return this.mutations.forEach(u=>{const f=e.get(u.key),d=f.overlayedDocument;let g=this.applyToLocalView(d,f.mutatedFields);g=i.has(u.key)?null:g;const _=A_(d,g);_!==null&&a.set(u.key,_),d.isValidDocument()||d.convertToNoDocument(yt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Ct())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(i,a)=>oy(i,a))&&ms(this.baseMutations,e.baseMutations,(i,a)=>oy(i,a))}}class td{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){Ht(e.mutations.length===a.length);let u=function(){return sA}();const f=e.mutations;for(let d=0;d<f.length;d++)u=u.insert(f[d].key,a[d].version);return new td(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me,Ut;function TA(s){switch(s){default:return gt();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function b_(s){if(s===void 0)return Mi("GRPC error has no .code"),F.UNKNOWN;switch(s){case me.OK:return F.OK;case me.CANCELLED:return F.CANCELLED;case me.UNKNOWN:return F.UNKNOWN;case me.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case me.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case me.INTERNAL:return F.INTERNAL;case me.UNAVAILABLE:return F.UNAVAILABLE;case me.UNAUTHENTICATED:return F.UNAUTHENTICATED;case me.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case me.NOT_FOUND:return F.NOT_FOUND;case me.ALREADY_EXISTS:return F.ALREADY_EXISTS;case me.PERMISSION_DENIED:return F.PERMISSION_DENIED;case me.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case me.ABORTED:return F.ABORTED;case me.OUT_OF_RANGE:return F.OUT_OF_RANGE;case me.UNIMPLEMENTED:return F.UNIMPLEMENTED;case me.DATA_LOSS:return F.DATA_LOSS;default:return gt()}}(Ut=me||(me={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=new Tr([4294967295,4294967295],0);function hy(s){const e=AA().encode(s),i=new Yy;return i.update(e),new Uint8Array(i.digest())}function dy(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Tr([i,a],0),new Tr([u,f],0)]}class ed{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.Te=8*e.length-i,this.Ie=Tr.fromNumber(this.Te)}de(e,i,a){let u=e.add(i.multiply(Tr.fromNumber(a)));return u.compare(SA)===1&&(u=new Tr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const i=hy(e),[a,u]=dy(i);for(let f=0;f<this.hashCount;f++){const d=this.de(a,u,f);if(!this.Ee(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new ed(f,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Te===0)return;const i=hy(e),[a,u]=dy(i);for(let f=0;f<this.hashCount;f++){const d=this.de(a,u,f);this.Ae(d)}}Ae(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(e,i,a,u,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new tc(yt.min(),u,new te(It),Ui(),Ct())}}class Xl{constructor(e,i,a,u,f){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Xl(a,i,Ct(),Ct(),Ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,i,a,u){this.Re=e,this.removedTargetIds=i,this.key=a,this.Ve=u}}class R_{constructor(e,i){this.targetId=e,this.me=i}}class w_{constructor(e,i,a=qe.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class my{constructor(){this.fe=0,this.ge=gy(),this.pe=qe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ct(),i=Ct(),a=Ct();return this.ge.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:gt()}}),new Xl(this.pe,this.ye,e,i,a)}Ce(){this.we=!1,this.ge=gy()}Fe(e,i){this.we=!0,this.ge=this.ge.insert(e,i)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class bA{constructor(e){this.Be=e,this.Le=new Map,this.ke=Ui(),this.qe=Ro(),this.Qe=Ro(),this.Ke=new te(It)}$e(e){for(const i of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(i,e.Ve):this.We(i,e.key,e.Ve);for(const i of e.removedTargetIds)this.We(i,e.key,e.Ve)}Ge(e){this.forEachTarget(e,i=>{const a=this.ze(i);switch(e.state){case 0:this.je(i)&&a.De(e.resumeToken);break;case 1:a.Oe(),a.Se||a.Ce(),a.De(e.resumeToken);break;case 2:a.Oe(),a.Se||this.removeTarget(i);break;case 3:this.je(i)&&(a.Ne(),a.De(e.resumeToken));break;case 4:this.je(i)&&(this.He(i),a.De(e.resumeToken));break;default:gt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.Le.forEach((a,u)=>{this.je(u)&&i(u)})}Je(e){const i=e.targetId,a=e.me.count,u=this.Ye(i);if(u){const f=u.target;if(Nh(f))if(a===0){const d=new ft(f.path);this.We(i,d,Qe.newNoDocument(d,yt.min()))}else Ht(a===1);else{const d=this.Ze(i);if(d!==a){const g=this.Xe(e),_=g?this.et(g,e,d):1;if(_!==0){this.He(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}Xe(e){const i=e.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:f=0}=i;let d,g;try{d=wr(a).toUint8Array()}catch(_){if(_ instanceof n_)return ds("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new ed(d,u,f)}catch(_){return ds(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Te===0?null:g}et(e,i,a){return i.me.count===a-this.rt(e,i.targetId)?0:2}rt(e,i){const a=this.Be.getRemoteKeysForTarget(i);let u=0;return a.forEach(f=>{const d=this.Be.nt(),g=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(g)||(this.We(i,f,null),u++)}),u}it(e){const i=new Map;this.Le.forEach((f,d)=>{const g=this.Ye(d);if(g){if(f.current&&Nh(g.target)){const _=new ft(g.target.path);this.st(_).has(d)||this.ot(d,_)||this.We(d,_,Qe.newNoDocument(_,e))}f.be&&(i.set(d,f.ve()),f.Ce())}});let a=Ct();this.Qe.forEach((f,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Ye(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(f))}),this.ke.forEach((f,d)=>d.setReadTime(e));const u=new tc(e,i,this.Ke,this.ke,a);return this.ke=Ui(),this.qe=Ro(),this.Qe=Ro(),this.Ke=new te(It),u}Ue(e,i){if(!this.je(e))return;const a=this.ot(e,i.key)?2:0;this.ze(e).Fe(i.key,a),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(e)),this.Qe=this.Qe.insert(i.key,this._t(i.key).add(e))}We(e,i,a){if(!this.je(e))return;const u=this.ze(e);this.ot(e,i)?u.Fe(i,1):u.Me(i),this.Qe=this.Qe.insert(i,this._t(i).delete(e)),this.Qe=this.Qe.insert(i,this._t(i).add(e)),a&&(this.ke=this.ke.insert(i,a))}removeTarget(e){this.Le.delete(e)}Ze(e){const i=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let i=this.Le.get(e);return i||(i=new my,this.Le.set(e,i)),i}_t(e){let i=this.Qe.get(e);return i||(i=new be(It),this.Qe=this.Qe.insert(e,i)),i}st(e){let i=this.qe.get(e);return i||(i=new be(It),this.qe=this.qe.insert(e,i)),i}je(e){const i=this.Ye(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}Ye(e){const i=this.Le.get(e);return i&&i.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new my),this.Be.getRemoteKeysForTarget(e).forEach(i=>{this.We(e,i,null)})}ot(e,i){return this.Be.getRemoteKeysForTarget(e).has(i)}}function Ro(){return new te(ft.comparator)}function gy(){return new te(ft.comparator)}const RA={asc:"ASCENDING",desc:"DESCENDING"},wA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DA={and:"AND",or:"OR"};class CA{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Uh(s,e){return s.useProto3Json||Ko(e)?e:{value:e}}function Ho(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function D_(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function VA(s,e){return Ho(s,e.toTimestamp())}function ni(s){return Ht(!!s),yt.fromTimestamp(function(i){const a=Rr(i);return new Se(a.seconds,a.nanos)}(s))}function nd(s,e){return xh(s,e).canonicalString()}function xh(s,e){const i=function(u){return new Xt(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function C_(s){const e=Xt.fromString(s);return Ht(M_(e)),e}function Lh(s,e){return nd(s.databaseId,e.path)}function yh(s,e){const i=C_(e);if(i.get(1)!==s.databaseId.projectId)throw new rt(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new rt(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ft(I_(i))}function V_(s,e){return nd(s.databaseId,e)}function IA(s){const e=C_(s);return e.length===4?Xt.emptyPath():I_(e)}function zh(s){return new Xt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function I_(s){return Ht(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function py(s,e,i){return{name:Lh(s,e),fields:i.value.mapValue.fields}}function NA(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],f=function(v,A){return v.useProto3Json?(Ht(A===void 0||typeof A=="string"),qe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array),qe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?F.UNKNOWN:b_(v.code);return new rt(A,v.message||"")}(d);i=new w_(a,u,f,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=yh(s,a.document.name),f=ni(a.document.updateTime),d=a.document.createTime?ni(a.document.createTime):yt.min(),g=new nn({mapValue:{fields:a.document.fields}}),_=Qe.newFoundDocument(u,f,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new Mo(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=yh(s,a.document),f=a.readTime?ni(a.readTime):yt.min(),d=Qe.newNoDocument(u,f),g=a.removedTargetIds||[];i=new Mo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=yh(s,a.document),f=a.removedTargetIds||[];i=new Mo([],f,u,null)}else{if(!("filter"in e))return gt();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:f}=a,d=new EA(u,f),g=a.targetId;i=new R_(g,d)}}return i}function OA(s,e){let i;if(e instanceof Kl)i={update:py(s,e.key,e.value)};else if(e instanceof Wh)i={delete:Lh(s,e.key)};else if(e instanceof Ir)i={update:py(s,e.key,e.data),updateMask:kA(e.fieldMask)};else{if(!(e instanceof yA))return gt();i={verify:Lh(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(f,d){const g=d.transform;if(g instanceof Po)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof ko)return{fieldPath:d.field.canonicalString(),increment:g.Pe};throw gt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,f){return f.updateTime!==void 0?{updateTime:VA(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:gt()}(s,e.precondition)),i}function MA(s,e){return s&&s.length>0?(Ht(e!==void 0),s.map(i=>function(u,f){let d=u.updateTime?ni(u.updateTime):ni(f);return d.isEqual(yt.min())&&(d=ni(f)),new mA(d,u.transformResults||[])}(i,e))):[]}function UA(s,e){return{documents:[V_(s,e.path)]}}function xA(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=V_(s,u);const f=function(v){if(v.length!==0)return O_(zn.create(v,"and"))}(e.filters);f&&(i.structuredQuery.where=f);const d=function(v){if(v.length!==0)return v.map(A=>function(B){return{field:os(B.field),direction:BA(B.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Uh(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:i,parent:u}}function LA(s){let e=IA(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){Ht(a===1);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=function(O){const B=N_(O);return B instanceof zn&&s_(B)?B.getFilters():[B]}(i.where));let d=[];i.orderBy&&(d=function(O){return O.map(B=>function(X){return new Ql(cs(X.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(X.direction))}(B))}(i.orderBy));let g=null;i.limit&&(g=function(O){let B;return B=typeof O=="object"?O.value:O,Ko(B)?null:B}(i.limit));let _=null;i.startAt&&(_=function(O){const B=!!O.before,j=O.values||[];return new qo(j,B)}(i.startAt));let v=null;return i.endAt&&(v=function(O){const B=!O.before,j=O.values||[];return new qo(j,B)}(i.endAt)),eA(e,u,d,f,g,"F",_,v)}function zA(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function N_(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=cs(i.unaryFilter.field);return ge.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=cs(i.unaryFilter.field);return ge.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=cs(i.unaryFilter.field);return ge.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=cs(i.unaryFilter.field);return ge.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(s):s.fieldFilter!==void 0?function(i){return ge.create(cs(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return zn.create(i.compositeFilter.filters.map(a=>N_(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return gt()}}(i.compositeFilter.op))}(s):gt()}function BA(s){return RA[s]}function qA(s){return wA[s]}function PA(s){return DA[s]}function os(s){return{fieldPath:s.canonicalString()}}function cs(s){return Be.fromServerFormat(s.fieldPath)}function O_(s){return s instanceof ge?function(i){if(i.op==="=="){if(iy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NAN"}};if(ny(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(iy(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NAN"}};if(ny(i.value))return{unaryFilter:{field:os(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:os(i.field),op:qA(i.op),value:i.value}}}(s):s instanceof zn?function(i){const a=i.getFilters().map(u=>O_(u));return a.length===1?a[0]:{compositeFilter:{op:PA(i.op),filters:a}}}(s):gt()}function kA(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function M_(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,a,u,f=yt.min(),d=yt.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.ht=e}}function jA(s){const e=LA({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Mh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(){this.ln=new QA}addToCollectionParentIndex(e,i){return this.ln.add(i),Q.resolve()}getCollectionParents(e,i){return Q.resolve(this.ln.getEntries(i))}addFieldIndex(e,i){return Q.resolve()}deleteFieldIndex(e,i){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,i){return Q.resolve()}getDocumentsMatchingTarget(e,i){return Q.resolve(null)}getIndexType(e,i){return Q.resolve(0)}getFieldIndexes(e,i){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,i){return Q.resolve(br.min())}getMinOffsetFromCollectionGroup(e,i){return Q.resolve(br.min())}updateCollectionGroup(e,i,a){return Q.resolve()}updateIndexEntries(e,i){return Q.resolve()}}class QA{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new be(Xt.comparator),f=!u.has(a);return this.index[i]=u.add(a),f}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new be(Xt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class en{static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ys(0)}static Qn(){return new ys(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y([s,e],[i,a]){const u=It(s,i);return u===0?It(e,a):u}class FA{constructor(e){this.Gn=e,this.buffer=new be(_y),this.zn=0}jn(){return++this.zn}Hn(e){const i=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();_y(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class YA{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){it("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ss(i)?it("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):await As(i)}await this.Yn(3e5)})}}class KA{constructor(e,i){this.Zn=e,this.params=i}calculateTargetCount(e,i){return this.Zn.Xn(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Q.resolve(Yo.oe);const a=new FA(i);return this.Zn.forEachTarget(e,u=>a.Hn(u.sequenceNumber)).next(()=>this.Zn.er(e,u=>a.Hn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.Zn.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.Zn.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(yy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yy):this.tr(e,i))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,i){let a,u,f,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(O=>(O>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${O}`),u=this.params.maximumSequenceNumbersToCollect):u=O,d=Date.now(),this.nthSequenceNumber(e,u))).next(O=>(a=O,g=Date.now(),this.removeTargets(e,a,i))).next(O=>(f=O,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(O=>(v=Date.now(),ls()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${f} targets in `+(_-g)+`ms
	Removed ${O} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:O})))}}function XA(s,e){return new KA(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(){this.changes=new ma(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Q.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&ql(a.mutation,u,fn.empty(),Se.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Ct()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Ct()){const u=fa();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(f=>{let d=Ul();return f.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=fa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Ct()))}populateOverlays(e,i,a){const u=[];return a.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(e,u).next(f=>{f.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let f=Ui();const d=Bl(),g=function(){return Bl()}();return i.forEach((_,v)=>{const A=a.get(v.key);u.has(v.key)&&(A===void 0||A.mutation instanceof Ir)?f=f.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),ql(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,fn.empty())}),this.recalculateAndSaveOverlays(e,f).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var O;return g.set(v,new $A(A,(O=d.get(v))!==null&&O!==void 0?O:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Bl();let u=new te((d,g)=>d-g),f=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||fn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const O=(u.get(g.batchId)||Ct()).add(_);u=u.insert(g.batchId,O)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,O=p_();A.forEach(B=>{if(!f.has(B)){const j=A_(i.get(B),a.get(B));j!==null&&O.set(B,j),f=f.add(B)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,O))}return Q.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):f_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(f=>{const d=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-f.size):Q.resolve(fa());let g=-1,_=f;return d.next(v=>Q.forEach(v,(A,O)=>(g<O.largestBatchId&&(g=O.largestBatchId),f.get(A)?Q.resolve():this.remoteDocumentCache.getEntry(e,A).next(B=>{_=_.insert(A,B)}))).next(()=>this.populateOverlays(e,v,f)).next(()=>this.computeViews(e,_,v,Ct())).next(A=>({batchId:g,changes:g_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(a=>{let u=Ul();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const f=i.collectionGroup;let d=Ul();return this.indexManager.getCollectionParents(e,f).next(g=>Q.forEach(g,_=>{const v=function(O,B){return new bs(B,null,O.explicitOrderBy.slice(),O.filters.slice(),O.limit,O.limitType,O.startAt,O.endAt)}(i,_.child(f));return this.getDocumentsMatchingCollectionQuery(e,v,a,u).next(A=>{A.forEach((O,B)=>{d=d.insert(O,B)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,f,u))).next(d=>{f.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=Ul();return d.forEach((_,v)=>{const A=f.get(_);A!==void 0&&ql(A.mutation,v,fn.empty(),Se.now()),$o(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,i){return Q.resolve(this.Tr.get(i))}saveBundleMetadata(e,i){return this.Tr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:ni(u.createTime)}}(i)),Q.resolve()}getNamedQuery(e,i){return Q.resolve(this.Ir.get(i))}saveNamedQuery(e,i){return this.Ir.set(i.name,function(u){return{name:u.name,query:jA(u.bundledQuery),readTime:ni(u.readTime)}}(i)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(){this.overlays=new te(ft.comparator),this.dr=new Map}getOverlay(e,i){return Q.resolve(this.overlays.get(i))}getOverlays(e,i){const a=fa();return Q.forEach(i,u=>this.getOverlay(e,u).next(f=>{f!==null&&a.set(u,f)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,f)=>{this.Tt(e,i,f)}),Q.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.dr.get(a);return u!==void 0&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.dr.delete(a)),Q.resolve()}getOverlaysForCollection(e,i,a){const u=fa(),f=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===f&&_.largestBatchId>a&&u.set(_.getKey(),_)}return Q.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let f=new te((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=f.get(v.largestBatchId);A===null&&(A=fa(),f=f.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=fa(),_=f.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=u)););return Q.resolve(g)}Tt(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.dr.get(u.largestBatchId).delete(a.key);this.dr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new vA(i,a));let f=this.dr.get(i);f===void 0&&(f=Ct(),this.dr.set(i,f)),this.dr.set(i,f.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this.Er=new be(Oe.Ar),this.Rr=new be(Oe.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,i){const a=new Oe(e,i);this.Er=this.Er.add(a),this.Rr=this.Rr.add(a)}mr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.gr(new Oe(e,i))}pr(e,i){e.forEach(a=>this.removeReference(a,i))}yr(e){const i=new ft(new Xt([])),a=new Oe(i,e),u=new Oe(i,e+1),f=[];return this.Rr.forEachInRange([a,u],d=>{this.gr(d),f.push(d.key)}),f}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const i=new ft(new Xt([])),a=new Oe(i,e),u=new Oe(i,e+1);let f=Ct();return this.Rr.forEachInRange([a,u],d=>{f=f.add(d.key)}),f}containsKey(e){const i=new Oe(e,0),a=this.Er.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Oe{constructor(e,i){this.key=e,this.br=i}static Ar(e,i){return ft.comparator(e.key,i.key)||It(e.br,i.br)}static Vr(e,i){return It(e.br,i.br)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Dr=1,this.vr=new be(Oe.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const f=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new _A(f,i,a,u);this.mutationQueue.push(d);for(const g of u)this.vr=this.vr.add(new Oe(g.key,f)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(d)}lookupMutationBatch(e,i){return Q.resolve(this.Cr(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Fr(a),f=u<0?0:u;return Q.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Oe(i,0),u=new Oe(i,Number.POSITIVE_INFINITY),f=[];return this.vr.forEachInRange([a,u],d=>{const g=this.Cr(d.br);f.push(g)}),Q.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(It);return i.forEach(u=>{const f=new Oe(u,0),d=new Oe(u,Number.POSITIVE_INFINITY);this.vr.forEachInRange([f,d],g=>{a=a.add(g.br)})}),Q.resolve(this.Mr(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let f=a;ft.isDocumentKey(f)||(f=f.child(""));const d=new Oe(new ft(f),0);let g=new be(It);return this.vr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===u&&(g=g.add(_.br)),!0)},d),Q.resolve(this.Mr(g))}Mr(e){const i=[];return e.forEach(a=>{const u=this.Cr(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){Ht(this.Or(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.vr;return Q.forEach(i.mutations,u=>{const f=new Oe(u.key,i.batchId);return a=a.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.vr=a})}Bn(e){}containsKey(e,i){const a=new Oe(i,0),u=this.vr.firstAfterOrEqual(a);return Q.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,i){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const i=this.Fr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e){this.Nr=e,this.docs=function(){return new te(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),f=u?u.size:0,d=this.Nr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Q.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ui();return i.forEach(u=>{const f=this.docs.get(u);a=a.insert(u,f?f.document.mutableCopy():Qe.newInvalidDocument(u))}),Q.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let f=Ui();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||U0(M0(A),a)<=0||(u.has(A.key)||$o(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return Q.resolve(f)}getAllFromCollectionGroup(e,i,a,u){gt()}Br(e,i){return Q.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new rS(this)}getSize(e){return Q.resolve(this.size)}}class rS extends ZA{constructor(e){super(),this.hr=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.hr.addEntry(e,u)):this.hr.removeEntry(a)}),Q.waitFor(i)}getFromCache(e,i){return this.hr.getEntry(e,i)}getAllFromCache(e,i){return this.hr.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.persistence=e,this.Lr=new ma(i=>Zh(i),$h),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.kr=0,this.qr=new id,this.targetCount=0,this.Qr=ys.qn()}forEachTarget(e,i){return this.Lr.forEach((a,u)=>i(u)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.kr&&(this.kr=i),Q.resolve()}Un(e){this.Lr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Qr=new ys(i),this.highestTargetId=i),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,i){return this.Un(i),this.targetCount+=1,Q.resolve()}updateTargetData(e,i){return this.Un(i),Q.resolve()}removeTargetData(e,i){return this.Lr.delete(i.target),this.qr.yr(i.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,i,a){let u=0;const f=[];return this.Lr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Lr.delete(d),f.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Q.waitFor(f).next(()=>u)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,i){const a=this.Lr.get(i)||null;return Q.resolve(a)}addMatchingKeys(e,i,a){return this.qr.mr(i,a),Q.resolve()}removeMatchingKeys(e,i,a){this.qr.pr(i,a);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(d=>{f.push(u.markPotentiallyOrphaned(e,d))}),Q.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.qr.yr(i),Q.resolve()}getMatchingKeysForTargetId(e,i){const a=this.qr.Sr(i);return Q.resolve(a)}containsKey(e,i){return Q.resolve(this.qr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,i){this.Kr={},this.overlays={},this.$r=new Yo(0),this.Ur=!1,this.Ur=!0,this.Wr=new eS,this.referenceDelegate=e(this),this.Gr=new aS(this),this.indexManager=new GA,this.remoteDocumentCache=function(u){return new iS(u)}(a=>this.referenceDelegate.zr(a)),this.serializer=new HA(i),this.jr=new WA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new tS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Kr[e.toKey()];return a||(a=new nS(i,this.referenceDelegate),this.Kr[e.toKey()]=a),a}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new sS(this.$r.next());return this.referenceDelegate.Hr(),a(u).next(f=>this.referenceDelegate.Jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Yr(e,i){return Q.or(Object.values(this.Kr).map(a=>()=>a.containsKey(e,i)))}}class sS extends L0{constructor(e){super(),this.currentSequenceNumber=e}}class rd{constructor(e){this.persistence=e,this.Zr=new id,this.Xr=null}static ei(e){return new rd(e)}get ti(){if(this.Xr)return this.Xr;throw gt()}addReference(e,i,a){return this.Zr.addReference(a,i),this.ti.delete(a.toString()),Q.resolve()}removeReference(e,i,a){return this.Zr.removeReference(a,i),this.ti.add(a.toString()),Q.resolve()}markPotentiallyOrphaned(e,i){return this.ti.add(i.toString()),Q.resolve()}removeTarget(e,i){this.Zr.yr(i.targetId).forEach(u=>this.ti.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(f=>this.ti.add(f.toString()))}).next(()=>a.removeTargetData(e,i))}Hr(){this.Xr=new Set}Jr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,a=>{const u=ft.fromPath(a);return this.ni(e,u).next(f=>{f||i.removeEntry(u,yt.min())})}).next(()=>(this.Xr=null,i.apply(e)))}updateLimboDocument(e,i){return this.ni(e,i).next(a=>{a?this.ti.delete(i.toString()):this.ti.add(i.toString())})}zr(e){return 0}ni(e,i){return Q.or([()=>Q.resolve(this.Zr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Yr(e,i)])}}class jo{constructor(e,i){this.persistence=e,this.ri=new ma(a=>q0(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=XA(this,i)}static ei(e,i){return new jo(e,i)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}Xn(e){const i=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}nr(e){let i=0;return this.er(e,a=>{i++}).next(()=>i)}er(e,i){return Q.forEach(this.ri,(a,u)=>this.ir(e,a,u).next(f=>f?Q.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.Br(e,d=>this.ir(e,d,i).next(g=>{g||(a++,f.removeEntry(d,yt.min()))})).next(()=>f.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.ri.set(a,e.currentSequenceNumber),Q.resolve()}removeReference(e,i,a){return this.ri.set(a,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,i){return this.ri.set(i,e.currentSequenceNumber),Q.resolve()}zr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Io(e.data.value)),i}ir(e,i,a){return Q.or([()=>this.persistence.Yr(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.ri.get(i);return Q.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Wi=a,this.Gi=u}static zi(e,i){let a=Ct(),u=Ct();for(const f of i.docChanges)switch(f.type){case 0:a=a.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new ad(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return aT()?8:z0(iT())>0?6:4}()}initialize(e,i){this.Zi=e,this.indexManager=i,this.ji=!0}getDocumentsMatchingQuery(e,i,a,u){const f={result:null};return this.Xi(e,i).next(d=>{f.result=d}).next(()=>{if(!f.result)return this.es(e,i,u,a).next(d=>{f.result=d})}).next(()=>{if(f.result)return;const d=new lS;return this.ts(e,i,d).next(g=>{if(f.result=g,this.Hi)return this.ns(e,i,d,g.size)})}).next(()=>f.result)}ns(e,i,a,u){return a.documentReadCount<this.Ji?(ls()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",us(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(ls()<=xt.DEBUG&&it("QueryEngine","Query:",us(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.Yi*u?(ls()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",us(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ei(i))):Q.resolve())}Xi(e,i){if(ly(i))return Q.resolve(null);let a=ei(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=Mh(i,null,"F"),a=ei(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(f=>{const d=Ct(...f);return this.Zi.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.rs(i,g);return this.ss(i,v,d,_.readTime)?this.Xi(e,Mh(i,null,"F")):this.os(e,v,i,_)}))})))}es(e,i,a,u){return ly(i)||u.isEqual(yt.min())?Q.resolve(null):this.Zi.getDocuments(e,a).next(f=>{const d=this.rs(i,f);return this.ss(i,d,a,u)?Q.resolve(null):(ls()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),us(i)),this.os(e,d,i,O0(u,-1)).next(g=>g))})}rs(e,i){let a=new be(d_(e));return i.forEach((u,f)=>{$o(e,f)&&(a=a.add(f))}),a}ss(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}ts(e,i,a){return ls()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",us(i)),this.Zi.getDocumentsMatchingQuery(e,i,br.min(),a)}os(e,i,a,u){return this.Zi.getDocumentsMatchingQuery(e,a,u).next(f=>(i.forEach(d=>{f=f.insert(d.key,d)}),f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i,a,u){this.persistence=e,this._s=i,this.serializer=u,this.us=new te(It),this.cs=new ma(f=>Zh(f),$h),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(a)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.us))}}function cS(s,e,i,a){return new oS(s,e,i,a)}async function x_(s,e){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(f=>(u=f,i.Ps(e),i.mutationQueue.getAllMutationBatches(a))).next(f=>{const d=[],g=[];let _=Ct();for(const v of u){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of f){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Ts:v,removedBatchIds:d,addedBatchIds:g}))})})}function fS(s,e){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),f=i.hs.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const O=v.batch,B=O.keys();let j=Q.resolve();return B.forEach(X=>{j=j.next(()=>A.getEntry(_,X)).next(tt=>{const Z=v.docVersions.get(X);Ht(Z!==null),tt.version.compareTo(Z)<0&&(O.applyToRemoteDocument(tt,v),tt.isValidDocument()&&(tt.setReadTime(v.commitVersion),A.addEntry(tt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(_,O))}(i,a,e,f).next(()=>f.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=Ct();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function L_(s){const e=vt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Gr.getLastRemoteSnapshotVersion(i))}function hS(s,e){const i=vt(s),a=e.snapshotVersion;let u=i.us;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const d=i.hs.newChangeBuffer({trackRemovals:!0});u=i.us;const g=[];e.targetChanges.forEach((A,O)=>{const B=u.get(O);if(!B)return;g.push(i.Gr.removeMatchingKeys(f,A.removedDocuments,O).next(()=>i.Gr.addMatchingKeys(f,A.addedDocuments,O)));let j=B.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(O)!==null?j=j.withResumeToken(qe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,a)),u=u.insert(O,j),function(tt,Z,St){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=3e8?!0:St.addedDocuments.size+St.modifiedDocuments.size+St.removedDocuments.size>0}(B,j,A)&&g.push(i.Gr.updateTargetData(f,j))});let _=Ui(),v=Ct();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))}),g.push(dS(f,d,e.documentUpdates).next(A=>{_=A.Is,v=A.ds})),!a.isEqual(yt.min())){const A=i.Gr.getLastRemoteSnapshotVersion(f).next(O=>i.Gr.setTargetsMetadata(f,f.currentSequenceNumber,a));g.push(A)}return Q.waitFor(g).next(()=>d.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,_,v)).next(()=>_)}).then(f=>(i.us=u,f))}function dS(s,e,i){let a=Ct(),u=Ct();return i.forEach(f=>a=a.add(f)),e.getEntries(s,a).next(f=>{let d=Ui();return i.forEach((g,_)=>{const v=f.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(u=u.add(g)),_.isNoDocument()&&_.version.isEqual(yt.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it("LocalStore","Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Is:d,ds:u}})}function mS(s,e){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function gS(s,e){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Gr.getTargetData(a,e).next(f=>f?(u=f,Q.resolve(u)):i.Gr.allocateTargetId(a).next(d=>(u=new _r(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Gr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.us.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.us=i.us.insert(a.targetId,a),i.cs.set(e,a.targetId)),a})}async function Bh(s,e,i){const a=vt(s),u=a.us.get(e),f=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",f,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Ss(d))throw d;it("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}a.us=a.us.remove(e),a.cs.delete(u.target)}function vy(s,e,i){const a=vt(s);let u=yt.min(),f=Ct();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const O=vt(_),B=O.cs.get(A);return B!==void 0?Q.resolve(O.us.get(B)):O.Gr.getTargetData(v,A)}(a,d,ei(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Gr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{f=_})}).next(()=>a._s.getDocumentsMatchingQuery(d,e,i?u:yt.min(),i?f:Ct())).next(g=>(pS(a,iA(e),g),{documents:g,Es:f})))}function pS(s,e,i){let a=s.ls.get(e)||yt.min();i.forEach((u,f)=>{f.readTime.compareTo(a)>0&&(a=f.readTime)}),s.ls.set(e,a)}class Ey{constructor(){this.activeTargetIds=oA()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yS{constructor(){this._o=new Ey,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,i,a){this.ao[e]=i}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Ey,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){it("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){it("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo=null;function _h(){return wo===null?wo=function(){return 268435456+Math.round(2147483648*Math.random())}():wo++,"0x"+wo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const je="WebChannelConnection";class TS extends class{get Co(){return!1}constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const a=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Fo=a+"://"+i.host,this.Mo=`projects/${u}/databases/${f}`,this.xo=this.databaseId.database==="(default)"?`project_id=${u}`:`project_id=${u}&database_id=${f}`}Oo(i,a,u,f,d){const g=_h(),_=this.No(i,a.toUriEncodedString());it("RestConnection",`Sending RPC '${i}' ${g}:`,_,u);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(v,f,d),this.Lo(i,_,v,u).then(A=>(it("RestConnection",`Received RPC '${i}' ${g}: `,A),A),A=>{throw ds("RestConnection",`RPC '${i}' ${g} failed with error: `,A,"url: ",_,"request:",u),A})}ko(i,a,u,f,d,g){return this.Oo(i,a,u,f,d)}Bo(i,a,u){i["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ts}(),i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((f,d)=>i[d]=f),u&&u.headers.forEach((f,d)=>i[d]=f)}No(i,a){const u=vS[i];return`${this.Fo}/v1/${a}:${u}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,i,a,u){const f=_h();return new Promise((d,g)=>{const _=new Ky;_.setWithCredentials(!0),_.listenOnce(Xy.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Vo.NO_ERROR:const A=_.getResponseJson();it(je,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),d(A);break;case Vo.TIMEOUT:it(je,`RPC '${e}' ${f} timed out`),g(new rt(F.DEADLINE_EXCEEDED,"Request time out"));break;case Vo.HTTP_ERROR:const O=_.getStatus();if(it(je,`RPC '${e}' ${f} failed with status:`,O,"response text:",_.getResponseText()),O>0){let B=_.getResponseJson();Array.isArray(B)&&(B=B[0]);const j=B==null?void 0:B.error;if(j&&j.status&&j.message){const X=function(Z){const St=Z.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(St)>=0?St:F.UNKNOWN}(j.status);g(new rt(X,j.message))}else g(new rt(F.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new rt(F.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{it(je,`RPC '${e}' ${f} completed.`)}});const v=JSON.stringify(u);it(je,`RPC '${e}' ${f} sending request:`,u),_.send(i,"POST",v,a,15)})}qo(e,i,a){const u=_h(),f=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Jy(),g=$y(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Bo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=f.join("");it(je,`Creating RPC '${e}' stream ${u}: ${A}`,_);const O=d.createWebChannel(A,_);let B=!1,j=!1;const X=new ES({Eo:Z=>{j?it(je,`Not sending because RPC '${e}' stream ${u} is closed:`,Z):(B||(it(je,`Opening RPC '${e}' stream ${u} transport.`),O.open(),B=!0),it(je,`RPC '${e}' stream ${u} sending:`,Z),O.send(Z))},Ao:()=>O.close()}),tt=(Z,St,pt)=>{Z.listen(St,J=>{try{pt(J)}catch(ht){setTimeout(()=>{throw ht},0)}})};return tt(O,Ml.EventType.OPEN,()=>{j||(it(je,`RPC '${e}' stream ${u} transport opened.`),X.So())}),tt(O,Ml.EventType.CLOSE,()=>{j||(j=!0,it(je,`RPC '${e}' stream ${u} transport closed`),X.Do())}),tt(O,Ml.EventType.ERROR,Z=>{j||(j=!0,ds(je,`RPC '${e}' stream ${u} transport errored:`,Z),X.Do(new rt(F.UNAVAILABLE,"The operation could not be completed")))}),tt(O,Ml.EventType.MESSAGE,Z=>{var St;if(!j){const pt=Z.data[0];Ht(!!pt);const J=pt,ht=(J==null?void 0:J.error)||((St=J[0])===null||St===void 0?void 0:St.error);if(ht){it(je,`RPC '${e}' stream ${u} received error:`,ht);const ot=ht.status;let Et=function(S){const D=me[S];if(D!==void 0)return b_(D)}(ot),M=ht.message;Et===void 0&&(Et=F.INTERNAL,M="Unknown error status: "+ot+" with message "+ht.message),j=!0,X.Do(new rt(Et,M)),O.close()}else it(je,`RPC '${e}' stream ${u} received:`,pt),X.vo(pt)}}),tt(g,Zy.STAT_EVENT,Z=>{Z.stat===Dh.PROXY?it(je,`RPC '${e}' stream ${u} detected buffering proxy`):Z.stat===Dh.NOPROXY&&it(je,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{X.bo()},0),X}}function vh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(s){return new CA(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e,i,a=1e3,u=1.5,f=6e4){this.li=e,this.timerId=i,this.Qo=a,this.Ko=u,this.$o=f,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const i=Math.floor(this.Uo+this.Ho()),a=Math.max(0,Date.now()-this.Go),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Uo} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,u,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,i,a,u,f,d,g,_){this.li=e,this.Yo=a,this.Zo=u,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new z_(e,i)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,i){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():i&&i.code===F.RESOURCE_EXHAUSTED?(Mi(i.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):i&&i.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(i)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),i=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.Xo===i&&this.I_(a,u)},a=>{e(()=>{const u=new rt(F.UNKNOWN,"Fetching auth token failed: "+a.message);return this.d_(u)})})}I_(e,i){const a=this.T_(this.Xo);this.stream=this.E_(e,i),this.stream.Ro(()=>{a(()=>this.listener.Ro())}),this.stream.mo(()=>{a(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(u=>{a(()=>this.d_(u))}),this.stream.onMessage(u=>{a(()=>++this.n_==1?this.A_(u):this.onNext(u))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return it("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return i=>{this.li.enqueueAndForget(()=>this.Xo===e?i():(it("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AS extends B_{constructor(e,i,a,u,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=f}E_(e,i){return this.connection.qo("Listen",e,i)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const i=NA(this.serializer,e),a=function(f){if(!("targetChange"in f))return yt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?ni(d.readTime):yt.min()}(e);return this.listener.R_(i,a)}V_(e){const i={};i.database=zh(this.serializer),i.addTarget=function(f,d){let g;const _=d.target;if(g=Nh(_)?{documents:UA(f,_)}:{query:xA(f,_).ct},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=D_(f,d.resumeToken);const v=Uh(f,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(yt.min())>0){g.readTime=Ho(f,d.snapshotVersion.toTimestamp());const v=Uh(f,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=zA(this.serializer,e);a&&(i.labels=a),this.c_(i)}m_(e){const i={};i.database=zh(this.serializer),i.removeTarget=e,this.c_(i)}}class SS extends B_{constructor(e,i,a,u,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=f}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,i){return this.connection.qo("Write",e,i)}A_(e){return Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const i=MA(e.writeResults,e.commitTime),a=ni(e.commitTime);return this.listener.y_(a,i)}w_(){const e={};e.database=zh(this.serializer),this.c_(e)}g_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>OA(this.serializer,a))};this.c_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS extends class{}{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.S_=!1}b_(){if(this.S_)throw new rt(F.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,i,a,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,d])=>this.connection.Oo(e,xh(i,a),u,f,d)).catch(f=>{throw f.name==="FirebaseError"?(f.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new rt(F.UNKNOWN,f.toString())})}ko(e,i,a,u,f){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.ko(e,xh(i,a),u,d,g,f)).catch(d=>{throw d.name==="FirebaseError"?(d.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt(F.UNKNOWN,d.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class RS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Mi(i),this.C_=!1):it("OnlineStateTracker",i)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,i,a,u,f){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=f,this.Q_.uo(d=>{a.enqueueAndForget(async()=>{ga(this)&&(it("RemoteStore","Restarting streams for network reachability change."),await async function(_){const v=vt(_);v.k_.add(4),await Zl(v),v.K_.set("Unknown"),v.k_.delete(4),await nc(v)}(this))})}),this.K_=new RS(a,u)}}async function nc(s){if(ga(s))for(const e of s.q_)await e(!0)}async function Zl(s){for(const e of s.q_)await e(!1)}function q_(s,e){const i=vt(s);i.L_.has(e.targetId)||(i.L_.set(e.targetId,e),od(i)?ud(i):Rs(i).s_()&&ld(i,e))}function sd(s,e){const i=vt(s),a=Rs(i);i.L_.delete(e),a.s_()&&P_(i,e),i.L_.size===0&&(a.s_()?a.a_():ga(i)&&i.K_.set("Unknown"))}function ld(s,e){if(s.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Rs(s).V_(e)}function P_(s,e){s.U_.xe(e),Rs(s).m_(e)}function ud(s){s.U_=new bA({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>s.L_.get(e)||null,nt:()=>s.datastore.serializer.databaseId}),Rs(s).start(),s.K_.F_()}function od(s){return ga(s)&&!Rs(s).i_()&&s.L_.size>0}function ga(s){return vt(s).k_.size===0}function k_(s){s.U_=void 0}async function DS(s){s.K_.set("Online")}async function CS(s){s.L_.forEach((e,i)=>{ld(s,e)})}async function VS(s,e){k_(s),od(s)?(s.K_.O_(e),ud(s)):s.K_.set("Unknown")}async function IS(s,e,i){if(s.K_.set("Online"),e instanceof w_&&e.state===2&&e.cause)try{await async function(u,f){const d=f.cause;for(const g of f.targetIds)u.L_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.L_.delete(g),u.U_.removeTarget(g))}(s,e)}catch(a){it("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Go(s,a)}else if(e instanceof Mo?s.U_.$e(e):e instanceof R_?s.U_.Je(e):s.U_.Ge(e),!i.isEqual(yt.min()))try{const a=await L_(s.localStore);i.compareTo(a)>=0&&await function(f,d){const g=f.U_.it(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=f.L_.get(v);A&&f.L_.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=f.L_.get(_);if(!A)return;f.L_.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),P_(f,_);const O=new _r(A.target,_,v,A.sequenceNumber);ld(f,O)}),f.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){it("RemoteStore","Failed to raise snapshot:",a),await Go(s,a)}}async function Go(s,e,i){if(!Ss(e))throw e;s.k_.add(1),await Zl(s),s.K_.set("Offline"),i||(i=()=>L_(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it("RemoteStore","Retrying IndexedDB access"),await i(),s.k_.delete(1),await nc(s)})}function H_(s,e){return e().catch(i=>Go(s,i,e))}async function ic(s){const e=vt(s),i=Cr(e);let a=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;NS(e);)try{const u=await mS(e.localStore,a);if(u===null){e.B_.length===0&&i.a_();break}a=u.batchId,OS(e,u)}catch(u){await Go(e,u)}j_(e)&&G_(e)}function NS(s){return ga(s)&&s.B_.length<10}function OS(s,e){s.B_.push(e);const i=Cr(s);i.s_()&&i.f_&&i.g_(e.mutations)}function j_(s){return ga(s)&&!Cr(s).i_()&&s.B_.length>0}function G_(s){Cr(s).start()}async function MS(s){Cr(s).w_()}async function US(s){const e=Cr(s);for(const i of s.B_)e.g_(i.mutations)}async function xS(s,e,i){const a=s.B_.shift(),u=td.from(a,e,i);await H_(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await ic(s)}async function LS(s,e){e&&Cr(s).f_&&await async function(a,u){if(function(d){return TA(d)&&d!==F.ABORTED}(u.code)){const f=a.B_.shift();Cr(a).__(),await H_(a,()=>a.remoteSyncer.rejectFailedWrite(f.batchId,u)),await ic(a)}}(s,e),j_(s)&&G_(s)}async function Ay(s,e){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),it("RemoteStore","RemoteStore received new credentials");const a=ga(i);i.k_.add(3),await Zl(i),a&&i.K_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.k_.delete(3),await nc(i)}async function zS(s,e){const i=vt(s);e?(i.k_.delete(2),await nc(i)):e||(i.k_.add(2),await Zl(i),i.K_.set("Unknown"))}function Rs(s){return s.W_||(s.W_=function(i,a,u){const f=vt(i);return f.b_(),new AS(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(s.datastore,s.asyncQueue,{Ro:DS.bind(null,s),mo:CS.bind(null,s),po:VS.bind(null,s),R_:IS.bind(null,s)}),s.q_.push(async e=>{e?(s.W_.__(),od(s)?ud(s):s.K_.set("Unknown")):(await s.W_.stop(),k_(s))})),s.W_}function Cr(s){return s.G_||(s.G_=function(i,a,u){const f=vt(i);return f.b_(),new SS(a,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(s.datastore,s.asyncQueue,{Ro:()=>Promise.resolve(),mo:MS.bind(null,s),po:LS.bind(null,s),p_:US.bind(null,s),y_:xS.bind(null,s)}),s.q_.push(async e=>{e?(s.G_.__(),await ic(s)):(await s.G_.stop(),s.B_.length>0&&(it("RemoteStore",`Stopping write stream with ${s.B_.length} pending writes`),s.B_=[]))})),s.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,i,a,u,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=f,this.deferred=new Ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,f){const d=Date.now()+a,g=new cd(e,i,d,u,f);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fd(s,e){if(Mi("AsyncQueue",`${e}: ${s}`),Ss(s))return new rt(F.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{static emptySet(e){return new hs(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=Ul(),this.sortedSet=new te(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof hs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=a.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new hs;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(){this.z_=new te(ft.comparator)}track(e){const i=e.doc.key,a=this.z_.get(i);a?e.type!==0&&a.type===3?this.z_=this.z_.insert(i,e):e.type===3&&a.type!==1?this.z_=this.z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.z_=this.z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.z_=this.z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.z_=this.z_.remove(i):e.type===1&&a.type===2?this.z_=this.z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.z_=this.z_.insert(i,{type:2,doc:e.doc}):gt():this.z_=this.z_.insert(i,e)}j_(){const e=[];return this.z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class _s{constructor(e,i,a,u,f,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,u,f){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new _s(e,i,hs.emptySet(i),d,a,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zo(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class qS{constructor(){this.queries=by(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(i,a){const u=vt(i),f=u.queries;u.queries=by(),f.forEach((d,g)=>{for(const _ of g.J_)_.onError(a)})})(this,new rt(F.ABORTED,"Firestore shutting down"))}}function by(){return new ma(s=>h_(s),Zo)}async function PS(s,e){const i=vt(s);let a=3;const u=e.query;let f=i.queries.get(u);f?!f.Y_()&&e.Z_()&&(a=2):(f=new BS,a=e.Z_()?0:1);try{switch(a){case 0:f.H_=await i.onListen(u,!0);break;case 1:f.H_=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=fd(d,`Initialization of query '${us(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,f),f.J_.push(e),e.ea(i.onlineState),f.H_&&e.ta(f.H_)&&hd(i)}async function kS(s,e){const i=vt(s),a=e.query;let u=3;const f=i.queries.get(a);if(f){const d=f.J_.indexOf(e);d>=0&&(f.J_.splice(d,1),f.J_.length===0?u=e.Z_()?0:1:!f.Y_()&&e.Z_()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function HS(s,e){const i=vt(s);let a=!1;for(const u of e){const f=u.query,d=i.queries.get(f);if(d){for(const g of d.J_)g.ta(u)&&(a=!0);d.H_=u}}a&&hd(i)}function jS(s,e,i){const a=vt(s),u=a.queries.get(e);if(u)for(const f of u.J_)f.onError(i);a.queries.delete(e)}function hd(s){s.X_.forEach(e=>{e.next()})}var qh,Ry;(Ry=qh||(qh={})).na="default",Ry.Cache="cache";class GS{constructor(e,i,a){this.query=e,this.ra=i,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=a||{}}ta(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new _s(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ia?this.oa(e)&&(this.ra.next(e),i=!0):this._a(e,this.onlineState)&&(this.aa(e),i=!0),this.sa=e,i}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let i=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),i=!0),i}_a(e,i){if(!e.fromCache||!this.Z_())return!0;const a=i!=="Offline";return(!this.options.ua||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const i=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}aa(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==qh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this.key=e}}class F_{constructor(e){this.key=e}}class QS{constructor(e,i){this.query=e,this.Ea=i,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ct(),this.mutatedKeys=Ct(),this.Va=d_(e),this.ma=new hs(this.Va)}get fa(){return this.Ea}ga(e,i){const a=i?i.pa:new Sy,u=i?i.ma:this.ma;let f=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,v=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,O)=>{const B=u.get(A),j=$o(this.query,O)?O:null,X=!!B&&this.mutatedKeys.has(B.key),tt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Z=!1;B&&j?B.data.isEqual(j.data)?X!==tt&&(a.track({type:3,doc:j}),Z=!0):this.ya(B,j)||(a.track({type:2,doc:j}),Z=!0,(_&&this.Va(j,_)>0||v&&this.Va(j,v)<0)&&(g=!0)):!B&&j?(a.track({type:0,doc:j}),Z=!0):B&&!j&&(a.track({type:1,doc:B}),Z=!0,(_||v)&&(g=!0)),Z&&(j?(d=d.add(j),f=tt?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),a.track({type:1,doc:A})}return{ma:d,pa:a,ss:g,mutatedKeys:f}}ya(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const f=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const d=e.pa.j_();d.sort((A,O)=>function(j,X){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return tt(j)-tt(X)}(A.type,O.type)||this.Va(A.doc,O.doc)),this.wa(a),u=u!=null&&u;const g=i&&!u?this.Sa():[],_=this.Ra.size===0&&this.current&&!u?1:0,v=_!==this.Aa;return this.Aa=_,d.length!==0||v?{snapshot:new _s(this.query,e.ma,f,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),ba:g}:{ba:g}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Sy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(i=>this.Ea=this.Ea.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.Ea=this.Ea.delete(i)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ct(),this.ma.forEach(a=>{this.Da(a.key)&&(this.Ra=this.Ra.add(a.key))});const i=[];return e.forEach(a=>{this.Ra.has(a)||i.push(new F_(a))}),this.Ra.forEach(a=>{e.has(a)||i.push(new Q_(a))}),i}va(e){this.Ea=e.Es,this.Ra=Ct();const i=this.ga(e.documents);return this.applyChanges(i,!0)}Ca(){return _s.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class FS{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class YS{constructor(e){this.key=e,this.Fa=!1}}class KS{constructor(e,i,a,u,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Ma={},this.xa=new ma(g=>h_(g),Zo),this.Oa=new Map,this.Na=new Set,this.Ba=new te(ft.comparator),this.La=new Map,this.ka=new id,this.qa={},this.Qa=new Map,this.Ka=ys.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function XS(s,e,i=!0){const a=J_(s);let u;const f=a.xa.get(e);return f?(a.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Ca()):u=await Y_(a,e,i,!0),u}async function ZS(s,e){const i=J_(s);await Y_(i,e,!0,!1)}async function Y_(s,e,i,a){const u=await gS(s.localStore,ei(e)),f=u.targetId,d=s.sharedClientState.addLocalQueryTarget(f,i);let g;return a&&(g=await $S(s,e,f,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&q_(s.remoteStore,u),g}async function $S(s,e,i,a,u){s.Ua=(O,B,j)=>async function(tt,Z,St,pt){let J=Z.view.ga(St);J.ss&&(J=await vy(tt.localStore,Z.query,!1).then(({documents:M})=>Z.view.ga(M,J)));const ht=pt&&pt.targetChanges.get(Z.targetId),ot=pt&&pt.targetMismatches.get(Z.targetId)!=null,Et=Z.view.applyChanges(J,tt.isPrimaryClient,ht,ot);return Dy(tt,Z.targetId,Et.ba),Et.snapshot}(s,O,B,j);const f=await vy(s.localStore,e,!0),d=new QS(e,f.Es),g=d.ga(f.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),v=d.applyChanges(g,s.isPrimaryClient,_);Dy(s,i,v.ba);const A=new FS(e,i,d);return s.xa.set(e,A),s.Oa.has(i)?s.Oa.get(i).push(e):s.Oa.set(i,[e]),v.snapshot}async function JS(s,e,i){const a=vt(s),u=a.xa.get(e),f=a.Oa.get(u.targetId);if(f.length>1)return a.Oa.set(u.targetId,f.filter(d=>!Zo(d,e))),void a.xa.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Bh(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&sd(a.remoteStore,u.targetId),Ph(a,u.targetId)}).catch(As)):(Ph(a,u.targetId),await Bh(a.localStore,u.targetId,!0))}async function WS(s,e){const i=vt(s),a=i.xa.get(e),u=i.Oa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),sd(i.remoteStore,a.targetId))}async function t1(s,e,i){const a=l1(s);try{const u=await function(d,g){const _=vt(d),v=Se.now(),A=g.reduce((j,X)=>j.add(X.key),Ct());let O,B;return _.persistence.runTransaction("Locally write mutations","readwrite",j=>{let X=Ui(),tt=Ct();return _.hs.getEntries(j,A).next(Z=>{X=Z,X.forEach((St,pt)=>{pt.isValidDocument()||(tt=tt.add(St))})}).next(()=>_.localDocuments.getOverlayedDocuments(j,X)).next(Z=>{O=Z;const St=[];for(const pt of g){const J=pA(pt,O.get(pt.key).overlayedDocument);J!=null&&St.push(new Ir(pt.key,J,i_(J.value.mapValue),Ln.exists(!0)))}return _.mutationQueue.addMutationBatch(j,v,St,g)}).next(Z=>{B=Z;const St=Z.applyToLocalDocumentSet(O,tt);return _.documentOverlayCache.saveOverlays(j,Z.batchId,St)})}).then(()=>({batchId:B.batchId,changes:g_(O)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,_){let v=d.qa[d.currentUser.toKey()];v||(v=new te(It)),v=v.insert(g,_),d.qa[d.currentUser.toKey()]=v}(a,u.batchId,i),await $l(a,u.changes),await ic(a.remoteStore)}catch(u){const f=fd(u,"Failed to persist write");i.reject(f)}}async function K_(s,e){const i=vt(s);try{const a=await hS(i.localStore,e);e.targetChanges.forEach((u,f)=>{const d=i.La.get(f);d&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Fa=!0:u.modifiedDocuments.size>0?Ht(d.Fa):u.removedDocuments.size>0&&(Ht(d.Fa),d.Fa=!1))}),await $l(i,a,e)}catch(a){await As(a)}}function wy(s,e,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.xa.forEach((f,d)=>{const g=d.view.ea(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const _=vt(d);_.onlineState=g;let v=!1;_.queries.forEach((A,O)=>{for(const B of O.J_)B.ea(g)&&(v=!0)}),v&&hd(_)}(a.eventManager,e),u.length&&a.Ma.R_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function e1(s,e,i){const a=vt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.La.get(e),f=u&&u.key;if(f){let d=new te(ft.comparator);d=d.insert(f,Qe.newNoDocument(f,yt.min()));const g=Ct().add(f),_=new tc(yt.min(),new Map,new te(It),d,g);await K_(a,_),a.Ba=a.Ba.remove(f),a.La.delete(e),dd(a)}else await Bh(a.localStore,e,!1).then(()=>Ph(a,e,i)).catch(As)}async function n1(s,e){const i=vt(s),a=e.batch.batchId;try{const u=await fS(i.localStore,e);Z_(i,a,null),X_(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,u)}catch(u){await As(u)}}async function i1(s,e,i){const a=vt(s);try{const u=await function(d,g){const _=vt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(O=>(Ht(O!==null),A=O.keys(),_.mutationQueue.removeMutationBatch(v,O))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);Z_(a,e,i),X_(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $l(a,u)}catch(u){await As(u)}}function X_(s,e){(s.Qa.get(e)||[]).forEach(i=>{i.resolve()}),s.Qa.delete(e)}function Z_(s,e,i){const a=vt(s);let u=a.qa[a.currentUser.toKey()];if(u){const f=u.get(e);f&&(i?f.reject(i):f.resolve(),u=u.remove(e)),a.qa[a.currentUser.toKey()]=u}}function Ph(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.Oa.get(e))s.xa.delete(a),i&&s.Ma.Wa(a,i);s.Oa.delete(e),s.isPrimaryClient&&s.ka.yr(e).forEach(a=>{s.ka.containsKey(a)||$_(s,a)})}function $_(s,e){s.Na.delete(e.path.canonicalString());const i=s.Ba.get(e);i!==null&&(sd(s.remoteStore,i),s.Ba=s.Ba.remove(e),s.La.delete(i),dd(s))}function Dy(s,e,i){for(const a of i)a instanceof Q_?(s.ka.addReference(a.key,e),r1(s,a)):a instanceof F_?(it("SyncEngine","Document no longer in limbo: "+a.key),s.ka.removeReference(a.key,e),s.ka.containsKey(a.key)||$_(s,a.key)):gt()}function r1(s,e){const i=e.key,a=i.path.canonicalString();s.Ba.get(i)||s.Na.has(a)||(it("SyncEngine","New document in limbo: "+i),s.Na.add(a),dd(s))}function dd(s){for(;s.Na.size>0&&s.Ba.size<s.maxConcurrentLimboResolutions;){const e=s.Na.values().next().value;s.Na.delete(e);const i=new ft(Xt.fromString(e)),a=s.Ka.next();s.La.set(a,new YS(i)),s.Ba=s.Ba.insert(i,a),q_(s.remoteStore,new _r(ei(c_(i.path)),a,"TargetPurposeLimboResolution",Yo.oe))}}async function $l(s,e,i){const a=vt(s),u=[],f=[],d=[];a.xa.isEmpty()||(a.xa.forEach((g,_)=>{d.push(a.Ua(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const O=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,O?"current":"not-current")}if(v){u.push(v);const O=ad.zi(_.targetId,v);f.push(O)}}))}),await Promise.all(d),a.Ma.R_(u),await async function(_,v){const A=vt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",O=>Q.forEach(v,B=>Q.forEach(B.Wi,j=>A.persistence.referenceDelegate.addReference(O,B.targetId,j)).next(()=>Q.forEach(B.Gi,j=>A.persistence.referenceDelegate.removeReference(O,B.targetId,j)))))}catch(O){if(!Ss(O))throw O;it("LocalStore","Failed to update sequence numbers: "+O)}for(const O of v){const B=O.targetId;if(!O.fromCache){const j=A.us.get(B),X=j.snapshotVersion,tt=j.withLastLimboFreeSnapshotVersion(X);A.us=A.us.insert(B,tt)}}}(a.localStore,f))}async function a1(s,e){const i=vt(s);if(!i.currentUser.isEqual(e)){it("SyncEngine","User change. New user:",e.toKey());const a=await x_(i.localStore,e);i.currentUser=e,function(f,d){f.Qa.forEach(g=>{g.forEach(_=>{_.reject(new rt(F.CANCELLED,d))})}),f.Qa.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Ts)}}function s1(s,e){const i=vt(s),a=i.La.get(e);if(a&&a.Fa)return Ct().add(a.key);{let u=Ct();const f=i.Oa.get(e);if(!f)return u;for(const d of f){const g=i.xa.get(d);u=u.unionWith(g.view.fa)}return u}}function J_(s){const e=vt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=K_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=e1.bind(null,e),e.Ma.R_=HS.bind(null,e.eventManager),e.Ma.Wa=jS.bind(null,e.eventManager),e}function l1(s){const e=vt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=n1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i1.bind(null,e),e}class Qo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ec(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,i){return null}Ya(e,i){return null}Ha(e){return cS(this.persistence,new uS,e.initialUser,this.serializer)}ja(e){return new U_(rd.ei,this.serializer)}za(e){return new yS}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qo.provider={build:()=>new Qo};class u1 extends Qo{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,i){Ht(this.persistence.referenceDelegate instanceof jo);const a=this.persistence.referenceDelegate.garbageCollector;return new YA(a,e.asyncQueue,i)}ja(e){const i=this.cacheSizeBytes!==void 0?en.withCacheSize(this.cacheSizeBytes):en.DEFAULT;return new U_(a=>jo.ei(a,i),this.serializer)}}class kh{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>wy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=a1.bind(null,this.syncEngine),await zS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qS}()}createDatastore(e){const i=ec(e.databaseInfo.databaseId),a=function(f){return new TS(f)}(e.databaseInfo);return function(f,d,g,_){return new bS(f,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,f,d,g){return new wS(a,u,f,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>wy(this.syncEngine,i,0),function(){return Ty.p()?new Ty:new _S}())}createSyncEngine(e,i){return function(u,f,d,g,_,v,A){const O=new KS(u,f,d,g,_,v);return A&&(O.$a=!0),O}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const f=vt(u);it("RemoteStore","RemoteStore shutting down."),f.k_.add(5),await Zl(f),f.Q_.shutdown(),f.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}kh.provider={build:()=>new kh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,i,a,u,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=t_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(a,async d=>{it("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=fd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Eh(s,e){s.asyncQueue.verifyOperationInProgress(),it("FirestoreClient","Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await x_(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function Cy(s,e){s.asyncQueue.verifyOperationInProgress();const i=await f1(s);it("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Ay(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Ay(e.remoteStore,u)),s._onlineComponents=e}async function f1(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it("FirestoreClient","Using user provided OfflineComponentProvider");try{await Eh(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===F.FAILED_PRECONDITION||u.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;ds("Error using user provided cache. Falling back to memory cache: "+i),await Eh(s,new Qo)}}else it("FirestoreClient","Using default OfflineComponentProvider"),await Eh(s,new u1(void 0));return s._offlineComponents}async function W_(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it("FirestoreClient","Using user provided OnlineComponentProvider"),await Cy(s,s._uninitializedComponentsProvider._online)):(it("FirestoreClient","Using default OnlineComponentProvider"),await Cy(s,new kh))),s._onlineComponents}function h1(s){return W_(s).then(e=>e.syncEngine)}async function d1(s){const e=await W_(s),i=e.eventManager;return i.onListen=XS.bind(null,e.syncEngine),i.onUnlisten=JS.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ZS.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=WS.bind(null,e.syncEngine),i}function m1(s,e,i={}){const a=new Ar;return s.asyncQueue.enqueueAndForget(async()=>function(f,d,g,_,v){const A=new o1({next:B=>{A.eu(),d.enqueueAndForget(()=>kS(f,O)),B.fromCache&&_.source==="server"?v.reject(new rt(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(B)},error:B=>v.reject(B)}),O=new GS(g,A,{includeMetadataChanges:!0,ua:!0});return PS(f,O)}(await d1(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(s,e,i){if(!i)throw new rt(F.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function g1(s,e,i,a){if(e===!0&&a===!0)throw new rt(F.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function Iy(s){if(!ft.isDocumentKey(s))throw new rt(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Ny(s){if(ft.isDocumentKey(s))throw new rt(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function rc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt()}function da(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new rt(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=rc(s);throw new rt(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oy{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new rt(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(i=e.ssl)===null||i===void 0||i;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new rt(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(f){if(f.timeoutSeconds!==void 0){if(isNaN(f.timeoutSeconds))throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new rt(F.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ac{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new rt(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oy(e),e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new S0;switch(a.type){case"firstParty":return new D0(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new rt(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=Vy.get(i);a&&(it("ComponentProvider","Removing Datastore"),Vy.delete(i),a.terminate())}(this),Promise.resolve()}}function p1(s,e,i,a={}){var u;const f=(s=da(s,ac))._getSettings(),d=`${e}:${i}`;if(f.host!=="firestore.googleapis.com"&&f.host!==d&&ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),s._setSettings(Object.assign(Object.assign({},f),{host:d,ssl:!1})),a.mockUserToken){let g,_;if(typeof a.mockUserToken=="string")g=a.mockUserToken,_=Ge.MOCK_USER;else{g=nT(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const v=a.mockUserToken.sub||a.mockUserToken.user_id;if(!v)throw new rt(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Ge(v)}s._authCredentials=new b0(new Wy(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class hn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new hn(this.firestore,e,this._key)}}class Sr extends pa{constructor(e,i,a){super(e,i,c_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hn(this.firestore,null,new ft(e))}withConverter(e){return new Sr(this.firestore,e,this._path)}}function My(s,e,...i){if(s=Ni(s),ev("collection","path",e),s instanceof ac){const a=Xt.fromString(e,...i);return Ny(a),new Sr(s,null,a)}{if(!(s instanceof hn||s instanceof Sr))throw new rt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Ny(a),new Sr(s.firestore,null,a)}}function Hh(s,e,...i){if(s=Ni(s),arguments.length===1&&(e=t_.newId()),ev("doc","path",e),s instanceof ac){const a=Xt.fromString(e,...i);return Iy(a),new hn(s,null,new ft(a))}{if(!(s instanceof hn||s instanceof Sr))throw new rt(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Xt.fromString(e,...i));return Iy(a),new hn(s.firestore,s instanceof Sr?s.converter:null,new ft(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uy{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new z_(this,"async_queue_retry"),this.fu=()=>{const a=vh();a&&it("AsyncQueue","Visibility state changed to "+a.visibilityState),this.r_.Jo()},this.gu=e;const i=vh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const i=vh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const i=new Ar;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ss(e))throw e;it("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const i=this.gu.then(()=>(this.Ru=!0,e().catch(a=>{this.Au=a,this.Ru=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Mi("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.Ru=!1,a))));return this.gu=i,i}enqueueAfterDelay(e,i,a){this.pu(),this.mu.indexOf(e)>-1&&(i=0);const u=cd.createAndSchedule(this,e,i,a,f=>this.Su(f));return this.Eu.push(u),u}pu(){this.Au&&gt()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const i of this.Eu)if(i.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.Eu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const i=this.Eu.indexOf(e);this.Eu.splice(i,1)}}class Jl extends ac{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new Uy,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uy(e),this._firestoreClient=void 0,await e}}}function y1(s,e){const i=typeof s=="object"?s:f0(),a=typeof s=="string"?s:"(default)",u=l0(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const f=tT("firestore");f&&p1(u,...f)}return u}function nv(s){if(s._terminated)throw new rt(F.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||_1(s),s._firestoreClient}function _1(s){var e,i,a;const u=s._freezeSettings(),f=function(g,_,v,A){return new H0(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,tv(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new c1(s._authCredentials,s._appCheckCredentials,s._queue,f,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vs(qe.fromBase64String(e))}catch(i){throw new rt(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new vs(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new rt(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new rt(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new rt(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return It(this._lat,e._lat)||It(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let f=0;f<a.length;++f)if(a[f]!==u[f])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=/^__.*__$/;class E1{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}class iv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function rv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class yd{constructor(e,i,a,u,f,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,f===void 0&&this.Fu(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new yd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.xu({path:a,Nu:!1});return u.Bu(e),u}Lu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.xu({path:a,Nu:!1});return u.Fu(),u}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Fo(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(rv(this.Mu)&&v1.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class T1{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||ec(e)}$u(e,i,a,u=!1){return new yd({Mu:e,methodName:i,Ku:a,path:Be.emptyPath(),Nu:!1,Qu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _d(s){const e=s._freezeSettings(),i=ec(s._databaseId);return new T1(s._databaseId,!!e.ignoreUndefinedProperties,i)}function A1(s,e,i,a,u,f={}){const d=s.$u(f.merge||f.mergeFields?2:0,e,i,u);vd("Data must be an object, but it was:",d,a);const g=av(a,d);let _,v;if(f.merge)_=new fn(d.fieldMask),v=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const O of f.mergeFields){const B=jh(e,O,i);if(!d.contains(B))throw new rt(F.INVALID_ARGUMENT,`Field '${B}' is specified in your field mask but missing from your input data.`);lv(A,B)||A.push(B)}_=new fn(A),v=d.fieldTransforms.filter(O=>_.covers(O.field))}else _=null,v=d.fieldTransforms;return new E1(new nn(g),_,v)}class lc extends md{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lc}}function S1(s,e,i,a){const u=s.$u(1,e,i);vd("Data must be an object, but it was:",u,a);const f=[],d=nn.empty();Vr(a,(_,v)=>{const A=Ed(e,_,i);v=Ni(v);const O=u.Lu(A);if(v instanceof lc)f.push(A);else{const B=Wl(v,O);B!=null&&(f.push(A),d.set(A,B))}});const g=new fn(f);return new iv(d,g,u.fieldTransforms)}function b1(s,e,i,a,u,f){const d=s.$u(1,e,i),g=[jh(e,a,i)],_=[u];if(f.length%2!=0)throw new rt(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let B=0;B<f.length;B+=2)g.push(jh(e,f[B])),_.push(f[B+1]);const v=[],A=nn.empty();for(let B=g.length-1;B>=0;--B)if(!lv(v,g[B])){const j=g[B];let X=_[B];X=Ni(X);const tt=d.Lu(j);if(X instanceof lc)v.push(j);else{const Z=Wl(X,tt);Z!=null&&(v.push(j),A.set(j,Z))}}const O=new fn(v);return new iv(A,O,d.fieldTransforms)}function R1(s,e,i,a=!1){return Wl(i,s.$u(a?4:3,e))}function Wl(s,e){if(sv(s=Ni(s)))return vd("Unsupported field value:",e,s),av(s,e);if(s instanceof md)return function(a,u){if(!rv(u.Mu))throw u.qu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.qu(`${a._methodName}() is not currently supported inside arrays`);const f=a._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(a,u){const f=[];let d=0;for(const g of a){let _=Wl(g,u.ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),f.push(_),d++}return{arrayValue:{values:f}}}(s,e)}return function(a,u){if((a=Ni(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return cA(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const f=Se.fromDate(a);return{timestampValue:Ho(u.serializer,f)}}if(a instanceof Se){const f=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ho(u.serializer,f)}}if(a instanceof gd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof vs)return{bytesValue:D_(u.serializer,a._byteString)};if(a instanceof hn){const f=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(f))throw u.qu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:nd(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof pd)return function(d,g){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.qu("VectorValues must only contain numeric values.");return Jh(g.serializer,_)})}}}}}}(a,u);throw u.qu(`Unsupported field value: ${rc(a)}`)}(s,e)}function av(s,e){const i={};return e_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vr(s,(a,u)=>{const f=Wl(u,e.Ou(a));f!=null&&(i[a]=f)}),{mapValue:{fields:i}}}function sv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof gd||s instanceof vs||s instanceof hn||s instanceof md||s instanceof pd)}function vd(s,e,i){if(!sv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=rc(i);throw a==="an object"?e.qu(s+" a custom object"):e.qu(s+" "+a)}}function jh(s,e,i){if((e=Ni(e))instanceof sc)return e._internalPath;if(typeof e=="string")return Ed(s,e);throw Fo("Field path arguments must be of type string or ",s,!1,void 0,i)}const w1=new RegExp("[~\\*/\\[\\]]");function Ed(s,e,i){if(e.search(w1)>=0)throw Fo(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new sc(...e.split("."))._internalPath}catch{throw Fo(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Fo(s,e,i,a,u){const f=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(f||d)&&(_+=" (found",f&&(_+=` in field ${a}`),d&&(_+=` in document ${u}`),_+=")"),new rt(F.INVALID_ARGUMENT,g+s+_)}function lv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uv{constructor(e,i,a,u,f){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new hn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Td("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class D1 extends uv{data(){return super.data()}}function Td(s,e){return typeof e=="string"?Ed(s,e):e instanceof sc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new rt(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ad{}class ov extends Ad{}function V1(s,e,...i){let a=[];e instanceof Ad&&a.push(e),a=a.concat(i),function(f){const d=f.filter(_=>_ instanceof bd).length,g=f.filter(_=>_ instanceof Sd).length;if(d>1||d>0&&g>0)throw new rt(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const u of a)s=u._apply(s);return s}class Sd extends ov{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new Sd(e,i,a)}_apply(e){const i=this._parse(e);return cv(e._query,i),new pa(e.firestore,e.converter,Oh(e._query,i))}_parse(e){const i=_d(e.firestore);return function(f,d,g,_,v,A,O){let B;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new rt(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){Ly(O,A);const j=[];for(const X of O)j.push(xy(_,f,X));B={arrayValue:{values:j}}}else B=xy(_,f,O)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||Ly(O,A),B=R1(g,d,O,A==="in"||A==="not-in");return ge.create(v,A,B)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}class bd extends Ad{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new bd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:zn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(u,f){let d=u;const g=f.getFlattenedFilters();for(const _ of g)cv(d,_),d=Oh(d,_)}(e._query,i),new pa(e.firestore,e.converter,Oh(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rd extends ov{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Rd(e,i)}_apply(e){const i=function(u,f,d){if(u.startAt!==null)throw new rt(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new rt(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ql(f,d)}(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,function(u,f){const d=u.explicitOrderBy.concat([f]);return new bs(u.path,u.collectionGroup,d,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(e._query,i))}}function I1(s,e="asc"){const i=e,a=Td("orderBy",s);return Rd._create(a,i)}function xy(s,e,i){if(typeof(i=Ni(i))=="string"){if(i==="")throw new rt(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f_(e)&&i.indexOf("/")!==-1)throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Xt.fromString(i));if(!ft.isDocumentKey(a))throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return ey(s,new ft(a))}if(i instanceof hn)return ey(s,i._key);throw new rt(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rc(i)}.`)}function Ly(s,e){if(!Array.isArray(s)||s.length===0)throw new rt(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cv(s,e){const i=function(u,f){for(const d of u)for(const g of d.getFlattenedFilters())if(f.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new rt(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new rt(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class N1{convertValue(e,i="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return Vr(e,(u,f)=>{a[u]=this.convertValue(f,i)}),a}convertVectorValue(e){var i,a,u;const f=(u=(a=(i=e.fields)===null||i===void 0?void 0:i.value.arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ue(d.doubleValue));return new pd(f)}convertGeoPoint(e){return new gd(ue(e.latitude),ue(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=Xo(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=Rr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Xt.fromString(e);Ht(M_(a));const u=new jl(a.get(1),a.get(3)),f=new ft(a.popFirst(5));return u.isEqual(i)||Mi(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class M1 extends uv{constructor(e,i,a,u,f,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Td("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Uo extends M1{data(e={}){return super.data(e)}}class U1{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Do(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Uo(this._firestore,this._userDataWriter,a.key,a,new Do(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new rt(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const _=new Uo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Do(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>f||g.type!==3).map(g=>{const _=new Uo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Do(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:x1(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function x1(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}class L1 extends N1{constructor(e){super(),this.firestore=e}convertBytes(e){return new vs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new hn(this.firestore,null,i)}}function z1(s){s=da(s,pa);const e=da(s.firestore,Jl),i=nv(e),a=new L1(e);return C1(s._query),m1(i,s._query).then(u=>new U1(e,a,s,u))}function B1(s,e,i,...a){s=da(s,hn);const u=da(s.firestore,Jl),f=_d(u);let d;return d=typeof(e=Ni(e))=="string"||e instanceof sc?b1(f,"updateDoc",s._key,e,i,a):S1(f,"updateDoc",s._key,e),wd(u,[d.toMutation(s._key,Ln.exists(!0))])}function q1(s){return wd(da(s.firestore,Jl),[new Wh(s._key,Ln.none())])}function P1(s,e){const i=da(s.firestore,Jl),a=Hh(s),u=O1(s.converter,e);return wd(i,[A1(_d(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Ln.exists(!1))]).then(()=>a)}function wd(s,e){return function(a,u){const f=new Ar;return a.asyncQueue.enqueueAndForget(async()=>t1(await h1(a),u,f)),f.promise}(nv(s),e)}(function(e,i=!0){(function(u){Ts=u})(c0),zo(new Pl("firestore",(a,{instanceIdentifier:u,options:f})=>{const d=a.getProvider("app").getImmediate(),g=new Jl(new R0(a.getProvider("auth-internal")),new V0(a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new rt(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(v.options.projectId,A)}(d,u),d);return f=Object.assign({useFetchStreams:i},f),g._setSettings(f),g},"PUBLIC").setMultipleInstances(!0)),fs(Xp,"4.7.6",e),fs(Xp,"4.7.6","esm2017")})();const k1={apiKey:"AIzaSyCjP2vS3sTPBa1Ex2xIUe-87Lexxp_pUd8",authDomain:"mealtracker-6bcd6.firebaseapp.com",projectId:"mealtracker-6bcd6",storageBucket:"mealtracker-6bcd6.firebasestorage.app",messagingSenderId:"902979427036",appId:"1:902979427036:web:ec0410d60bf86b55f53219",measurementId:"G-2N638FXJHG"},H1=Gy(k1),Co=y1(H1);function j1(){const[s,e]=oa.useState([]),[i,a]=oa.useState(""),[u,f]=oa.useState([]),[d,g]=oa.useState(!1),[_,v]=oa.useState(null);oa.useEffect(()=>{(async()=>{const ht=My(Co,"meals"),ot=V1(ht,I1("date","desc")),M=(await z1(ot)).docs.map(R=>({id:R.id,...R.data()}));e(M)})()},[]);const A=[...new Set(s.map(J=>J.name))],O=J=>{const ht=J.target.value;if(a(ht),ht.trim()){const ot=A.filter(Et=>Et.toLowerCase().includes(ht.toLowerCase())).slice(0,5);f(ot),g(!0)}else f([]),g(!1)},B=async(J=i)=>{if(J.trim()){const ht={name:J.trim(),date:new Date().toISOString()},ot=await P1(My(Co,"meals"),ht);e(Et=>[{...ht,id:ot.id},...Et]),a(""),f([]),g(!1)}},j=J=>{v({...J})},X=()=>{v(null)},tt=async J=>{try{const ht=Hh(Co,"meals",J.id);await B1(ht,{name:J.name}),e(ot=>ot.map(Et=>Et.id===J.id?J:Et)),v(null)}catch(ht){console.error("Error updating meal:",ht)}},Z=async J=>{try{await q1(Hh(Co,"meals",J)),e(ht=>ht.filter(ot=>ot.id!==J))}catch(ht){console.error("Error deleting meal:",ht)}},St=J=>{const ht=new Date(J),Et=Math.abs(new Date-ht);return Math.floor(Et/(1e3*60*60*24))},pt=J=>J===0?"today":J===1?"yesterday":`${J} days ago`;return Wt.jsxs("div",{className:"meal-tracker",children:[Wt.jsx("h1",{children:"Meal History Tracker"}),Wt.jsxs("div",{className:"input-container",children:[Wt.jsxs("div",{className:"input-row",children:[Wt.jsx("input",{type:"text",className:"meal-input",value:i,onChange:O,onKeyDown:J=>{J.key==="Enter"&&B()},placeholder:"Enter meal name",onBlur:()=>{setTimeout(()=>g(!1),200)}}),Wt.jsx("button",{className:"add-button",onClick:()=>B(),children:"Add Meal"})]}),d&&u.length>0&&Wt.jsx("div",{className:"suggestions",children:u.map((J,ht)=>Wt.jsx("div",{className:"suggestion-item",onClick:()=>{B(J)},children:J},ht))})]}),Wt.jsxs("div",{className:"meal-list",children:[s.map(J=>{const ht=St(J.date);return _&&_.id===J.id?Wt.jsxs("div",{className:"meal-item editing",children:[Wt.jsx("input",{type:"text",value:_.name,onChange:ot=>v({..._,name:ot.target.value}),className:"edit-input"}),Wt.jsxs("div",{className:"edit-buttons",children:[Wt.jsx("button",{className:"save-button",onClick:()=>tt(_),children:"Save"}),Wt.jsx("button",{className:"cancel-button",onClick:X,children:"Cancel"})]})]},J.id):Wt.jsxs("div",{className:"meal-item",children:[Wt.jsx("span",{children:J.name}),Wt.jsxs("div",{className:"meal-actions",children:[Wt.jsx("span",{className:"days-ago",children:pt(ht)}),Wt.jsx("button",{className:"edit-button",onClick:()=>j(J),children:"Edit"}),Wt.jsx("button",{className:"delete-button",onClick:()=>Z(J.id),children:"Delete"})]})]},J.id)}),s.length===0&&Wt.jsx("div",{className:"empty-state",children:"No meals logged yet. Add your first meal above!"})]})]})}GE.createRoot(document.getElementById("root")).render(Wt.jsx(oa.StrictMode,{children:Wt.jsx(j1,{})}));
